# –ü—ñ–¥—Å—Ç—É–ø–Ω—ñ –∑–∞–¥–∞—á—ñ –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏

---

## üìã –ê–Ω–æ—Ç–∞—Ü—ñ—è

–¶–µ–π —Ä–æ–∑–¥—ñ–ª –¥–æ—Å–ª—ñ–¥–∂—É—î –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏, —â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏. –í–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—å, —á–æ–º—É —Ä–µ–∫—É—Ä—Å—ñ—è –º–æ–∂–µ –±—É—Ç–∏ —ñ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º, —ñ –ø—Ä–∏—á–∏–Ω–æ—é –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏, —è–∫ –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –º–æ–∂–µ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ "–∑'—ó—Å—Ç–∏" –≤–∞—à—ñ –¥–∞–Ω—ñ, —Ç–∞ —á–æ–º—É –∑–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞—Ö–æ–ø–ª—é—é—Ç—å –±—ñ–ª—å—à–µ, –Ω—ñ–∂ –≤–∏ –æ—á—ñ–∫—É—î—Ç–µ. –£ Rust —Ü—ñ –ø—Ä–æ–±–ª–µ–º–∏ –Ω–∞–±—É–≤–∞—é—Ç—å –æ—Å–æ–±–ª–∏–≤–æ–≥–æ –∑–∞–±–∞—Ä–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É ownership ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ "–≤–∫—Ä–∞—Å—Ç–∏" –≤–∞—à—ñ –¥–∞–Ω—ñ –Ω–∞–∑–∞–≤–∂–¥–∏. –£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ—é –ë–ü–õ–ê —Ü—ñ –∑–Ω–∞–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω—ñ: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à—É–∫—É —à–ª—è—Ö—É –º–æ–∂–µ –ø–µ—Ä–µ–ø–æ–≤–Ω–∏—Ç–∏ —Å—Ç–µ–∫, –∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ö–æ–ø–ª–µ–Ω–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è –≤ –æ–±—Ä–æ–±–Ω–∏–∫—É –ø–æ–¥—ñ–π –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –≤–∏—Ç–æ–∫—É –ø–∞–º'—è—Ç—ñ –∞–±–æ –≥–æ–Ω–∫–∏ –¥–∞–Ω–∏—Ö.

---

## üéØ –¶—ñ–ª—ñ –Ω–∞–≤—á–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

1. **–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—Ç–∏** —Å–∏—Ç—É–∞—Ü—ñ—ó –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É —á–µ—Ä–µ–∑ —Ä–µ–∫—É—Ä—Å—ñ—é
2. **–£–Ω–∏–∫–∞—Ç–∏** –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ –≤ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö
3. **–†–æ–∑—É–º—ñ—Ç–∏** —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –ø–µ—Ä–µ–¥–∞—á–µ—é –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º, –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —Ç–∞ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è–º
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏** –∑–∞–º–∏–∫–∞–Ω–Ω—è –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è
5. **–£–Ω–∏–∫–∞—Ç–∏** –ø—Ä–æ–±–ª–µ–º –∑ –≥–ª–æ–±–∞–ª—å–Ω–∏–º —Å—Ç–∞–Ω–æ–º —Ç–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏–º–∏ –∑–º—ñ–Ω–Ω–∏–º–∏
6. **–†–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏** —Ç—Ä–µ–π—Ç–∏ `Fn`, `FnMut` —Ç–∞ `FnOnce`
7. **–ü–∏—Å–∞—Ç–∏** —Ñ—É–Ω–∫—Ü—ñ—ó –∑ –∫–æ—Ä–µ–∫—Ç–Ω–∏–º–∏ lifetime-–∞–Ω–æ—Ç–∞—Ü—ñ—è–º–∏

---

## üìö –ö–ª—é—á–æ–≤—ñ —Ç–µ—Ä–º—ñ–Ω–∏

| –¢–µ—Ä–º—ñ–Ω | –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------------|
| **–ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É (stack overflow)** | –ü–æ–º–∏–ª–∫–∞, —â–æ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–∏ –≤–∏—á–µ—Ä–ø–∞–Ω–Ω—ñ –ø–∞–º'—è—Ç—ñ —Å—Ç–µ–∫—É —á–µ—Ä–µ–∑ –Ω–∞–¥—Ç–æ –≥–ª–∏–±–æ–∫—É —Ä–µ–∫—É—Ä—Å—ñ—é |
| **—Ö–≤–æ—Å—Ç–æ–≤–∞ —Ä–µ–∫—É—Ä—Å—ñ—è (tail recursion)** | –†–µ–∫—É—Ä—Å—ñ—è, –¥–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ —î –æ—Å—Ç–∞–Ω–Ω—å–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ—ó |
| **–º–µ–º–æ—ñ–∑–∞—Ü—ñ—è** | –¢–µ—Ö–Ω—ñ–∫–∞ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å |
| **–∑–∞–º–∏–∫–∞–Ω–Ω—è (closure)** | –ê–Ω–æ–Ω—ñ–º–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –∑–∞—Ö–æ–ø–ª—é—î –∑–º—ñ–Ω–Ω—ñ –∑ –æ—Ç–æ—á—É—é—á–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| **move —Å–µ–º–∞–Ω—Ç–∏–∫–∞** | –ü–µ—Ä–µ–¥–∞—á–∞ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è–º –∑–∞–º—ñ—Å—Ç—å –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è |
| **lifetime (—á–∞—Å –∂–∏—Ç—Ç—è)** | –û–±–ª–∞—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–∏, –ø—Ä–æ—Ç—è–≥–æ–º —è–∫–æ—ó –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤–∞–ª—ñ–¥–Ω–∏–º |
| **Fn, FnMut, FnOnce** | –¢—Ä–µ–π—Ç–∏, —â–æ –æ–ø–∏—Å—É—é—Ç—å —Ä—ñ–∑–Ω—ñ —Ä–µ–∂–∏–º–∏ –≤–∏–∫–ª–∏–∫—É –∑–∞–º–∏–∫–∞–Ω—å |

---

## üí° –ú–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–∏–π –∫–µ–π—Å: –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à—É–∫—É —à–ª—è—Ö—É, —â–æ "–∑'—ó–≤" —Å–∏—Å—Ç–µ–º—É

–ö–æ–º–∞–Ω–¥–∞ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —Å—Ç–≤–æ—Ä—é–≤–∞–ª–∞ —Å–∏—Å—Ç–µ–º—É –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –¥–ª—è —Ä–æ—é –ë–ü–õ–ê. –î–ª—è –ø–æ—à—É–∫—É –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —à–ª—è—Ö—É –º—ñ–∂ —Ç–æ—á–∫–∞–º–∏ –≤–æ–Ω–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:

```rust
fn find_path(current: Position, target: Position, visited: Vec<Position>) -> Option<Vec<Position>> {
    if current == target {
        return Some(visited);
    }
    
    for neighbor in get_neighbors(current) {
        if !visited.contains(&neighbor) {
            let mut new_visited = visited.clone();  // –ü—Ä–æ–±–ª–µ–º–∞ 1: –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É –∫—Ä–æ—Ü—ñ
            new_visited.push(neighbor);
            if let Some(path) = find_path(neighbor, target, new_visited) {  // –ü—Ä–æ–±–ª–µ–º–∞ 2: –≥–ª–∏–±–æ–∫–∞ —Ä–µ–∫—É—Ä—Å—ñ—è
                return Some(path);
            }
        }
    }
    
    None
}
```

–ù–∞ —Ç–µ—Å—Ç–æ–≤—ñ–π –∫–∞—Ä—Ç—ñ 10√ó10 –≤—Å–µ –ø—Ä–∞—Ü—é–≤–∞–ª–æ —á—É–¥–æ–≤–æ. –ö–æ–ª–∏ —Å–∏—Å—Ç–µ–º—É —Ä–æ–∑–≥–æ—Ä–Ω—É–ª–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ñ–π –º—ñ—Å—Ü–µ–≤–æ—Å—Ç—ñ –∑ –∫–∞—Ä—Ç–æ—é 1000√ó1000, –ø–æ—á–∞–ª–∏—Å—è –ø—Ä–æ–±–ª–µ–º–∏.

–ü–µ—Ä—à–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É. –†–µ–∫—É—Ä—Å—ñ—è –º–æ–≥–ª–∞ –¥–æ—Å—è–≥–∞—Ç–∏ –≥–ª–∏–±–∏–Ω–∏ –≤ —Ç–∏—Å—è—á—ñ –≤–∏–∫–ª–∏–∫—ñ–≤. –ö–æ–∂–µ–Ω –≤–∏–∫–ª–∏–∫ –∑–∞–π–º–∞—î –º—ñ—Å—Ü–µ –Ω–∞ —Å—Ç–µ–∫—É –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö, –∞–¥—Ä–µ—Å–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤. –ü—Ä–∏ –≥–ª–∏–±–∏–Ω—ñ 10000 –≤–∏–∫–ª–∏–∫—ñ–≤ —Å—Ç–µ–∫ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—ñ–Ω—á—É–≤–∞–≤—Å—è. –ü—Ä–æ–≥—Ä–∞–º–∞ –∞–≤–∞—Ä—ñ–π–Ω–æ –∑–∞–≤–µ—Ä—à—É–≤–∞–ª–∞—Å—è –±–µ–∑ –∂–æ–¥–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚Äî —Ç–∏–ø–æ–≤–∞ –æ–∑–Ω–∞–∫–∞ stack overflow.

–î—Ä—É–≥–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–µ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—è —á–∞—Å—É. –í–µ–∫—Ç–æ—Ä `visited` –∫–ª–æ–Ω—É–≤–∞–≤—Å—è –Ω–∞ –∫–æ–∂–Ω–æ–º—É —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É. –î–ª—è —à–ª—è—Ö—É –¥–æ–≤–∂–∏–Ω–æ—é 100 —Ü–µ –æ–∑–Ω–∞—á–∞–ª–æ –±–ª–∏–∑—å–∫–æ 100 –∫–ª–æ–Ω—É–≤–∞–Ω—å –≤–µ–∫—Ç–æ—Ä—ñ–≤ –∑—Ä–æ—Å—Ç–∞—é—á–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É. –ü–∞–º'—è—Ç—å —à–≤–∏–¥–∫–æ –≤–∏—á–µ—Ä–ø—É–≤–∞–ª–∞—Å—è, –∞ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –≤–∏–º—ñ—Ä—é–≤–∞–≤—Å—è —Ö–≤–∏–ª–∏–Ω–∞–º–∏ –∑–∞–º—ñ—Å—Ç—å –º—ñ–ª—ñ—Å–µ–∫—É–Ω–¥.

–¢—Ä–µ—Ç—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø—Ä–∏—Ö–æ–≤–∞–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ. –ü–∞—Ä–∞–º–µ—Ç—Ä `visited: Vec<Position>` –ø–µ—Ä–µ–¥–∞–≤–∞–≤—Å—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º. –•–æ—á–∞ Rust –Ω–µ –∫–æ–ø—ñ—é—î –≤–µ–∫—Ç–æ—Ä–∏ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á—ñ (–≤—ñ–Ω –ø–µ—Ä–µ–º—ñ—â—É—î), –ø—ñ—Å–ª—è –Ω–µ–≤–¥–∞–ª–æ—ó —Å–ø—Ä–æ–±–∏ –≤–µ–∫—Ç–æ—Ä –Ω–µ –º–æ–∂–Ω–∞ –±—É–ª–æ –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ ‚Äî –≤—ñ–Ω –±—É–≤ "—Å–ø–æ–∂–∏—Ç–∏–π" —Ñ—É–Ω–∫—Ü—ñ—î—é.

–¶–µ–π –≤–∏–ø–∞–¥–æ–∫ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î, —è–∫ –∫—Ä–∞—Å–∏–≤–∏–π —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –∫–æ–¥ –º–æ–∂–µ –±—É—Ç–∏ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω–∏–º –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ. –î–∞–ª—ñ –º–∏ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –∫–æ–∂–Ω—É –∑ —Ü–∏—Ö –ø—Ä–æ–±–ª–µ–º –¥–µ—Ç–∞–ª—å–Ω–æ.

---

## –¢–ï–û–†–Ü–Ø: –†–ï–ö–£–†–°–Ü–Ø –¢–ê –ü–ï–†–ï–ü–û–í–ù–ï–ù–ù–Ø –°–¢–ï–ö–£

### –Ø–∫ –ø—Ä–∞—Ü—é—î —Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤

–ö–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–∫–ª–∏–∫–∞—î —Ñ—É–Ω–∫—Ü—ñ—é, –Ω–∞ —Å—Ç–µ–∫—É —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º (stack frame). –¶–µ–π —Ñ—Ä–µ–π–º –º—ñ—Å—Ç–∏—Ç—å: –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü—ñ—ó, –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –∞–¥—Ä–µ—Å—É –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è (–∫—É–¥–∏ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó) —Ç–∞ –¥–µ—è–∫—É —Å–ª—É–∂–±–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

–†–æ–∑–º—ñ—Ä —Å—Ç–µ–∫—É –æ–±–º–µ–∂–µ–Ω–∏–π –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—é —Å–∏—Å—Ç–µ–º–æ—é. –¢–∏–ø–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è ‚Äî –≤—ñ–¥ 1 –¥–æ 8 –º–µ–≥–∞–±–∞–π—Ç –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å. –¶–µ –∑–¥–∞—î—Ç—å—Å—è –±–∞–≥–∞—Ç–æ, –∞–ª–µ –ø—Ä–∏ –≥–ª–∏–±–æ–∫—ñ–π —Ä–µ–∫—É—Ä—Å—ñ—ó –≤–∏—á–µ—Ä–ø—É—î—Ç—å—Å—è —à–≤–∏–¥–∫–æ.

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–æ—Å—Ç—É —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ñ–∞–∫—Ç–æ—Ä—ñ–∞–ª—É:

```rust
fn factorial(n: u64) -> u64 {
    if n <= 1 { 1 } else { n * factorial(n - 1) }
}
```

–ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É `factorial(5)` –Ω–∞ —Å—Ç–µ–∫—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –∑'—è–≤–ª—è—é—Ç—å—Å—è —Ñ—Ä–µ–π–º–∏: factorial(5) ‚Üí factorial(4) ‚Üí factorial(3) ‚Üí factorial(2) ‚Üí factorial(1). –ü'—è—Ç—å —Ñ—Ä–µ–π–º—ñ–≤ ‚Äî —Ü–µ –Ω–µ–∑–Ω–∞—á–Ω–æ.

–ê–ª–µ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É `factorial(100000)` —Å—Ç–µ–∫ –æ—Ç—Ä–∏–º—É—î 100000 —Ñ—Ä–µ–π–º—ñ–≤. –Ø–∫—â–æ –∫–æ–∂–µ–Ω —Ñ—Ä–µ–π–º –∑–∞–π–º–∞—î —Ö–æ—á–∞ –± 100 –±–∞–π—Ç (–∞ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –±—ñ–ª—å—à–µ —á–µ—Ä–µ–∑ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è —Ç–∞ –º–µ—Ç–∞–¥–∞–Ω—ñ), —Ü–µ 10 –º–µ–≥–∞–±–∞–π—Ç ‚Äî –±—ñ–ª—å—à–µ —Ç–∏–ø–æ–≤–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É —Å—Ç–µ–∫—É.

### –°–∏–º–ø—Ç–æ–º–∏ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É

–ü–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É ‚Äî –ø—ñ–¥—Å—Ç—É–ø–Ω–∞ –ø–æ–º–∏–ª–∫–∞, –±–æ –≤–æ–Ω–∞ –Ω–µ –∑–∞–≤–∂–¥–∏ –ø—Ä–æ—è–≤–ª—è—î—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤–æ.

–£ –Ω–∞–π–∫—Ä–∞—â–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º "stack overflow" –∞–±–æ "fatal runtime error: stack overflow". –¶–µ —á—ñ—Ç–∫–æ –≤–∫–∞–∑—É—î –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É.

–£ –≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –ø—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–æ—Å—Ç–æ "–ø–∞–¥–∞—î" –±–µ–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –∞–±–æ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –≤–±–∏–≤–∞—î –ø—Ä–æ—Ü–µ—Å –∑–∞ –ø–µ—Ä–µ–≤–∏—â–µ–Ω–Ω—è –ª—ñ–º—ñ—Ç—É –ø–∞–º'—è—Ç—ñ. –ù–∞ –≤–±—É–¥–æ–≤–∞–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (—è–∫ –º—ñ–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –¥—Ä–æ–Ω—ñ–≤) —Å—Ç–µ–∫ –º–æ–∂–µ "–Ω–∞–ª—ñ–∑—Ç–∏" –Ω–∞ —ñ–Ω—à—ñ –æ–±–ª–∞—Å—Ç—ñ –ø–∞–º'—è—Ç—ñ, —Å–ø—Ä–∏—á–∏–Ω—è—é—á–∏ –≤–∏–ø–∞–¥–∫–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É ‚Äî –≤—ñ–¥ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å –¥–æ –∞–ø–∞—Ä–∞—Ç–Ω–∏—Ö –∑–±–æ—ó–≤.

–©–µ –ø—ñ–¥—Å—Ç—É–ø–Ω—ñ—à–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç ‚Äî –∫–æ–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–∞—Ü—é—î –≤ —Ç–µ—Å—Ç–∞—Ö (–∑ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏) —ñ –ø–∞–¥–∞—î –ª–∏—à–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ (–∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –æ–±—Å—è–≥–∞–º–∏). –¢–µ—Å—Ç–∏ –Ω–µ –≤–∏—è–≤–ª—è—é—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –±–æ –≥–ª–∏–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—ó –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –¥–ª—è –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è.

### –ö–æ–ª–∏ —Ä–µ–∫—É—Ä—Å—ñ—è –±–µ–∑–ø–µ—á–Ω–∞

–†–µ–∫—É—Ä—Å—ñ—è –±–µ–∑–ø–µ—á–Ω–∞, –∫–æ–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≥–ª–∏–±–∏–Ω–∞ –æ–±–º–µ–∂–µ–Ω–∞ —ñ –≤—ñ–¥–æ–º–∞ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å. –û–±—Ö—ñ–¥ –∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ–≥–æ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –∑ –º—ñ–ª—å–π–æ–Ω–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –≤–∏–º–∞–≥–∞—î –ª–∏—à–µ –±–ª–∏–∑—å–∫–æ 20 —Ä—ñ–≤–Ω—ñ–≤ —Ä–µ–∫—É—Ä—Å—ñ—ó (log‚ÇÇ(1000000) ‚âà 20). –¶–µ —Ü—ñ–ª–∫–æ–º –ø—Ä–∏–π–Ω—è—Ç–Ω–æ.

–†–µ–∫—É—Ä—Å—ñ—è –Ω–µ–±–µ–∑–ø–µ—á–Ω–∞, –∫–æ–ª–∏ –≥–ª–∏–±–∏–Ω–∞ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —ñ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—ñ–ª—å–Ω–æ –≤–µ–ª–∏–∫–æ—é. –û–±—Ö—ñ–¥ –Ω–µ–∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞ (—Ñ–∞–∫—Ç–∏—á–Ω–æ —Å–ø–∏—Å–∫—É), –æ–±—Ö—ñ–¥ –≥—Ä–∞—Ñ–∞ –∑ –¥–æ–≤–≥–∏–º–∏ —à–ª—è—Ö–∞–º–∏, –æ–±—Ä–æ–±–∫–∞ –≤–∫–ª–∞–¥–µ–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –Ω–µ–≤—ñ–¥–æ–º–æ—ó –≥–ª–∏–±–∏–Ω–∏ ‚Äî –≤—Å–µ —Ü–µ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è.

### –†—ñ—à–µ–Ω–Ω—è: –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—é

–ë—É–¥—å-—è–∫—É —Ä–µ–∫—É—Ä—Å—ñ—é –º–æ–∂–Ω–∞ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—é –∑ —è–≤–Ω–∏–º —Å—Ç–µ–∫–æ–º. –ó–∞–º—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ç–µ–∫—É –≤–∏–∫–ª–∏–∫—ñ–≤ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –≤–ª–∞—Å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö (–∑–∞–∑–≤–∏—á–∞–π `Vec`), —è–∫–∞ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω "–≤—ñ–¥–∫–ª–∞–¥–µ–Ω–∏—Ö" –æ–±—á–∏—Å–ª–µ–Ω—å:

```rust
fn factorial_iterative(n: u64) -> u64 {
    let mut result = 1;
    for i in 2..=n {
        result *= i;
    }
    result
}
```

–î–ª—è —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö –≤–∏–ø–∞–¥–∫—ñ–≤, —è–∫ –æ–±—Ö—ñ–¥ –≥—Ä–∞—Ñ–∞, –º–∏ —è–≤–Ω–æ –º–æ–¥–µ–ª—é—î–º–æ —Å—Ç–µ–∫:

```rust
fn traverse_iterative(start: Node) {
    let mut stack = vec![start];
    let mut visited = HashSet::new();
    
    while let Some(node) = stack.pop() {
        if visited.contains(&node) {
            continue;
        }
        visited.insert(node.clone());
        
        process(&node);
        
        for neighbor in node.neighbors() {
            if !visited.contains(&neighbor) {
                stack.push(neighbor);
            }
        }
    }
}
```

–¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î heap-–ø–∞–º'—è—Ç—å –¥–ª—è —Å—Ç–µ–∫—É, —è–∫–∞ –∑–Ω–∞—á–Ω–æ –±—ñ–ª—å—à–∞ –∑–∞ —Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤ —ñ –º–æ–∂–µ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑—Ä–æ—Å—Ç–∞—Ç–∏.

### –•–≤–æ—Å—Ç–æ–≤–∞ —Ä–µ–∫—É—Ä—Å—ñ—è —Ç–∞ —ó—ó –æ–±–º–µ–∂–µ–Ω–Ω—è –≤ Rust

–•–≤–æ—Å—Ç–æ–≤–∞ —Ä–µ–∫—É—Ä—Å—ñ—è ‚Äî —Ü–µ –æ—Å–æ–±–ª–∏–≤–∏–π –≤–∏–¥ —Ä–µ–∫—É—Ä—Å—ñ—ó, –¥–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ —î –æ—Å—Ç–∞–Ω–Ω—å–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ—ó. –¢–µ–æ—Ä–µ—Ç–∏—á–Ω–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–∂–µ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ —Ç–∞–∫—É —Ä–µ–∫—É—Ä—Å—ñ—é, –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–≤—à–∏ —ó—ó –Ω–∞ —Ü–∏–∫–ª (tail call optimization).

```rust
fn factorial_tail(n: u64, accumulator: u64) -> u64 {
    if n <= 1 { accumulator } else { factorial_tail(n - 1, n * accumulator) }
}
```

–¢—É—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ ‚Äî –æ—Å—Ç–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥—Ä–∞–∑—É –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º—ñ–≥ –±–∏ –∑–∞–º—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Ñ—Ä–µ–π–º—É –ø—Ä–æ—Å—Ç–æ "–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç–∏" –ø–æ—Ç–æ—á–Ω–∏–π.

–í–∞–∂–ª–∏–≤–æ –∑–Ω–∞—Ç–∏: Rust –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é —Ö–≤–æ—Å—Ç–æ–≤–æ—ó —Ä–µ–∫—É—Ä—Å—ñ—ó. –Ü–Ω–æ–¥—ñ LLVM (–±–µ–∫–µ–Ω–¥ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞) –≤–∏–∫–æ–Ω—É—î —Ü—é –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é, —ñ–Ω–æ–¥—ñ –Ω—ñ. –ü–æ–∫–ª–∞–¥–∞—Ç–∏—Å—è –Ω–∞ –Ω–µ—ó –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ. –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è —Å—Ç–µ–∫—É ‚Äî –ø–µ—Ä–µ–ø–∏—à—ñ—Ç—å —Ä–µ–∫—É—Ä—Å—ñ—é –Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—é —è–≤–Ω–æ.

---

## –¢–ï–û–†–Ü–Ø: –ï–ö–°–ü–û–ù–ï–ù–¶–Ü–ô–ù–ê –°–ö–õ–ê–î–ù–Ü–°–¢–¨ –†–ï–ö–£–†–°–ò–í–ù–ò–• –ê–õ–ì–û–†–ò–¢–ú–Ü–í

### –ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥: —á–∏—Å–ª–∞ –§—ñ–±–æ–Ω–∞—á—á—ñ

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –Ω–∞—ó–≤–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∏—Å–µ–ª –§—ñ–±–æ–Ω–∞—á—á—ñ:

```rust
fn fib(n: u64) -> u64 {
    if n <= 1 { n } else { fib(n - 1) + fib(n - 2) }
}
```

–¶–µ–π –∫–æ–¥ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π —ñ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏–π. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ –≤—ñ–Ω –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω–æ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π.

–ü—Ä–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—ñ `fib(5)` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `fib(4)` —Ç–∞ `fib(3)`. –î–ª—è `fib(4)` –ø–æ—Ç—Ä—ñ–±–Ω—ñ `fib(3)` —Ç–∞ `fib(2)`. –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É: `fib(3)` –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –¥–≤—ñ—á—ñ!

–ü–æ–±—É–¥—É—î–º–æ –¥–µ—Ä–µ–≤–æ –≤–∏–∫–ª–∏–∫—ñ–≤ –¥–ª—è `fib(5)`:
- fib(5) –≤–∏–∫–ª–∏–∫–∞—î fib(4) —ñ fib(3)
- fib(4) –≤–∏–∫–ª–∏–∫–∞—î fib(3) —ñ fib(2)
- fib(3) –≤–∏–∫–ª–∏–∫–∞—î fib(2) —ñ fib(1) ‚Äî —ñ —Ü–µ–π fib(3) –≤–∂–µ –¥—Ä—É–≥–∏–π!
- –Ü —Ç–∞–∫ –¥–∞–ª—ñ...

–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤ –∑—Ä–æ—Å—Ç–∞—î –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ. –î–ª—è fib(n) –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤ –ø—Ä–∏–±–ª–∏–∑–Ω–æ –¥–æ—Ä—ñ–≤–Ω—é—î fib(n), —â–æ —Ä–æ—Å—Ç–µ —è–∫ œÜ‚Åø (–¥–µ œÜ ‚âà 1.618 ‚Äî –∑–æ–ª–æ—Ç–∏–π –ø–µ—Ä–µ—Ç–∏–Ω). –î–ª—è n=50 —Ü–µ –±–ª–∏–∑—å–∫–æ 10¬π‚Å∞ –≤–∏–∫–ª–∏–∫—ñ–≤. –ü—Ä–∏ –º—ñ–ª—å—è—Ä–¥—ñ –æ–ø–µ—Ä–∞—Ü—ñ–π –Ω–∞ —Å–µ–∫—É–Ω–¥—É –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∑–∞–π–º–µ –≥–æ–¥–∏–Ω–∏.

### –ß–æ–º—É —Ü–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ –æ–¥–Ω–∞–∫–æ–≤—ñ –ø—ñ–¥–∑–∞–¥–∞—á—ñ —Ä–æ–∑–≤'—è–∑—É—é—Ç—å—Å—è –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ. –¶–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –¥–ª—è –∑–∞–¥–∞—á –∑ "–ø–µ—Ä–µ–∫—Ä–∏–≤–∞—é—á–∏–º–∏—Å—è –ø—ñ–¥–∑–∞–¥–∞—á–∞–º–∏" (overlapping subproblems).

–ù–µ –∫–æ–∂–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—è –º–∞—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É. –û–±—Ö—ñ–¥ –¥–µ—Ä–µ–≤–∞, –¥–µ –∫–æ–∂–µ–Ω –≤—É–∑–æ–ª –≤—ñ–¥–≤—ñ–¥—É—î—Ç—å—Å—è —Ä—ñ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, –º–∞—î –ª—ñ–Ω—ñ–π–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å. –®–≤–∏–¥–∫–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (quicksort) –º–∞—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(n log n) —É —Å–µ—Ä–µ–¥–Ω—å–æ–º—É. –ê–ª–µ —è–∫—â–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–¥–±–∞—á–∞—î –ø–æ–≤—Ç–æ—Ä–Ω–µ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç–∏—Ö —Å–∞–º–∏—Ö –∑–Ω–∞—á–µ–Ω—å ‚Äî –≤–∏ –ø–æ—Ç—Ä–∞–ø–∏–ª–∏ –≤ –ø–∞—Å—Ç–∫—É –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—Å—Ç—ñ.

### –†—ñ—à–µ–Ω–Ω—è 1: –ú–µ–º–æ—ñ–∑–∞—Ü—ñ—è

–ú–µ–º–æ—ñ–∑–∞—Ü—ñ—è ‚Äî —Ü–µ –∫–µ—à—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ—ó. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É –∑ –ø–µ–≤–Ω–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –≤–∏–∫–ª–∏–∫—É –∑ —Ç–∏–º–∏ —Å–∞–º–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–µ—Ä–µ—Ç—å—Å—è –∑ –∫–µ—à—É –±–µ–∑ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è.

```rust
use std::collections::HashMap;

fn fib_memo(n: u64, cache: &mut HashMap<u64, u64>) -> u64 {
    if let Some(&result) = cache.get(&n) {
        return result;
    }
    
    let result = if n <= 1 { n } else { fib_memo(n - 1, cache) + fib_memo(n - 2, cache) };
    cache.insert(n, result);
    result
}
```

–¢–µ–ø–µ—Ä –∫–æ–∂–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è –æ–±—á–∏—Å–ª—é—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑. –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Å—Ç–∞—î O(n) –∑–∞–º—ñ—Å—Ç—å O(œÜ‚Åø).

–ù–µ–¥–æ–ª—ñ–∫ –º–µ–º–æ—ñ–∑–∞—Ü—ñ—ó ‚Äî –≤–æ–Ω–∞ –ø–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–¥–∞—á—ñ –∫–µ—à—É —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É, —â–æ –º–∞—î —Å–≤–æ—ó –ø—Ä–æ–±–ª–µ–º–∏). –¢–∞–∫–æ–∂ –∫–µ—à –∑–∞–π–º–∞—î –ø–∞–º'—è—Ç—å, —è–∫–∞ –º–æ–∂–µ –Ω–∞–∫–æ–ø–∏—á—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏ —Ç—Ä–∏–≤–∞–ª—ñ–π —Ä–æ–±–æ—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–∏.

### –†—ñ—à–µ–Ω–Ω—è 2: –î–∏–Ω–∞–º—ñ—á–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (—ñ—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥)

–ó–∞–º—ñ—Å—Ç—å —Ä–µ–∫—É—Ä—Å—ñ—ó –∑ –∫–µ—à—É–≤–∞–Ω–Ω—è–º –º–æ–∂–Ω–∞ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è "–∑–Ω–∏–∑—É –≤–≥–æ—Ä—É":

```rust
fn fib_dp(n: u64) -> u64 {
    if n <= 1 { return n; }
    
    let mut prev2 = 0;
    let mut prev1 = 1;
    
    for _ in 2..=n {
        let current = prev1 + prev2;
        prev2 = prev1;
        prev1 = current;
    }
    
    prev1
}
```

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –º–∞—î O(n) —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å, O(1) –ø–∞–º'—è—Ç—ñ (–∑–±–µ—Ä—ñ–≥–∞—î–º–æ –ª–∏—à–µ –¥–≤–∞ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–Ω–∞—á–µ–Ω–Ω—è) —ñ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ä–µ–∫—É—Ä—Å—ñ—é –≤–∑–∞–≥–∞–ª—ñ. –î–ª—è —á–∏—Å–µ–ª –§—ñ–±–æ–Ω–∞—á—á—ñ —Ü–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è.

### –Ø–∫ —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω—É —Ä–µ–∫—É—Ä—Å—ñ—é

–ó–∞–ø–∏—Ç–∞–π—Ç–µ —Å–µ–±–µ: —á–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Ñ—É–Ω–∫—Ü—ñ—è –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –±—ñ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—É? –Ø–∫—â–æ —Ç–∞–∫ ‚Äî —É –≤–∞—Å –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∞ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å.

–¢–∏–ø–æ–≤—ñ –æ–∑–Ω–∞–∫–∏:
- –§—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î —Å–µ–±–µ –¥–≤—ñ—á—ñ –∞–±–æ –±—ñ–ª—å—à–µ –≤ –æ–¥–Ω–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ (—è–∫ fib)
- –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–±–∏—Ä–∞—î –≤–∞—Ä—ñ–∞–Ω—Ç–∏ "–∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º" (backtracking) –±–µ–∑ –≤—ñ–¥—Å—ñ–∫–∞–Ω–Ω—è
- –§—É–Ω–∫—Ü—ñ—è –æ–±—Ä–æ–±–ª—è—î –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∞–±–æ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## –¢–ï–û–†–Ü–Ø: –ü–ï–†–ï–î–ê–ß–ê –ü–ê–†–ê–ú–ï–¢–†–Ü–í –£ RUST ‚Äî MOVE, BORROW, COPY

### –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∏ –ø–µ—Ä–µ–¥–∞—á—ñ

–£ Rust –ø–∞—Ä–∞–º–µ—Ç—Ä —Ñ—É–Ω–∫—Ü—ñ—ó –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ —Ç—Ä—å–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏:

**–ó–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (by value, move)**: —Ñ—É–Ω–∫—Ü—ñ—è –æ—Ç—Ä–∏–º—É—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –¥–∞–Ω–∏–º–∏. –ü—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –±—ñ–ª—å—à–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ (—è–∫—â–æ —Ç–∏–ø –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î Copy).

**–ó–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (by reference, borrow)**: —Ñ—É–Ω–∫—Ü—ñ—è –æ—Ç—Ä–∏–º—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–∞–Ω—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ—é. –ü–æ—Å–∏–ª–∞–Ω–Ω—è –º–æ–∂–µ –±—É—Ç–∏ —ñ–º–º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (&T) –∞–±–æ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º (&mut T).

**Copy-—Ç–∏–ø–∏**: –¥–ª—è —Ç–∏–ø—ñ–≤, —â–æ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ç—Ä–µ–π—Ç Copy (—á–∏—Å–ª–∞, bool, —Å–∏–º–≤–æ–ª–∏), –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ñ–∞–∫—Ç–∏—á–Ω–æ –∫–æ–ø—ñ—é—î –¥–∞–Ω—ñ. –û—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏–º.

### –ü–∞—Å—Ç–∫–∞ 1: –ù–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–µ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è

–†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –æ–±—Ä–æ–±–ª—è—î –≤–µ–∫—Ç–æ—Ä:

```rust
fn process(data: Vec<i32>) {
    println!("–û–±—Ä–æ–±–∫–∞ {} –µ–ª–µ–º–µ–Ω—Ç—ñ–≤", data.len());
}

fn main() {
    let numbers = vec![1, 2, 3, 4, 5];
    process(numbers);
    println!("–°—É–º–∞: {}", numbers.iter().sum::<i32>());  // –ü–û–ú–ò–õ–ö–ê!
}
```

–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–¥–∞—Å—Ç—å –ø–æ–º–∏–ª–∫—É: "value borrowed here after move". –í–∏–∫–ª–∏–∫ `process(numbers)` –ø–µ—Ä–µ–º—ñ—Å—Ç–∏–≤ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –≤–µ–∫—Ç–æ—Ä–æ–º —É —Ñ—É–Ω–∫—Ü—ñ—é. –ü—ñ—Å–ª—è –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –∑ —Ñ—É–Ω–∫—Ü—ñ—ó –≤–µ–∫—Ç–æ—Ä –±—É–≤ –∑–Ω–∏—â–µ–Ω–∏–π (drop). –ó–º—ñ–Ω–Ω–∞ `numbers` –±—ñ–ª—å—à–µ –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

–¶–µ –Ω–µ –±–∞–≥, –∞ –æ—Å–æ–±–ª–∏–≤—ñ—Å—Ç—å Rust. –í–æ–Ω–∞ –∑–∞–ø–æ–±—ñ–≥–∞—î use-after-free —Ç–∞ –ø–æ–¥–≤—ñ–π–Ω–æ–º—É –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—é –ø–∞–º'—è—Ç—ñ. –ê–ª–µ –¥–ª—è –Ω–æ–≤–∞—á–∫–∞ —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–∫–æ—é: —Ñ—É–Ω–∫—Ü—ñ—è "–∑'—ó–ª–∞" –¥–∞–Ω—ñ!

### –†—ñ—à–µ–Ω–Ω—è: —è–≤–Ω–∏–π –≤–∏–±—ñ—Ä —Å–µ–º–∞–Ω—Ç–∏–∫–∏

–Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–æ–ª–æ–¥—ñ—Ç–∏ –¥–∞–Ω–∏–º–∏, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

```rust
fn process(data: &Vec<i32>) {
    println!("–û–±—Ä–æ–±–∫–∞ {} –µ–ª–µ–º–µ–Ω—Ç—ñ–≤", data.len());
}

fn main() {
    let numbers = vec![1, 2, 3, 4, 5];
    process(&numbers);  // –ü–µ—Ä–µ–¥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    println!("–°—É–º–∞: {}", numbers.iter().sum::<i32>());  // –ü—Ä–∞—Ü—é—î!
}
```

–Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—ó –ø–æ—Ç—Ä—ñ–±–Ω–æ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ:

```rust
fn double_all(data: &mut Vec<i32>) {
    for x in data.iter_mut() {
        *x *= 2;
    }
}
```

–Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è —Å–ø—Ä–∞–≤–¥—ñ –º–∞—î "—Å–ø–æ–∂–∏—Ç–∏" –¥–∞–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–∞–ª—ñ —ñ–Ω—à—ñ–π —Å–∏—Å—Ç–µ–º—ñ), –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º –∫–æ—Ä–µ–∫—Ç–Ω–∞.

### –ü–∞—Å—Ç–∫–∞ 2: Clone –∑–∞–º—ñ—Å—Ç—å –ø–æ–∑–∏—á–∞–Ω–Ω—è

–ü–æ—á–∞—Ç–∫—ñ–≤—Ü—ñ, –∑—ñ—Ç–∫–Ω—É–≤—à–∏—Å—å –∑ –ø–æ–º–∏–ª–∫–∞–º–∏ ownership, —á–∞—Å—Ç–æ "–≤–∏—Ä—ñ—à—É—é—Ç—å" —ó—Ö —á–µ—Ä–µ–∑ `.clone()`:

```rust
fn process(data: Vec<i32>) {
    // ...
}

fn main() {
    let numbers = vec![1, 2, 3, 4, 5];
    process(numbers.clone());  // –ö–ª–æ–Ω—É—î–º–æ, —â–æ–± "–æ–±—ñ–π—Ç–∏" ownership
    println!("–°—É–º–∞: {}", numbers.iter().sum::<i32>());
}
```

–ö–æ–¥ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è —ñ –ø—Ä–∞—Ü—é—î. –ê–ª–µ –≤–∏ –ø–ª–∞—Ç–∏—Ç–µ –ø–æ–≤–Ω—É –≤–∞—Ä—Ç—ñ—Å—Ç—å –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö. –î–ª—è –≤–µ–ª–∏–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (–º–µ–≥–∞–±–∞–π—Ç–∏ –¥–∞–Ω–∏—Ö –∞–≥–µ–Ω—Ç–∞) —Ü–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω–∞ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.

–Ø–∫—â–æ –≤–∏ –ø–∏—à–µ—Ç–µ `.clone()` –ª–∏—à–µ —â–æ–± –∑–∞–¥–æ–≤–æ–ª—å–Ω–∏—Ç–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä ‚Äî –∑—É–ø–∏–Ω—ñ—Ç—å—Å—è —ñ –ø–æ–¥—É–º–∞–π—Ç–µ, —á–∏ –º–æ–∂–Ω–∞ –∑–∞–º—ñ—Å—Ç—å —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.

### –ü–∞—Å—Ç–∫–∞ 3: Copy-—Ç–∏–ø–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å —ñ–ª—é–∑—ñ—é

–î–ª—è Copy-—Ç–∏–ø—ñ–≤ –ø–µ—Ä–µ–¥–∞—á–∞ –≤–∏–≥–ª—è–¥–∞—î —è–∫ "–ø–æ–∑–∏—á–∞–Ω–Ω—è", –∞–ª–µ —Ü–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:

```rust
fn increment(x: i32) -> i32 {
    x + 1
}

fn main() {
    let a = 5;
    let b = increment(a);
    println!("a = {}, b = {}", a, b);  // a = 5, b = 6 ‚Äî a –Ω–µ –∑–º—ñ–Ω–∏–ª–∞—Å—è!
}
```

–§—É–Ω–∫—Ü—ñ—è –æ—Ç—Ä–∏–º–∞–ª–∞ –∫–æ–ø—ñ—é –∑–Ω–∞—á–µ–Ω–Ω—è 5. –ó–º—ñ–Ω–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª. –¶–µ –æ—á–µ–≤–∏–¥–Ω–æ –¥–ª—è —á–∏—Å–µ–ª, –∞–ª–µ –º–æ–∂–µ –∑–∞–ø–ª—É—Ç–∞—Ç–∏, –∫–æ–ª–∏ –≤–∏ –æ—á—ñ–∫—É—î—Ç–µ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—é, –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –º—É—Ç–∞–±–µ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

```rust
fn increment(x: &mut i32) {
    *x += 1;
}

fn main() {
    let mut a = 5;
    increment(&mut a);
    println!("a = {}", a);  // a = 6
}
```

---

## –¢–ï–û–†–Ü–Ø: –ó–ê–ú–ò–ö–ê–ù–ù–Ø –¢–ê –†–ï–ñ–ò–ú–ò –ó–ê–•–û–ü–õ–ï–ù–ù–Ø

### –©–æ —Ç–∞–∫–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è

–ó–∞–º–∏–∫–∞–Ω–Ω—è (closure) ‚Äî —Ü–µ –∞–Ω–æ–Ω—ñ–º–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è, —â–æ –º–æ–∂–µ –∑–∞—Ö–æ–ø–ª—é–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –∑ –æ—Ç–æ—á—É—é—á–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É. –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π, –∑–∞–º–∏–∫–∞–Ω–Ω—è "–±–∞—á–∏—Ç—å" –ª–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ —Ç–æ–≥–æ –º—ñ—Å—Ü—è, –¥–µ –≤–æ–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–µ.

```rust
let multiplier = 3;
let multiply = |x| x * multiplier;  // –ó–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞—Ö–æ–ø–ª—é—î multiplier

println!("{}", multiply(5));  // 15
```

–ó–∞–º–∏–∫–∞–Ω–Ω—è `multiply` –∑–∞—Ö–æ–ø–∏–ª–æ –∑–º—ñ–Ω–Ω—É `multiplier` –∑ –æ—Ç–æ—á–µ–Ω–Ω—è. –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É –≤–æ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ –∑–∞—Ö–æ–ø–ª–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

### –¢—Ä–∏ —Ä–µ–∂–∏–º–∏ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è

Rust –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î, —è–∫ –∑–∞—Ö–æ–ø–∏—Ç–∏ –∑–º—ñ–Ω–Ω—É, –æ–±–∏—Ä–∞—é—á–∏ –Ω–∞–π–º–µ–Ω—à "–∞–≥—Ä–µ—Å–∏–≤–Ω–∏–π" —Ä–µ–∂–∏–º:

**–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (&T)**: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –∑–∞–º–∏–∫–∞–Ω–Ω—è –ª–∏—à–µ —á–∏—Ç–∞—î –∑–º—ñ–Ω–Ω—É. –û—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏–º.

**–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (&mut T)**: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–¥–∏—Ñ—ñ–∫—É—î –∑–º—ñ–Ω–Ω—É. –û—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–∏–π –Ω–∞ —á–∞—Å —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –∑–∞–º–∏–∫–∞–Ω–Ω—è.

**–ó–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (–ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è)**: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –∑–∞–º–∏–∫–∞–Ω–Ω—è –ø–µ—Ä–µ–¥–∞—î –∑–º—ñ–Ω–Ω—É –¥–∞–ª—ñ –∞–±–æ –∫–æ–ª–∏ –≤–∫–∞–∑–∞–Ω–æ –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `move`.

### –ü–∞—Å—Ç–∫–∞ 1: –ù–µ–æ—á—ñ–∫—É–≤–∞–Ω–µ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º

```rust
fn create_counter() -> impl Fn() -> i32 {
    let mut count = 0;
    || {
        count += 1;  // –ü–û–ú–ò–õ–ö–ê!
        count
    }
}
```

–¶–µ–π –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è. –ó–∞–º–∏–∫–∞–Ω–Ω—è –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞—Ö–æ–ø–∏—Ç–∏ `count` –∑–∞ –º—É—Ç–∞–±–µ–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º. –ê–ª–µ `count` ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—ó `create_counter`. –ö–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è, `count` –±—É–¥–µ –∑–Ω–∏—â–µ–Ω–æ. –ó–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞–ª–∏—à–∏—Ç—å—Å—è –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –Ω–∞ –Ω–µ—ñ—Å–Ω—É—é—á—É –ø–∞–º'—è—Ç—å!

Rust –∑–∞–ø–æ–±—ñ–≥–∞—î —Ü—ñ–π –ø–æ–º–∏–ª—Ü—ñ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó: "closure may outlive the current function, but it borrows `count`, which is owned by the current function".

### –†—ñ—à–µ–Ω–Ω—è: move-–∑–∞–º–∏–∫–∞–Ω–Ω—è

–ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `move` –∑–º—É—à—É—î –∑–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞—Ö–æ–ø–∏—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (–ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è–º):

```rust
fn create_counter() -> impl FnMut() -> i32 {
    let mut count = 0;
    move || {
        count += 1;
        count
    }
}
```

–¢–µ–ø–µ—Ä `count` –ø–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—É –∑–∞–º–∏–∫–∞–Ω–Ω—è. –ó–∞–º–∏–∫–∞–Ω–Ω—è –≤–æ–ª–æ–¥—ñ—î —Å–≤–æ—î—é –∫–æ–ø—ñ—î—é –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞. –ü—Ä–æ–±–ª–µ–º–∞ –∑ —á–∞—Å–æ–º –∂–∏—Ç—Ç—è –∑–Ω–∏–∫–∞—î.

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –∑–º—ñ–Ω—É —Ç–∏–ø—É –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è: `Fn` —Å—Ç–∞–≤ `FnMut`. –¶–µ —Ç–æ–º—É, —â–æ –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–¥–∏—Ñ—ñ–∫—É—î —Å–≤—ñ–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω.

### –ü–∞—Å—Ç–∫–∞ 2: move –∑–∞—Ö–æ–ø–ª—é—î –≤—Å–µ

–ö–æ–ª–∏ –≤–∏ –ø–∏—à–µ—Ç–µ `move`, –∑–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞—Ö–æ–ø–ª—é—î –í–°–Ü –∑–≥–∞–¥–∞–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ü–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ:

```rust
let large_data = vec![0; 1000000];  // –ú—ñ–ª—å–π–æ–Ω –µ–ª–µ–º–µ–Ω—Ç—ñ–≤
let small_flag = true;

let closure = move || {
    if small_flag {
        println!("Flag is set");
    }
};

// large_data –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –≤ –∑–∞–º–∏–∫–∞–Ω–Ω—è, —Ö–æ—á–∞ –º–∏ –π–æ–≥–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ!
// println!("{:?}", large_data);  // –ü–û–ú–ò–õ–ö–ê: value moved
```

–ù–∞—Å–ø—Ä–∞–≤–¥—ñ —É —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ `large_data` –Ω–µ –∑–∞—Ö–æ–ø–ª—é—î—Ç—å—Å—è, –±–æ –Ω–µ –∑–≥–∞–¥—É—î—Ç—å—Å—è –≤ –∑–∞–º–∏–∫–∞–Ω–Ω—ñ. –ê–ª–µ —è–∫–±–∏ –±—É–ª–æ:

```rust
let closure = move || {
    if small_flag {
        println!("Data len: {}", large_data.len());
    }
};
```

–¢–æ `large_data` –±—É–≤ –±–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–∏–π, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ `small_flag` –∑–∞–≤–∂–¥–∏ `false` —ñ –∫–æ–¥ –∑ `large_data` –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è.

### –¢—Ä–µ–π—Ç–∏ Fn, FnMut, FnOnce

Rust –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—î –∑–∞–º–∏–∫–∞–Ω–Ω—è –∑–∞ —Ç—Ä—å–æ–º–∞ —Ç—Ä–µ–π—Ç–∞–º–∏, —â–æ –≤–∏–∑–Ω–∞—á–∞—é—Ç—å, —è–∫ —ó—Ö –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏:

**FnOnce**: –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑. –¶–µ –Ω–∞–π–∑–∞–≥–∞–ª—å–Ω—ñ—à–∏–π —Ç—Ä–µ–π—Ç ‚Äî –±—É–¥—å-—è–∫–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑—É—î FnOnce. –¢–∞–∫—ñ –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–∂—É—Ç—å —Å–ø–æ–∂–∏–≤–∞—Ç–∏ –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è.

**FnMut**: –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ, –≤–æ–Ω–æ –º–æ–∂–µ –º–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è. FnMut –≤–∫–ª—é—á–∞—î FnOnce.

**Fn**: –∑–∞–º–∏–∫–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤–æ, –≤–æ–Ω–æ –Ω–µ –º–æ–¥–∏—Ñ—ñ–∫—É—î –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è. Fn –≤–∫–ª—é—á–∞—î FnMut —ñ FnOnce.

–í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é: Fn ‚äÇ FnMut ‚äÇ FnOnce. –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î `impl FnOnce()`, —ó–π –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –±—É–¥—å-—è–∫–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è. –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î `impl Fn()`, –ø—ñ–¥—ñ–π–¥–µ –ª–∏—à–µ –∑–∞–º–∏–∫–∞–Ω–Ω—è, —â–æ –Ω–µ –º–æ–¥–∏—Ñ—ñ–∫—É—î –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è.

### –ü–∞—Å—Ç–∫–∞ 3: FnOnce "–∑'—ó–¥–∞—î" –∑–∞–º–∏–∫–∞–Ω–Ω—è

```rust
fn call_twice<F: Fn()>(f: F) {
    f();
    f();
}

fn call_once<F: FnOnce()>(f: F) {
    f();
    // f();  // –ü–û–ú–ò–õ–ö–ê: use of moved value
}
```

–Ø–∫—â–æ –≤–∏ –ø—Ä–∏–π–º–∞—î—Ç–µ `FnOnce`, –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–∞–º–∏–∫–∞–Ω–Ω—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑. –ü—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –≤–æ–Ω–æ "—Å–ø–æ–∂–∏—Ç–µ". –¶–µ –≤–∞–∂–ª–∏–≤–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—ñ API.

---

## –¢–ï–û–†–Ü–Ø: –ì–õ–û–ë–ê–õ–¨–ù–ò–ô –°–¢–ê–ù –¢–ê –°–¢–ê–¢–ò–ß–ù–Ü –ó–ú–Ü–ù–ù–Ü

### –ß–æ–º—É –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π

–ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ –∑–≤—ñ–¥—É—Å—ñ–ª—å —É –ø—Ä–æ–≥—Ä–∞–º—ñ. –¶–µ –∑—Ä—É—á–Ω–æ, –∞–ª–µ —Å—Ç–≤–æ—Ä—é—î —Å–µ—Ä–π–æ–∑–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏.

–ü–µ—Ä—à–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –Ω–µ—è–≤–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ. –§—É–Ω–∫—Ü—ñ—è, —â–æ —á–∏—Ç–∞—î –∞–±–æ –ø–∏—à–µ –≥–ª–æ–±–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É, –º–∞—î "–ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä". –á—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –∑–∞–ª–µ–∂–∏—Ç—å –Ω–µ –ª–∏—à–µ –≤—ñ–¥ —è–≤–Ω–∏—Ö –∞—Ä–≥—É–º–µ–Ω—Ç—ñ–≤. –¶–µ —É—Å–∫–ª–∞–¥–Ω—é—î —Ä–æ–∑—É–º—ñ–Ω–Ω—è, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥—É.

–î—Ä—É–≥–∞ –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –≥–æ–Ω–∫–∏ –¥–∞–Ω–∏—Ö. –£ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –∫—ñ–ª—å–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤ –º–æ–∂—É—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–æ —á–∏—Ç–∞—Ç–∏ —Ç–∞ –ø–∏—Å–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É. –ë–µ–∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ü–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

–¢—Ä–µ—Ç—è –ø—Ä–æ–±–ª–µ–º–∞ ‚Äî –ø–æ—Ä—É—à–µ–Ω–Ω—è —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó. –ë—É–¥—å-—è–∫–∏–π –∫–æ–¥ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω, –æ–±—Ö–æ–¥—è—á–∏ –≤—Å—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç–∏.

### –°—Ç–∞—Ç–∏—á–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –≤ Rust

Rust –º–∞—î –¥–≤–∞ –≤–∏–¥–∏ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö:

**–ù–µ–∑–º—ñ–Ω–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ** (`static`): –≥–ª–æ–±–∞–ª—å–Ω—ñ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏, –±–µ–∑–ø–µ—á–Ω—ñ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è –∑ –±—É–¥—å-—è–∫–æ–≥–æ –ø–æ—Ç–æ–∫—É.

```rust
static MAX_DRONES: u32 = 100;

fn validate_fleet_size(n: u32) -> bool {
    n <= MAX_DRONES
}
```

**–ó–º—ñ–Ω–Ω—ñ —Å—Ç–∞—Ç–∏—á–Ω—ñ** (`static mut`): –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, —â–æ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è. –î–æ—Å—Ç—É–ø –¥–æ –Ω–∏—Ö –≤–∏–º–∞–≥–∞—î `unsafe`.

```rust
static mut COUNTER: u32 = 0;

fn increment() {
    unsafe {
        COUNTER += 1;  // unsafe!
    }
}
```

Rust –≤–∏–º–∞–≥–∞—î `unsafe` –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ `static mut`, –±–æ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –º–æ–∂–µ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≥–æ–Ω–æ–∫ –¥–∞–Ω–∏—Ö. –í–∏ –±–µ—Ä–µ—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –Ω–∞ —Å–µ–±–µ.

### –ü–∞—Å—Ç–∫–∞: static mut —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É –∫–æ–¥—ñ

```rust
static mut TOTAL_FUEL: f64 = 0.0;

fn add_fuel(amount: f64) {
    unsafe {
        TOTAL_FUEL += amount;  // –ì–æ–Ω–∫–∞ –¥–∞–Ω–∏—Ö!
    }
}
```

–Ø–∫—â–æ –¥–≤–∞ –ø–æ—Ç–æ–∫–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å `add_fuel`, –≤–æ–Ω–∏ –º–æ–∂—É—Ç—å –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è `TOTAL_FUEL`, –¥–æ–¥–∞—Ç–∏ —Å–≤–æ—ó `amount`, —ñ –∑–∞–ø–∏—Å–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –û–¥–Ω–µ –∑ –¥–æ–¥–∞–≤–∞–Ω—å "–∑–∞–≥—É–±–∏—Ç—å—Å—è".

–ù–∞–ø—Ä–∏–∫–ª–∞–¥: TOTAL_FUEL = 100. –ü–æ—Ç—ñ–∫ A —á–∏—Ç–∞—î 100, –ø–æ—Ç—ñ–∫ B —á–∏—Ç–∞—î 100. –ü–æ—Ç—ñ–∫ A –ø–∏—à–µ 100 + 50 = 150. –ü–æ—Ç—ñ–∫ B –ø–∏—à–µ 100 + 30 = 130. –†–µ–∑—É–ª—å—Ç–∞—Ç: 130, —Ö–æ—á–∞ –º–∞–ª–æ –±—É—Ç–∏ 180.

### –ë–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏

–î–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞—Ç–æ–º–∞—Ä–Ω—ñ —Ç–∏–ø–∏:

```rust
use std::sync::atomic::{AtomicU64, Ordering};

static COUNTER: AtomicU64 = AtomicU64::new(0);

fn increment() {
    COUNTER.fetch_add(1, Ordering::SeqCst);
}
```

–î–ª—è —Å–∫–ª–∞–¥–Ω—ñ—à–∏—Ö –¥–∞–Ω–∏—Ö ‚Äî `Mutex` –∞–±–æ `RwLock`:

```rust
use std::sync::Mutex;
use once_cell::sync::Lazy;

static CONFIG: Lazy<Mutex<Config>> = Lazy::new(|| Mutex::new(Config::default()));

fn update_config(new_value: Config) {
    let mut config = CONFIG.lock().unwrap();
    *config = new_value;
}
```

–ù–∞–π–∫—Ä–∞—â–µ ‚Äî —É–Ω–∏–∫–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –≤–∑–∞–≥–∞–ª—ñ. –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —è–≤–Ω–æ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω Dependency Injection.

---

## –¢–ï–û–†–Ü–Ø: LIFETIME-–ü–†–û–ë–õ–ï–ú–ò –£ –§–£–ù–ö–¶–Ü–Ø–•

### –ß–æ–º—É lifetime –≤–∞–∂–ª–∏–≤—ñ

–ö–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è, Rust –º–∞—î –∑–Ω–∞—Ç–∏, —è–∫ –¥–æ–≤–≥–æ —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤–∞–ª—ñ–¥–Ω–µ. –Ø–∫—â–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è "–ø–µ—Ä–µ–∂–∏–≤–µ" –¥–∞–Ω—ñ, –Ω–∞ —è–∫—ñ –≤–∫–∞–∑—É—î, –æ—Ç—Ä–∏–º–∞—î–º–æ dangling reference ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–≤—ñ–ª—å–Ω–µ–Ω—É –ø–∞–º'—è—Ç—å.

```rust
fn get_longer<'a>(s1: &'a str, s2: &'a str) -> &'a str {
    if s1.len() > s2.len() { s1 } else { s2 }
}
```

–ê–Ω–æ—Ç–∞—Ü—ñ—è `'a` –æ–∑–Ω–∞—á–∞—î: "—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∂–∏–≤–µ –Ω–µ –¥–æ–≤—à–µ, –Ω—ñ–∂ –æ–±–∏–¥–≤–∞ –≤—Ö—ñ–¥–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏". –Ø–∫—â–æ –æ–¥–∏–Ω –∑ –≤—Ö—ñ–¥–Ω–∏—Ö —Ä—è–¥–∫—ñ–≤ –±—É–¥–µ –∑–Ω–∏—â–µ–Ω–æ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ–∂ —Å—Ç–∞–Ω–µ –Ω–µ–¥—ñ–π—Å–Ω–∏–º.

### –ü–∞—Å—Ç–∫–∞ 1: –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É

```rust
fn create_greeting(name: &str) -> &str {
    let greeting = format!("Hello, {}!", name);
    &greeting  // –ü–û–ú–ò–õ–ö–ê!
}
```

–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–¥–∞—Å—Ç—å: "cannot return reference to local variable `greeting`". –ó–º—ñ–Ω–Ω–∞ `greeting` —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó —ñ –∑–Ω–∏—â—É—î—Ç—å—Å—è –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ. –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–µ—ó —Å—Ç–∞–Ω–µ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º.

–†—ñ—à–µ–Ω–Ω—è ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, –∞ –Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

```rust
fn create_greeting(name: &str) -> String {
    format!("Hello, {}!", name)
}
```

### –ü–∞—Å—Ç–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ –∑–≤'—è–∑—É–≤–∞–Ω–Ω—è lifetime

```rust
fn get_first_word(s: &str) -> &str {
    s.split_whitespace().next().unwrap_or("")
}
```

–¶–µ–π –∫–æ–¥ –ø—Ä–∞—Ü—é—î –∑–∞–≤–¥—è–∫–∏ –ø—Ä–∞–≤–∏–ª–∞–º "lifetime elision" ‚Äî Rust –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–≤–æ–¥–∏—Ç—å, —â–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–∞—î —Ç–æ–π —Å–∞–º–∏–π lifetime, —â–æ –π –≤—Ö—ñ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä.

–ê–ª–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –≤–∏–ø–∞–¥–æ–∫:

```rust
fn get_first_word_or_default<'a>(s: &'a str, default: &'a str) -> &'a str {
    let word = s.split_whitespace().next();
    word.unwrap_or(default)
}
```

–¢—É—Ç –æ–±–∏–¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–∏–π lifetime `'a`. –¶–µ –æ–∑–Ω–∞—á–∞—î: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª—ñ–¥–Ω–∏–π, –ª–∏—à–µ –ø–æ–∫–∏ –û–ë–ê –≤—Ö—ñ–¥–Ω—ñ —Ä—è–¥–∫–∏ –≤–∞–ª—ñ–¥–Ω—ñ. –Ø–∫—â–æ –æ–¥–∏–Ω –∑ –Ω–∏—Ö ‚Äî —Ç–∏–º—á–∞—Å–æ–≤–∏–π, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ–∂ –æ–±–º–µ–∂–µ–Ω–∏–π.

```rust
let result;
{
    let temp = String::from("default");
    let input = "hello world";
    result = get_first_word_or_default(input, &temp);
}  // temp –∑–Ω–∏—â–µ–Ω–æ
// println!("{}", result);  // –ü–û–ú–ò–õ–ö–ê: temp –Ω–µ —ñ—Å–Ω—É—î
```

### –ü–∞—Å—Ç–∫–∞ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏

–Ø–∫—â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –≤–æ–Ω–∞ –ø–æ—Ç—Ä–µ–±—É—î lifetime-–∞–Ω–æ—Ç–∞—Ü—ñ—ó:

```rust
struct DroneView<'a> {
    position: &'a Position,
    target: &'a Position,
}
```

–ï–∫–∑–µ–º–ø–ª—è—Ä `DroneView` –Ω–µ –º–æ–∂–µ "–ø–µ—Ä–µ–∂–∏—Ç–∏" –¥–∞–Ω—ñ, –Ω–∞ —è–∫—ñ –≤—ñ–Ω –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è. –¶–µ –æ–±–º–µ–∂—É—î –≥–Ω—É—á–∫—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.

–ß–∞—Å—Ç–æ –ø—Ä–æ—Å—Ç—ñ—à–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å –ø–æ—Å–∏–ª–∞–Ω—å:

```rust
struct DroneView {
    position: Position,  // –í–æ–ª–æ–¥—ñ–Ω–Ω—è, –Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    target: Position,
}
```

–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `Rc`/`Arc` –¥–ª—è —Å–ø—ñ–ª—å–Ω–æ–≥–æ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, —è–∫—â–æ —Ü–µ —Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

---

## –¢–ï–û–†–Ü–Ø: –†–ï–ö–£–†–°–ò–í–ù–Ü –¢–ò–ü–ò –¢–ê –§–£–ù–ö–¶–Ü–á

### –ü—Ä–æ–±–ª–µ–º–∞ –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É

Rust –º–∞—î –∑–Ω–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –¶–µ —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–±–ª–µ–º—É –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏—Ö —Ç–∏–ø—ñ–≤:

```rust
enum List {
    Node(i32, List),  // –ü–û–ú–ò–õ–ö–ê: –Ω–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∏–π —Ä–æ–∑–º—ñ—Ä
    Empty,
}
```

–°–∫—ñ–ª—å–∫–∏ –ø–∞–º'—è—Ç—ñ –∑–∞–π–º–∞—î `List`? –©–æ–± –æ–±—á–∏—Å–ª–∏—Ç–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä `List`, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å... `List`. –ù–µ—Å–∫—ñ–Ω—á–µ–Ω–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—è.

–†—ñ—à–µ–Ω–Ω—è ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–Ω–¥–∏—Ä–µ–∫—Ü—ñ—é —á–µ—Ä–µ–∑ Box:

```rust
enum List {
    Node(i32, Box<List>),
    Empty,
}
```

–¢–µ–ø–µ—Ä `Node` –º—ñ—Å—Ç–∏—Ç—å –Ω–µ `List`, –∞ `Box<List>` ‚Äî –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É. –°–∞–º `List` —Ä–æ–∑–º—ñ—â—É—î—Ç—å—Å—è –Ω–∞ heap.

### –í–∑–∞—î–º–Ω–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

–§—É–Ω–∫—Ü—ñ—ó –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –æ–¥–Ω–∞ –æ–¥–Ω—É, —Å—Ç–≤–æ—Ä—é—é—á–∏ —Ü–∏–∫–ª:

```rust
fn is_even(n: u64) -> bool {
    if n == 0 { true } else { is_odd(n - 1) }
}

fn is_odd(n: u64) -> bool {
    if n == 0 { false } else { is_even(n - 1) }
}
```

–¶–µ–π –∫–æ–¥ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π, –∞–ª–µ –º–∞—î —Ç—ñ —Å–∞–º—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –≥–ª–∏–±–∏–Ω–æ—é —Å—Ç–µ–∫—É, —â–æ –π –∑–≤–∏—á–∞–π–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—è. –î–ª—è –≤–µ–ª–∏–∫–∏—Ö n —Å—Ç–µ–∫ –ø–µ—Ä–µ–ø–æ–≤–Ω–∏—Ç—å—Å—è.

---

## –ü–†–ê–ö–¢–ò–ß–ù–Ü –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á

### –ü—Ä–∞–≤–∏–ª–æ 1: –û–±–º–µ–∂—É–π—Ç–µ –≥–ª–∏–±–∏–Ω—É —Ä–µ–∫—É—Ä—Å—ñ—ó –∞–±–æ —É–Ω–∏–∫–∞–π—Ç–µ —ó—ó

–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó –∑–∞–ø–∏—Ç–∞–π—Ç–µ: —è–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≥–ª–∏–±–∏–Ω–∞? –Ø–∫—â–æ –≤–æ–Ω–∞ –º–æ–∂–µ –±—É—Ç–∏ —Ç–∏—Å—è—á—ñ —ñ –±—ñ–ª—å—à–µ ‚Äî –ø–µ—Ä–µ–ø–∏—à—ñ—Ç—å –Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—é –∑ —è–≤–Ω–∏–º —Å—Ç–µ–∫–æ–º.

```rust
// –ó–∞–º—ñ—Å—Ç—å —Ä–µ–∫—É—Ä—Å—ñ—ó
fn traverse_recursive(node: &Node) {
    process(node);
    for child in &node.children {
        traverse_recursive(child);
    }
}

// –Ü—Ç–µ—Ä–∞—Ü—ñ—è –∑ —è–≤–Ω–∏–º —Å—Ç–µ–∫–æ–º
fn traverse_iterative(root: &Node) {
    let mut stack = vec![root];
    while let Some(node) = stack.pop() {
        process(node);
        stack.extend(node.children.iter());
    }
}
```

### –ü—Ä–∞–≤–∏–ª–æ 2: –£–Ω–∏–∫–∞–π—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å ‚Äî –º–µ–º–æ—ñ–∑—É–π—Ç–µ

–Ø–∫—â–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î —Å–µ–±–µ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ ‚Äî –¥–æ–¥–∞–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è –∞–±–æ –ø–µ—Ä–µ–ø–∏—à—ñ—Ç—å —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º—ñ—á–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è.

### –ü—Ä–∞–≤–∏–ª–æ 3: –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, —è–∫—â–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è

```rust
// –ü–æ–≥–∞–Ω–æ: —Å–ø–æ–∂–∏–≤–∞—î –¥–∞–Ω—ñ
fn analyze(data: Vec<i32>) -> Statistics { ... }

// –î–æ–±—Ä–µ: –ø–æ–∑–∏—á–∞—î –¥–∞–Ω—ñ
fn analyze(data: &[i32]) -> Statistics { ... }
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É: `&[i32]` (—Å–ª–∞–π—Å) –∑–∞–º—ñ—Å—Ç—å `&Vec<i32>`. –°–ª–∞–π—Å –±—ñ–ª—å—à –≥–Ω—É—á–∫–∏–π ‚Äî –π–æ–≥–æ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —ñ –∑ Vec, —ñ –∑ –º–∞—Å–∏–≤—É.

### –ü—Ä–∞–≤–∏–ª–æ 4: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ move –¥–ª—è –∑–∞–º–∏–∫–∞–Ω—å, —â–æ "–ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç—å" –∫–æ–Ω—Ç–µ–∫—Å—Ç

–Ø–∫—â–æ –∑–∞–º–∏–∫–∞–Ω–Ω—è –±—É–¥–µ –∑–±–µ—Ä–µ–∂–µ–Ω–µ –∞–±–æ –ø–µ—Ä–µ–¥–∞–Ω–µ –≤ —ñ–Ω—à–∏–π –ø–æ—Ç—ñ–∫ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `move`:

```rust
// –ü–µ—Ä–µ–¥–∞—á–∞ –≤ –ø–æ—Ç—ñ–∫
let data = vec![1, 2, 3];
thread::spawn(move || {
    println!("{:?}", data);
});

// –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ
struct Handler {
    callback: Box<dyn Fn()>,
}

let name = String::from("Drone-1");
let handler = Handler {
    callback: Box::new(move || println!("Handler for {}", name)),
};
```

### –ü—Ä–∞–≤–∏–ª–æ 5: –£–Ω–∏–∫–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É

–ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —è–≤–Ω–æ. –Ø–∫—â–æ –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω –Ω–µ–º–∏–Ω—É—á–∏–π ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –±–µ–∑–ø–µ—á–Ω—ñ –ø—Ä–∏–º—ñ—Ç–∏–≤–∏ (Atomic, Mutex) –∑–∞–º—ñ—Å—Ç—å `static mut`.

### –ü—Ä–∞–≤–∏–ª–æ 6: –ü–æ–≤–µ—Ä—Ç–∞–π—Ç–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, —è–∫—â–æ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–æ–≤—ñ –¥–∞–Ω—ñ

```rust
// –ü–æ–≥–∞–Ω–æ: –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
fn create_path(points: &[Point]) -> &Path { ... }  // –ù–µ–º–æ–∂–ª–∏–≤–æ!

// –î–æ–±—Ä–µ: –ø–æ–≤–µ—Ä—Ç–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è
fn create_path(points: &[Point]) -> Path { ... }
```

---

## –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ —Ä–æ—é –ë–ü–õ–ê

### –ë–µ–∑–ø–µ—á–Ω–∏–π –ø–æ—à—É–∫ —à–ª—è—Ö—É

```rust
use std::collections::{HashMap, BinaryHeap, HashSet};

fn find_path_safe(
    start: Position,
    target: Position,
    obstacles: &HashSet<Position>,
) -> Option<Vec<Position>> {
    // A* –∞–ª–≥–æ—Ä–∏—Ç–º –±–µ–∑ —Ä–µ–∫—É—Ä—Å—ñ—ó
    let mut open_set = BinaryHeap::new();
    let mut came_from: HashMap<Position, Position> = HashMap::new();
    let mut g_score: HashMap<Position, f64> = HashMap::new();
    
    g_score.insert(start, 0.0);
    open_set.push(Node { position: start, f_score: heuristic(start, target) });
    
    while let Some(current) = open_set.pop() {
        if current.position == target {
            return Some(reconstruct_path(&came_from, current.position));
        }
        
        for neighbor in get_neighbors(current.position) {
            if obstacles.contains(&neighbor) {
                continue;
            }
            
            let tentative_g = g_score[&current.position] + 1.0;
            
            if tentative_g < *g_score.get(&neighbor).unwrap_or(&f64::INFINITY) {
                came_from.insert(neighbor, current.position);
                g_score.insert(neighbor, tentative_g);
                open_set.push(Node {
                    position: neighbor,
                    f_score: tentative_g + heuristic(neighbor, target),
                });
            }
        }
    }
    
    None  // –®–ª—è—Ö –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
}
```

### –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ–π –∑ –±–µ–∑–ø–µ—á–Ω–∏–º –∑–∞–º–∏–∫–∞–Ω–Ω—è–º

```rust
struct Drone {
    id: u32,
    event_handlers: Vec<Box<dyn Fn(&Event) + Send>>,
}

impl Drone {
    fn register_handler<F>(&mut self, handler: F)
    where
        F: Fn(&Event) + Send + 'static,
    {
        self.event_handlers.push(Box::new(handler));
    }
    
    fn on_target_detected(&self, target: &Target) {
        let drone_id = self.id;  // –ö–æ–ø—ñ—é—î–º–æ id
        
        // move –∑–∞—Ö–æ–ø–ª—é—î drone_id –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º
        self.register_handler(move |event| {
            if let Event::Confirmation(id) = event {
                if *id == drone_id {
                    println!("Drone {} confirmed target", drone_id);
                }
            }
        });
    }
}
```

### –ö–µ—à–æ–≤–∞–Ω–∏–π –æ–±—á–∏—Å–ª—é–≤–∞—á –≤—ñ–¥—Å—Ç–∞–Ω–µ–π

```rust
use std::collections::HashMap;
use std::cell::RefCell;

struct DistanceCalculator {
    cache: RefCell<HashMap<(Position, Position), f64>>,
}

impl DistanceCalculator {
    fn new() -> Self {
        Self { cache: RefCell::new(HashMap::new()) }
    }
    
    fn distance(&self, from: Position, to: Position) -> f64 {
        // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –∫–ª—é—á (–ø–æ—Ä—è–¥–æ–∫ –Ω–µ –º–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –≤—ñ–¥—Å—Ç–∞–Ω—ñ)
        let key = if from < to { (from, to) } else { (to, from) };
        
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–µ—à
        if let Some(&dist) = self.cache.borrow().get(&key) {
            return dist;
        }
        
        // –û–±—á–∏—Å–ª—é—î–º–æ —Ç–∞ –∫–µ—à—É—î–º–æ
        let dist = ((to.x - from.x).powi(2) + (to.y - from.y).powi(2)).sqrt();
        self.cache.borrow_mut().insert(key, dist);
        dist
    }
}
```

---

## –†–µ–∑—é–º–µ

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –º–∏ —Ä–æ–∑–≥–ª—è–Ω—É–ª–∏ –ø—ñ–¥—Å—Ç—É–ø–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏.

**–†–µ–∫—É—Ä—Å—ñ—è —Ç–∞ —Å—Ç–µ–∫**: –∫–æ–∂–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ –∑–∞–π–º–∞—î –º—ñ—Å—Ü–µ –Ω–∞ —Å—Ç–µ–∫—É. –ü—Ä–∏ –≥–ª–∏–±–æ–∫—ñ–π —Ä–µ–∫—É—Ä—Å—ñ—ó —Å—Ç–µ–∫ –ø–µ—Ä–µ–ø–æ–≤–Ω—é—î—Ç—å—Å—è. –†—ñ—à–µ–Ω–Ω—è: –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –≥–ª–∏–±–∏–Ω—É, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—é –∑ —è–≤–Ω–∏–º —Å—Ç–µ–∫–æ–º, –∞–±–æ –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏ –ª–æ–≥–∞—Ä–∏—Ñ–º—ñ—á–Ω—É –≥–ª–∏–±–∏–Ω—É.

**–ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å**: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∑ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º–∏ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è–º–∏ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ—á–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å. –†—ñ—à–µ–Ω–Ω—è: –º–µ–º–æ—ñ–∑–∞—Ü—ñ—è –∞–±–æ –¥–∏–Ω–∞–º—ñ—á–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è.

**–ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —É Rust**: –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (move) —Ñ—É–Ω–∫—Ü—ñ—è —Å–ø–æ–∂–∏–≤–∞—î –¥–∞–Ω—ñ, –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (&) –ª–∏—à–µ –ø–æ–∑–∏—á–∞—î. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –∞–±–æ –¥–æ "–≤—Ç—Ä–∞—Ç–∏" –¥–∞–Ω–∏—Ö, –∞–±–æ –¥–æ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è.

**–ó–∞–º–∏–∫–∞–Ω–Ω—è**: —Ä–µ–∂–∏–º –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è (by ref, by mut ref, by value) –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–±–æ —á–µ—Ä–µ–∑ `move`. –ó–∞–º–∏–∫–∞–Ω–Ω—è –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—é—Ç—å—Å—è —è–∫ Fn, FnMut, –∞–±–æ FnOnce –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∑–∞—Ö–æ–ø–ª–µ–Ω—ñ –¥–∞–Ω—ñ.

**–ì–ª–æ–±–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω**: `static mut` –≤–∏–º–∞–≥–∞—î unsafe —ñ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π —É –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–æ–º—É –∫–æ–¥—ñ. –ë–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏: –∞—Ç–æ–º–∞—Ä–Ω—ñ —Ç–∏–ø–∏, Mutex, –∞–±–æ —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –≤–∑–∞–≥–∞–ª—ñ.

**Lifetime**: —Ñ—É–Ω–∫—Ü—ñ—ó, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —á–∞—Å –∂–∏—Ç—Ç—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. –ù–µ–º–æ–∂–ª–∏–≤–æ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ.

---

## üîó –ó–≤'—è–∑–æ–∫ –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –º–∞—Ç–µ—Ä—ñ–∞–ª–æ–º

–û–ø–∞–Ω—É–≤–∞–≤—à–∏ –ø—ñ–¥—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ñ—É–Ω–∫—Ü—ñ–π, –≤–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–≤—á–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä —Ç–∞ —ó—Ö –º–µ—Ç–æ–¥—ñ–≤. –¢–∞–º –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ, —è–∫ Rust –æ–±'—î–¥–Ω—É—î –¥–∞–Ω—ñ —Ç–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫—É, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å –º–µ—Ç–æ–¥–∏ `self`, `&self` —Ç–∞ `&mut self`, —Ç–∞ —è–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–µ–∫—Ç—É–≤–∞—Ç–∏ API –¥–ª—è —Ç–∏–ø—ñ–≤ –∞–≥–µ–Ω—Ç–∞.
