# –ü—ñ–¥—Å—Ç—É–ø–Ω—ñ –∑–∞–¥–∞—á—ñ –∑ —Ä—è–¥–∫–∞–º–∏ —Ç–∞ —Ç–µ–∫—Å—Ç–æ–º

---

## üìã –ê–Ω–æ—Ç–∞—Ü—ñ—è

–¶–µ–π —Ä–æ–∑–¥—ñ–ª —Ä–æ–∑–∫—Ä–∏–≤–∞—î –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏ —Ä–æ–±–æ—Ç–∏ –∑ —Ç–µ–∫—Å—Ç–æ–º, —è–∫—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å, –∑–¥–∞–≤–∞–ª–æ—Å—è –±, –ø—Ä–æ—Å—Ç—É –∑–∞–¥–∞—á—É –Ω–∞ –º—ñ–Ω–Ω–µ –ø–æ–ª–µ. –í–∏ –¥—ñ–∑–Ω–∞—î—Ç–µ—Å—å, —á–æ–º—É —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ä—è–¥–∫–∞ `s[0]` –Ω–µ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –≤ Rust, —á–æ–º—É –¥–æ–≤–∂–∏–Ω–∞ —Ä—è–¥–∫–∞ "–ü—Ä–∏–≤—ñ—Ç" ‚Äî –Ω–µ 6, –∞ 12, —Ç–∞ —á–æ–º—É –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –≤—ñ–∑—É–∞–ª—å–Ω–æ —Å–∏–º–≤–æ–ª –º–æ–∂–µ –ø–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏—Å—å —è–∫ –Ω–µ—Ä—ñ–≤–Ω–∏–π —Å–∞–º —Å–æ–±—ñ. –£ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ —Ä–æ—é –ë–ü–õ–ê —Ü—ñ –∑–Ω–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤—ñ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –æ–±—Ä–æ–±–∫–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ –∞–≥–µ–Ω—Ç–∞–º–∏, –ø–∞—Ä—Å–∏–Ω–≥—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è ‚Äî —Å–∫—Ä—ñ–∑—å, –¥–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è —Ç–µ–∫—Å—Ç –∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–≤—ñ—Ç—É.

---

## üéØ –¶—ñ–ª—ñ –Ω–∞–≤—á–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

1. **–ü–æ—è—Å–Ω–∏—Ç–∏** —á–æ–º—É Rust –Ω–µ –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω–¥–µ–∫—Å—É–≤–∞—Ç–∏ —Ä—è–¥–∫–∏
2. **–†–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏** –±–∞–π—Ç–∏, –∫–æ–¥–æ–≤—ñ —Ç–æ—á–∫–∏ —Ç–∞ –≥—Ä–∞—Ñ–µ–º–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∏
3. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—á–∏—Å–ª—é–≤–∞—Ç–∏** "–¥–æ–≤–∂–∏–Ω—É" —Ä—è–¥–∫–∞ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∑–∞–¥–∞—á
4. **–£–Ω–∏–∫–∞—Ç–∏** –ø–∞–Ω—ñ–∫–∏ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑—ñ —Å–ª–∞–π—Å–∞–º–∏ —Ä—è–¥–∫—ñ–≤
5. **–†–æ–∑—É–º—ñ—Ç–∏** –ø—Ä–æ–±–ª–µ–º–∏ Unicode-–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è
6. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏** String —Ç–∞ &str –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ —Å–∏—Ç—É–∞—Ü—ñ—ó
7. **–û–±—Ä–æ–±–ª—è—Ç–∏** —Ç–µ–∫—Å—Ç –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –±–∞–≥–∞—Ç–æ–º–æ–≤–Ω–æ—Å—Ç—ñ

---

## üìö –ö–ª—é—á–æ–≤—ñ —Ç–µ—Ä–º—ñ–Ω–∏

| –¢–µ—Ä–º—ñ–Ω | –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------------|
| **UTF-8** | –ö–æ–¥—É–≤–∞–Ω–Ω—è Unicode –∑—ñ –∑–º—ñ–Ω–Ω–æ—é –¥–æ–≤–∂–∏–Ω–æ—é (1-4 –±–∞–π—Ç–∏ –Ω–∞ —Å–∏–º–≤–æ–ª) |
| **–∫–æ–¥–æ–≤–∞ —Ç–æ—á–∫–∞ (code point)** | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä —Å–∏–º–≤–æ–ª—É –≤ Unicode (U+0000 –¥–æ U+10FFFF) |
| **–≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä (grapheme cluster)** | –¢–µ, —â–æ –ª—é–¥–∏–Ω–∞ —Å–ø—Ä–∏–π–º–∞—î —è–∫ –æ–¥–∏–Ω "—Å–∏–º–≤–æ–ª" |
| **–±–∞–π—Ç (byte)** | –û–¥–∏–Ω–∏—Ü—è –¥–∞–Ω–∏—Ö, 8 –±—ñ—Ç, –∑–Ω–∞—á–µ–Ω–Ω—è 0-255 |
| **String** | –í–æ–ª–æ–¥—ñ—é—á–∏–π —Ä—è–¥–∫–æ–≤–∏–π —Ç–∏–ø —É Rust, –∑–±–µ—Ä—ñ–≥–∞—î UTF-8 –Ω–∞ heap |
| **&str** | –ü–æ–∑–∏—á–µ–Ω–∏–π —Å–ª–∞–π—Å —Ä—è–¥–∫–∞, –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ UTF-8 –¥–∞–Ω—ñ |
| **–Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è Unicode** | –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—å –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª—É –¥–æ —î–¥–∏–Ω–æ—ó —Ñ–æ—Ä–º–∏ |

---

## üí° –ú–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–∏–π –∫–µ–π—Å: –¢—É—Ä–µ—Ü—å–∫–∞ –ª—ñ—Ç–µ—Ä–∞ "I" —Ç–∞ –∑–±—ñ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

–£ 2008 —Ä–æ—Ü—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑ –¢—É—Ä–µ—á—á–∏–Ω–∏ –º–∞—Å–æ–≤–æ –Ω–µ –º–æ–≥–ª–∏ —É–≤—ñ–π—Ç–∏ –¥–æ —Å–≤–æ—ó—Ö –∞–∫–∞—É–Ω—Ç—ñ–≤ –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ–º—É –≤–µ–±-—Å–µ—Ä–≤—ñ—Å—ñ. –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—è–≤–∏–ª–∞—Å—å —É –Ω–µ–≤–∏–Ω–Ω–æ–º—É —Ä—è–¥–∫—É –∫–æ–¥—É, —â–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞–≤ email –Ω–∞ –Ω–∏–∂–Ω—ñ–π —Ä–µ–≥—ñ—Å—Ç—Ä –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.

–£ –±—ñ–ª—å—à–æ—Å—Ç—ñ –º–æ–≤ –ª—ñ—Ç–µ—Ä–∞ "I" —É –Ω–∏–∂–Ω—å–æ–º—É —Ä–µ–≥—ñ—Å—Ç—Ä—ñ —Å—Ç–∞—î "i". –ê–ª–µ —Ç—É—Ä–µ—Ü—å–∫–∞ –º–æ–≤–∞ –º–∞—î —á–æ—Ç–∏—Ä–∏ —Ä—ñ–∑–Ω—ñ –ª—ñ—Ç–µ—Ä–∏ "—ñ":
- "I" (–≤–µ–ª–∏–∫–∞ –±–µ–∑ –∫—Ä–∞–ø–∫–∏) ‚Üí "ƒ±" (–º–∞–ª–∞ –±–µ–∑ –∫—Ä–∞–ø–∫–∏)
- "ƒ∞" (–≤–µ–ª–∏–∫–∞ –∑ –∫—Ä–∞–ø–∫–æ—é) ‚Üí "i" (–º–∞–ª–∞ –∑ –∫—Ä–∞–ø–∫–æ—é)

–ö–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä —ñ–∑ —Ç—É—Ä–µ—Ü—å–∫–æ—é –ª–æ–∫–∞–ª–ª—é –≤–∏–∫–æ–Ω—É–≤–∞–≤ `"USER@EMAIL.COM".to_lowercase()`, –ª—ñ—Ç–µ—Ä–∞ "I" –ø–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞–ª–∞—Å—å –Ω–∞ "ƒ±" (–±–µ–∑ –∫—Ä–∞–ø–∫–∏), –∞ –Ω–µ –Ω–∞ "i". Email `"user@email.com"` —ñ `"USER@EMAIL.COM"` —Å—Ç–∞–≤–∞–ª–∏ —Ä—ñ–∑–Ω–∏–º–∏ —Ä—è–¥–∫–∞–º–∏, —ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –Ω–µ –º–æ–≥–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–≤–∞—Ç–∏—Å—å.

–¶–µ –Ω–µ –ø–æ–º–∏–ª–∫–∞ –≤ –∫–æ–¥—ñ ‚Äî —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –¥–ª—è —Ç—É—Ä–µ—Ü—å–∫–æ—ó –º–æ–≤–∏! –ü—Ä–æ–±–ª–µ–º–∞ –≤ –ø—Ä–∏–ø—É—â–µ–Ω–Ω—ñ, —â–æ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Ä–µ–≥—ñ—Å—Ç—Ä–æ–º –ø—Ä–∞—Ü—é—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤—Å—ñ—Ö –º–æ–≤.

–ü–æ–¥—ñ–±–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø–æ—Å—Ç—ñ–π–Ω–æ: —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –Ω—ñ–º–µ—Ü—å–∫–∏—Ö —ñ–º–µ–Ω –∑ —É–º–ª–∞—É—Ç–∞–º–∏, –ø–æ—à—É–∫ —É —è–ø–æ–Ω—Å—å–∫–æ–º—É —Ç–µ–∫—Å—Ç—ñ, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞—Ä–∞–±—Å—å–∫–∏—Ö —Å–ª—ñ–≤. –¢–µ–∫—Å—Ç ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤, —ñ Rust –∑–º—É—à—É—î –≤–∞—Å —Ü–µ —É—Å–≤—ñ–¥–æ–º–∏—Ç–∏.

---

## –¢–ï–û–†–Ü–Ø: –©–û –¢–ê–ö–ï UTF-8 –Ü –ß–û–ú–£ –í–Ü–ù –¢–ê–ö–ò–ô

### –Ü—Å—Ç–æ—Ä–∏—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞: —è–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –≤—Å—ñ —Å–∏–º–≤–æ–ª–∏ —Å–≤—ñ—Ç—É

–ù–∞ –∑–æ—Ä—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–æ—ó –µ—Ä–∏ —Ç–µ–∫—Å—Ç –±—É–≤ –ø—Ä–æ—Å—Ç–∏–º. ASCII –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ 7 –±—ñ—Ç —ñ –º—ñ–≥ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ 128 —Å–∏–º–≤–æ–ª—ñ–≤: –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π –∞–ª—Ñ–∞–≤—ñ—Ç, —Ü–∏—Ñ—Ä–∏, —Ä–æ–∑–¥—ñ–ª–æ–≤—ñ –∑–Ω–∞–∫–∏ —Ç–∞ –∫–µ—Ä—É—é—á—ñ —Å–∏–º–≤–æ–ª–∏. –û–¥–∏–Ω –±–∞–π—Ç ‚Äî –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª. –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–∞.

–ê–ª–µ —Å–≤—ñ—Ç –±—ñ–ª—å—à–∏–π –∑–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É –º–æ–≤—É. –ü–æ—Ç—Ä—ñ–±–Ω–æ –±—É–ª–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –∫–∏—Ä–∏–ª–∏—Ü—é, —ñ—î—Ä–æ–≥–ª—ñ—Ñ–∏, –∞—Ä–∞–±—Å—å–∫—É –≤'—è–∑—å, –≥—Ä–µ—Ü—å–∫—ñ –ª—ñ—Ç–µ—Ä–∏, –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ —Å–∏–º–≤–æ–ª–∏, –µ–º–æ–¥–∑—ñ... Unicode –≤–∏—Ä—ñ—à–∏–≤ —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –ø—Ä–∏—Å–≤–æ—ó–≤—à–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä (–∫–æ–¥–æ–≤—É —Ç–æ—á–∫—É) –∫–æ–∂–Ω–æ–º—É —Å–∏–º–≤–æ–ª—É. –ù–∞—Ä–∞–∑—ñ Unicode –º—ñ—Å—Ç–∏—Ç—å –ø–æ–Ω–∞–¥ 140 000 —Å–∏–º–≤–æ–ª—ñ–≤.

–ó–∞–ª–∏—à–∞–ª–æ—Å—å –ø–∏—Ç–∞–Ω–Ω—è: —è–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ü—ñ –Ω–æ–º–µ—Ä–∏ –≤ –ø–∞–º'—è—Ç—ñ? –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤ –Ω–∞ —Å–∏–º–≤–æ–ª. UTF-32 –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î 4 –±–∞–π—Ç–∏ –Ω–∞ –∫–æ–∂–µ–Ω —Å–∏–º–≤–æ–ª. –¶–µ –∑—Ä—É—á–Ω–æ –¥–ª—è —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó, –∞–ª–µ –º–∞—Ä–Ω–æ—Ç—Ä–∞—Ç–Ω–æ: –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Ç–µ–∫—Å—Ç –∑–∞–π–º–∞—î –≤—á–µ—Ç–≤–µ—Ä–æ –±—ñ–ª—å—à–µ –º—ñ—Å—Ü—è, –Ω—ñ–∂ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

UTF-8 ‚Äî —Ü–µ –∫–æ–º–ø—Ä–æ–º—ñ—Å. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∑–º—ñ–Ω–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤:
- –°–∏–º–≤–æ–ª–∏ ASCII (U+0000 –¥–æ U+007F): 1 –±–∞–π—Ç
- –õ–∞—Ç–∏–Ω–∏—Ü—è –∑ –¥—ñ–∞–∫—Ä–∏—Ç–∏–∫–æ—é, –∫–∏—Ä–∏–ª–∏—Ü—è, –≥—Ä–µ—Ü—å–∫–∞, –∞—Ä–∞–±—Å—å–∫–∞ (U+0080 –¥–æ U+07FF): 2 –±–∞–π—Ç–∏
- –ë—ñ–ª—å—à—ñ—Å—Ç—å —ñ–Ω—à–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –∫–∏—Ç–∞–π—Å—å–∫—ñ —ñ—î—Ä–æ–≥–ª—ñ—Ñ–∏ (U+0800 –¥–æ U+FFFF): 3 –±–∞–π—Ç–∏
- –†—ñ–¥–∫—ñ—Å–Ω—ñ —Å–∏–º–≤–æ–ª–∏ —Ç–∞ –µ–º–æ–¥–∑—ñ (U+10000 –¥–æ U+10FFFF): 4 –±–∞–π—Ç–∏

–ê–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Ç–µ–∫—Å—Ç –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º (1 –±–∞–π—Ç –Ω–∞ —Å–∏–º–≤–æ–ª), –∞ –≤—Å—ñ —Å–∏–º–≤–æ–ª–∏ —Å–≤—ñ—Ç—É –≤—Å–µ –æ–¥–Ω–æ –º–æ–∂–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏. UTF-8 —Å—Ç–∞–≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º –¥–µ-—Ñ–∞–∫—Ç–æ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ —Ç–∞ —Å—É—á–∞—Å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.

### –Ø–∫ –≤–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π UTF-8

UTF-8 ‚Äî —Ü–µ —Å–∞–º–æ—Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è. –î–∏–≤–ª—è—á–∏—Å—å –Ω–∞ –±—É–¥—å-—è–∫–∏–π –±–∞–π—Ç, –º–æ–∂–Ω–∞ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —á–∏ —Ü–µ –ø–æ—á–∞—Ç–æ–∫ —Å–∏–º–≤–æ–ª—É, —á–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è.

–Ø–∫—â–æ —Å—Ç–∞—Ä—à–∏–π –±—ñ—Ç –±–∞–π—Ç–∞ ‚Äî 0, —Ü–µ –æ–¥–Ω–æ–±–∞–π—Ç–æ–≤–∏–π —Å–∏–º–≤–æ–ª ASCII (0xxxxxxx).

–Ø–∫—â–æ –±–∞–π—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 110, —Ü–µ –ø–æ—á–∞—Ç–æ–∫ –¥–≤–æ–±–∞–π—Ç–æ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª—É (110xxxxx 10xxxxxx).

–Ø–∫—â–æ –±–∞–π—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 1110, —Ü–µ –ø–æ—á–∞—Ç–æ–∫ —Ç—Ä–∏–±–∞–π—Ç–æ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª—É (1110xxxx 10xxxxxx 10xxxxxx).

–Ø–∫—â–æ –±–∞–π—Ç –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ 11110, —Ü–µ –ø–æ—á–∞—Ç–æ–∫ —á–æ—Ç–∏—Ä–∏–±–∞–π—Ç–æ–≤–æ–≥–æ —Å–∏–º–≤–æ–ª—É (11110xxx 10xxxxxx 10xxxxxx 10xxxxxx).

–ë–∞–π—Ç–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∑–∞–≤–∂–¥–∏ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑ 10. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏—è–≤–∏—Ç–∏ –ø–æ—à–∫–æ–¥–∂–µ–Ω—ñ –¥–∞–Ω—ñ —Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏—Å—å –ø–æ—Å–µ—Ä–µ–¥ –ø–æ—Ç–æ–∫—É.

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥. –õ—ñ—Ç–µ—Ä–∞ "–ü" (–∫–∏—Ä–∏–ª–∏—Ü—è) –º–∞—î –∫–æ–¥–æ–≤—É —Ç–æ—á–∫—É U+041F, —â–æ –≤ –¥–≤—ñ–π–∫–æ–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ 10000011111. –î–ª—è –∫–æ–¥—É–≤–∞–Ω–Ω—è –≤ UTF-8:
- –ü–æ—Ç—Ä—ñ–±–Ω–æ 11 –±—ñ—Ç, —â–æ –≤–º—ñ—â—É—î—Ç—å—Å—è —É –¥–≤–æ–±–∞–π—Ç–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç
- –§–æ—Ä–º–∞—Ç: 110xxxxx 10xxxxxx
- –†–æ–∑–ø–æ–¥—ñ–ª—è—î–º–æ –±—ñ—Ç–∏: 110**10000** 10**011111**
- –†–µ–∑—É–ª—å—Ç–∞—Ç: 0xD0 0x9F (–¥–≤–∞ –±–∞–π—Ç–∏)

–û—Å—å —á–æ–º—É —Ä—è–¥–æ–∫ "–ü—Ä–∏–≤—ñ—Ç" –∑–∞–π–º–∞—î 12 –±–∞–π—Ç—ñ–≤, –∞ –Ω–µ 6: –∫–æ–∂–Ω–∞ –∫–∏—Ä–∏–ª–∏—á–Ω–∞ –ª—ñ—Ç–µ—Ä–∞ ‚Äî 2 –±–∞–π—Ç–∏.

### –ß–æ–º—É —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è –Ω–µ–º–æ–∂–ª–∏–≤–∞

–¢–µ–ø–µ—Ä –∑—Ä–æ–∑—É–º—ñ–ª–æ, —á–æ–º—É `s[0]` –Ω–µ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –¥–ª—è UTF-8 —Ä—è–¥–∫—ñ–≤. –©–æ –º–∞—î –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ü—è –æ–ø–µ—Ä–∞—Ü—ñ—è?

–Ø–∫—â–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–µ—Ä—à–∏–π –±–∞–π—Ç ‚Äî —Ü–µ —á–∞—Å—Ç–æ –±–µ–∑–≥–ª—É–∑–¥–æ. –ü–µ—Ä—à–∏–π –±–∞–π—Ç "–ü—Ä–∏–≤—ñ—Ç" ‚Äî —Ü–µ 0xD0, —â–æ –Ω–µ —î –≤–∞–ª—ñ–¥–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º —Å–∞–º –ø–æ —Å–æ–±—ñ.

–Ø–∫—â–æ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–µ—Ä—à–∏–π —Å–∏–º–≤–æ–ª ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ—Å–∫–∞–Ω—É–≤–∞—Ç–∏ —Ä—è–¥–æ–∫ –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É, —â–æ–± –∑–Ω–∞–π—Ç–∏ –º–µ–∂—É —Å–∏–º–≤–æ–ª—É. –¶–µ –æ–ø–µ—Ä–∞—Ü—ñ—è O(n), –∞ –Ω–µ O(1), —è–∫ –æ—á—ñ–∫—É—î—Ç—å—Å—è –≤—ñ–¥ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó.

Rust –æ–±—Ä–∞–≤ —á–µ—Å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥: –∑–∞–º—ñ—Å—Ç—å —Ç–∏—Ö–æ–≥–æ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –∞–±–æ –Ω–µ–æ—á—ñ–∫—É–≤–∞–Ω–æ –ø–æ–≤—ñ–ª—å–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ –∑–∞–±–æ—Ä–æ–Ω—è—î —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—é. –í–∏ –∑–º—É—à–µ–Ω—ñ —è–≤–Ω–æ –≤–∫–∞–∑–∞—Ç–∏, —â–æ —Å–∞–º–µ —Ö–æ—á–µ—Ç–µ: –±–∞–π—Ç, –∫–æ–¥–æ–≤—É —Ç–æ—á–∫—É —á–∏ –≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä.

---

## –¢–ï–û–†–Ü–Ø: –¢–†–ò –°–ü–û–°–û–ë–ò "–í–ò–ú–Ü–†–Ø–¢–ò" –†–Ø–î–û–ö

### –î–æ–≤–∂–∏–Ω–∞ –≤ –±–∞–π—Ç–∞—Ö: –º–µ—Ç–æ–¥ len()

–ú–µ—Ç–æ–¥ `len()` –ø–æ–≤–µ—Ä—Ç–∞—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–π—Ç—ñ–≤ —É —Ä—è–¥–∫—É. –î–ª—è UTF-8 —Ü–µ –Ω–µ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤!

```rust
let latin = "Hello";
let cyrillic = "–ü—Ä–∏–≤—ñ—Ç";
let emoji = "üë®‚Äçüë©‚Äçüëß‚Äçüë¶";

println!("{}", latin.len());     // 5 ‚Äî –ª–∞—Ç–∏–Ω–∏—Ü—è –ø–æ 1 –±–∞–π—Ç—É
println!("{}", cyrillic.len());  // 12 ‚Äî –∫–∏—Ä–∏–ª–∏—Ü—è –ø–æ 2 –±–∞–π—Ç–∏
println!("{}", emoji.len());     // 25 ‚Äî —Å–∫–ª–∞–¥–Ω–∏–π –µ–º–æ–¥–∑—ñ
```

–¶–µ –∫–æ—Ä–∏—Å–Ω–æ –¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, —Ä–æ–±–æ—Ç–∏ –∑ –±—É—Ñ–µ—Ä–∞–º–∏, –º–µ—Ä–µ–∂–µ–≤–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ ‚Äî —Å–∫—Ä—ñ–∑—å, –¥–µ –≤–∞–∂–ª–∏–≤–∏–π —Ñ–∞–∫—Ç–∏—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –¥–∞–Ω–∏—Ö.

### –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–æ–∫: chars().count()

–Ü—Ç–µ—Ä–∞—Ç–æ—Ä `chars()` —Ä–æ–∑–±–∏–≤–∞—î —Ä—è–¥–æ–∫ –Ω–∞ –∫–æ–¥–æ–≤—ñ —Ç–æ—á–∫–∏ Unicode. –ú–µ—Ç–æ–¥ `count()` —Ä–∞—Ö—É—î —ó—Ö –∫—ñ–ª—å–∫—ñ—Å—Ç—å.

```rust
let latin = "Hello";
let cyrillic = "–ü—Ä–∏–≤—ñ—Ç";
let emoji = "üë®‚Äçüë©‚Äçüëß‚Äçüë¶";

println!("{}", latin.chars().count());     // 5
println!("{}", cyrillic.chars().count());  // 6
println!("{}", emoji.chars().count());     // 7 (!!)
```

–ó–∞—á–µ–∫–∞–π—Ç–µ, —á–æ–º—É –µ–º–æ–¥–∑—ñ "—Å—ñ–º'—è" ‚Äî —Ü–µ 7 —Å–∏–º–≤–æ–ª—ñ–≤? –¢–æ–º—É —â–æ —Ü–µ–π –µ–º–æ–¥–∑—ñ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫—ñ–ª—å–∫–æ—Ö –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–æ–∫, –∑'—î–¥–Ω–∞–Ω–∏—Ö —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º ZWJ (Zero Width Joiner):
- üë® (—á–æ–ª–æ–≤—ñ–∫) U+1F468
- ZWJ U+200D
- üë© (–∂—ñ–Ω–∫–∞) U+1F469
- ZWJ U+200D
- üëß (–¥—ñ–≤—á–∏–Ω–∫–∞) U+1F467
- ZWJ U+200D
- üë¶ (—Ö–ª–æ–ø—á–∏–∫) U+1F466

–°—ñ–º –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è —è–∫ –æ–¥–∏–Ω –≤—ñ–∑—É–∞–ª—å–Ω–∏–π —Å–∏–º–≤–æ–ª.

### –ö—ñ–ª—å–∫—ñ—Å—Ç—å –≥—Ä–∞—Ñ–µ–º–Ω–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä—ñ–≤: unicode-segmentation

–ì—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä ‚Äî —Ü–µ —Ç–µ, —â–æ –ª—é–¥–∏–Ω–∞ —Å–ø—Ä–∏–π–º–∞—î —è–∫ –æ–¥–∏–Ω "—Å–∏–º–≤–æ–ª". –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ Rust –Ω–µ –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–æ—ó –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –≥—Ä–∞—Ñ–µ–º–Ω–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä—ñ–≤, –∞–ª–µ —î –∫—Ä–µ–π—Ç `unicode-segmentation`:

```rust
use unicode_segmentation::UnicodeSegmentation;

let emoji = "üë®‚Äçüë©‚Äçüëß‚Äçüë¶";
println!("{}", emoji.graphemes(true).count());  // 1
```

–¢–µ–ø–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ–Ω—Ç—É—ó—Ü—ñ—ó: –æ–¥–∏–Ω –µ–º–æ–¥–∑—ñ ‚Äî –æ–¥–∏–Ω –≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä.

–Ü–Ω—à—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ –≥—Ä–∞—Ñ–µ–º–Ω–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä—ñ–≤:
- "√©" –º–æ–∂–µ –±—É—Ç–∏ –æ–¥–Ω–∏–º —Å–∏–º–≤–æ–ª–æ–º (U+00E9) –∞–±–æ –¥–≤–æ–º–∞ (e + –∫–æ–º–±—ñ–Ω—É—é—á–∏–π –∞–∫—É—Ç ¬¥)
- "üëçüèΩ" ‚Äî —Ü–µ –¥–≤–∞ –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–∫–∏ (–ø–∞–ª–µ—Ü—å + –º–æ–¥–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–æ–ª—å–æ—Ä—É —à–∫—ñ—Ä–∏), –∞–ª–µ –æ–¥–∏–Ω –≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä
- "‡∏Å‡∏≥" —É —Ç–∞–π—Å—å–∫—ñ–π ‚Äî —Ü–µ –æ–¥–∏–Ω –≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä –∑ –¥–≤–æ—Ö –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–æ–∫

### –Ø–∫—É "–¥–æ–≤–∂–∏–Ω—É" –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

–í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–∞–¥–∞—á—ñ:

**len() (–±–∞–π—Ç–∏)** ‚Äî –¥–ª—è –±—É—Ñ–µ—Ä—ñ–≤, –º–µ—Ä–µ–∂—ñ, —Ñ–∞–π–ª—ñ–≤, –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ. –ö–æ–ª–∏ –≤–∞–∂–ª–∏–≤–∏–π —Ñ—ñ–∑–∏—á–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –¥–∞–Ω–∏—Ö.

**chars().count() (–∫–æ–¥–æ–≤—ñ —Ç–æ—á–∫–∏)** ‚Äî —Ä—ñ–¥–∫–æ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π –≤–∏–±—ñ—Ä, –∞–ª–µ —ñ–Ω–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏ Unicode.

**graphemes().count() (–≥—Ä–∞—Ñ–µ–º–Ω—ñ –∫–ª–∞—Å—Ç–µ—Ä–∏)** ‚Äî –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É, –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É "—Å–∏–º–≤–æ–ª—ñ–≤" —É —Å–æ—Ü—ñ–∞–ª—å–Ω–∏—Ö –º–µ—Ä–µ–∂–∞—Ö.

–í–∞–∂–ª–∏–≤–æ: chars().count() —Ç–∞ graphemes().count() ‚Äî –æ–ø–µ—Ä–∞—Ü—ñ—ó O(n), –≤–æ–Ω–∏ —Å–∫–∞–Ω—É—é—Ç—å –≤–µ—Å—å —Ä—è–¥–æ–∫. –î–ª—è –¥–æ–≤–≥–∏—Ö —Ç–µ–∫—Å—Ç—ñ–≤ —Ü–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ–≤—ñ–ª—å–Ω–æ.

---

## –¢–ï–û–†–Ü–Ø: –°–õ–ê–ô–°–ò –†–Ø–î–ö–Ü–í –¢–ê –ü–ê–ù–Ü–ö–ê

### –©–æ —Ç–∞–∫–µ —Å–ª–∞–π—Å —Ä—è–¥–∫–∞

–°–ª–∞–π—Å —Ä—è–¥–∫–∞ `&str` ‚Äî —Ü–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —á–∞—Å—Ç–∏–Ω—É UTF-8 –¥–∞–Ω–∏—Ö. –í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–ª–∞–π—Å –∑ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º –±–∞–π—Ç—ñ–≤:

```rust
let s = "Hello, World!";
let hello = &s[0..5];   // "Hello"
let world = &s[7..12];  // "World"
```

–Ü–Ω–¥–µ–∫—Å–∏ –≤ –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ ‚Äî —Ü–µ –ø–æ–∑–∏—Ü—ñ—ó –±–∞–π—Ç—ñ–≤, –Ω–µ —Å–∏–º–≤–æ–ª—ñ–≤!

### –ü–∞–Ω—ñ–∫–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –º–µ–∂–∞—Ö

–Ø–∫—â–æ –º–µ–∂—ñ —Å–ª–∞–π—Å—É –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑ –º–µ–∂–∞–º–∏ —Å–∏–º–≤–æ–ª—ñ–≤ UTF-8, –ø—Ä–æ–≥—Ä–∞–º–∞ –ø–∞–Ω—ñ–∫—É—î:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
// –°–ø—Ä–æ–±—É—î–º–æ –≤–∑—è—Ç–∏ "–ø–µ—Ä—à—ñ –¥–≤–∞ —Å–∏–º–≤–æ–ª–∏"
let slice = &s[0..2];  // –ü–ê–ù–Ü–ö–ê!
```

–ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–≤–µ—Ä—à—É—î—Ç—å—Å—è –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º: "byte index 2 is not a char boundary; it is inside '–ü' (bytes 0..2)".

–ü–æ—è—Å–Ω–µ–Ω–Ω—è: –ª—ñ—Ç–µ—Ä–∞ "–ü" –∑–∞–π–º–∞—î –±–∞–π—Ç–∏ 0 —ñ 1. –Ü–Ω–¥–µ–∫—Å 2 ‚Äî —Ü–µ —Å–µ—Ä–µ–¥–∏–Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –ª—ñ—Ç–µ—Ä–∏ "—Ä", –∞ –Ω–µ –º–µ–∂–∞ –º—ñ–∂ —Å–∏–º–≤–æ–ª–∞–º–∏. Rust –≤—ñ–¥–º–æ–≤–ª—è—î—Ç—å—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–ª–∞–π—Å, —â–æ –º—ñ—Å—Ç–∏–≤ –±–∏ –Ω–µ–ø–æ–≤–Ω–∏–π —Å–∏–º–≤–æ–ª.

–ü—Ä–∞–≤–∏–ª—å–Ω—ñ –º–µ–∂—ñ –¥–ª—è "–ü—Ä–∏–≤—ñ—Ç":
- 0 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "–ü"
- 2 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "—Ä"
- 4 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "–∏"
- 6 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "–≤"
- 8 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "—ñ"
- 10 ‚Äî –ø–æ—á–∞—Ç–æ–∫ "—Ç"
- 12 ‚Äî –∫—ñ–Ω–µ—Ü—å —Ä—è–¥–∫–∞

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
let first_two = &s[0..4];  // "–ü—Ä" ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

### –Ø–∫ –±–µ–∑–ø–µ—á–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Å–ª–∞–π—Å–∏

–ú–µ—Ç–æ–¥ `is_char_boundary()` –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —î –ø–æ–∑–∏—Ü—ñ—è –º–µ–∂–µ—é —Å–∏–º–≤–æ–ª—É:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
if s.is_char_boundary(4) {
    let slice = &s[0..4];  // –ë–µ–∑–ø–µ—á–Ω–æ
}
```

–î–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–µ—Ä—à–∏—Ö N —Å–∏–º–≤–æ–ª—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
let first_two: String = s.chars().take(2).collect();  // "–ü—Ä"
```

–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ –∑–∞–≤–∂–¥–∏ –±–µ–∑–ø–µ—á–Ω–∏–π, –±–æ –ø—Ä–∞—Ü—é—î –∑ —Å–∏–º–≤–æ–ª–∞–º–∏, –∞ –Ω–µ –±–∞–π—Ç–∞–º–∏.

### –ú–µ—Ç–æ–¥ get() –¥–ª—è –±–µ–∑–ø–µ—á–Ω–∏—Ö —Å–ª–∞–π—Å—ñ–≤

–ú–µ—Ç–æ–¥ `get()` –ø–æ–≤–µ—Ä—Ç–∞—î Option –∑–∞–º—ñ—Å—Ç—å –ø–∞–Ω—ñ–∫–∏:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";

let safe = s.get(0..4);    // Some("–ü—Ä")
let unsafe_ = s.get(0..3); // None ‚Äî –Ω–µ –Ω–∞ –º–µ–∂—ñ —Å–∏–º–≤–æ–ª—É
```

–¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–æ–±–∏—Ç–∏ –ø–æ–º–∏–ª–∫—É –∑–∞–º—ñ—Å—Ç—å –∞–≤–∞—Ä—ñ–π–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è.

---

## –¢–ï–û–†–Ü–Ø: –ü–û–†–Ü–í–ù–Ø–ù–ù–Ø –†–Ø–î–ö–Ü–í –¢–ê –ù–û–†–ú–ê–õ–Ü–ó–ê–¶–Ü–Ø

### –ü—Ä–æ–±–ª–µ–º–∞: –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª ‚Äî –∫—ñ–ª—å–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—å

Unicode –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –¥–µ—è–∫—ñ —Å–∏–º–≤–æ–ª–∏ –∫—ñ–ª—å–∫–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏. –õ—ñ—Ç–µ—Ä–∞ "√©" –º–æ–∂–µ –±—É—Ç–∏:

1. **–ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞ —Ñ–æ—Ä–º–∞ (NFC)**: –æ–¥–∏–Ω –∫–æ–¥–æ–≤–∏–π –ø—É–Ω–∫—Ç U+00E9 (LATIN SMALL LETTER E WITH ACUTE)
2. **–î–µ–∫–æ–º–ø–æ–∑–æ–≤–∞–Ω–∞ —Ñ–æ—Ä–º–∞ (NFD)**: –¥–≤–∞ –∫–æ–¥–æ–≤–∏—Ö –ø—É–Ω–∫—Ç–∏ ‚Äî U+0065 (LATIN SMALL LETTER E) + U+0301 (COMBINING ACUTE ACCENT)

–í—ñ–∑—É–∞–ª—å–Ω–æ –≤–æ–Ω–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ: √© = √©. –ê–ª–µ —è–∫ —Ä—è–¥–∫–∏ –≤–æ–Ω–∏ —Ä—ñ–∑–Ω—ñ!

```rust
let nfc = "caf√©";          // –ö–æ–º–ø–æ–∑–∏—Ç–Ω–∞ —Ñ–æ—Ä–º–∞
let nfd = "caf√©";         // –î–µ–∫–æ–º–ø–æ–∑–æ–≤–∞–Ω–∞ (e + –∫–æ–º–±—ñ–Ω—É—é—á–∏–π –∞–∫—É—Ç)

println!("{}", nfc == nfd);           // false!
println!("{} vs {}", nfc.len(), nfd.len());  // 5 vs 6 –±–∞–π—Ç—ñ–≤
```

–¶—ñ —Ä—è–¥–∫–∏ –≤–∏–≥–ª—è–¥–∞—é—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω–æ –æ–¥–Ω–∞–∫–æ–≤–æ, –∞–ª–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–æ–≤–µ—Ä—Ç–∞—î false. –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –¥–∏–≤–Ω–∏—Ö –±–∞–≥—ñ–≤: –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å "caf√©", –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —à—É–∫–∞—î "caf√©", —ñ –Ω—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å.

### –ß–æ—Ç–∏—Ä–∏ —Ñ–æ—Ä–º–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó

Unicode –≤–∏–∑–Ω–∞—á–∞—î —á–æ—Ç–∏—Ä–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ñ–æ—Ä–º–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó:

**NFC (Canonical Decomposition, followed by Canonical Composition)**: —Å–∏–º–≤–æ–ª–∏ –≤ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ñ–π —Ñ–æ—Ä–º—ñ –¥–µ –º–æ–∂–ª–∏–≤–æ. –¶–µ "—Å—Ç–∏—Å–Ω—É—Ç–∞" —Ñ–æ—Ä–º–∞. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –æ–±–º—ñ–Ω—É.

**NFD (Canonical Decomposition)**: —Å–∏–º–≤–æ–ª–∏ —Ä–æ–∑–∫–ª–∞–¥–µ–Ω—ñ –Ω–∞ –±–∞–∑–æ–≤—ñ + –∫–æ–º–±—ñ–Ω—É—é—á—ñ. –ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è –ø–æ—à—É–∫—É —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è.

**NFKC (Compatibility Decomposition, followed by Canonical Composition)**: —è–∫ NFC, –∞–ª–µ —Ç–∞–∫–æ–∂ –Ω–æ—Ä–º–∞–ª—ñ–∑—É—î "—Å—É–º—ñ—Å–Ω—ñ" —Å–∏–º–≤–æ–ª–∏. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, "Ô¨Å" (–ª—ñ–≥–∞—Ç—É—Ä–∞) —Å—Ç–∞—î "fi".

**NFKD (Compatibility Decomposition)**: —è–∫ NFD, –∞–ª–µ –∑ —Å—É–º—ñ—Å–Ω–æ—é –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—î—é.

### –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è –≤ Rust

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –Ω–µ –º–∞—î –≤–±—É–¥–æ–≤–∞–Ω–æ—ó –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—ó. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫—Ä–µ–π—Ç `unicode-normalization`:

```rust
use unicode_normalization::UnicodeNormalization;

let nfd = "caf√©";  // –î–µ–∫–æ–º–ø–æ–∑–æ–≤–∞–Ω–∞ —Ñ–æ—Ä–º–∞
let normalized: String = nfd.nfc().collect();  // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ –¥–æ NFC

println!("{}", normalized == "caf√©");  // true (—è–∫—â–æ "caf√©" —Ç–µ–∂ NFC)
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è

–î–ª—è –Ω–∞–¥—ñ–π–Ω–æ–≥–æ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä—è–¥–∫—ñ–≤:

1. **–ù–æ—Ä–º–∞–ª—ñ–∑—É–π—Ç–µ –æ–±–∏–¥–≤–∞ —Ä—è–¥–∫–∏** –¥–æ –æ–¥–Ω—ñ—î—ó —Ñ–æ—Ä–º–∏ –ø–µ—Ä–µ–¥ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è–º
2. **–î–ª—è –ø–æ—à—É–∫—É** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ NFD –∞–±–æ NFKD ‚Äî –≤–æ–Ω–∏ "—Ä–æ–∑–∫–ª–∞–¥–∞—é—Ç—å" —Å–∏–º–≤–æ–ª–∏
3. **–î–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ NFC ‚Äî –≤–æ–Ω–∞ –∫–æ–º–ø–∞–∫—Ç–Ω—ñ—à–∞

–Ø–∫—â–æ –ø–æ—Ä—ñ–≤–Ω—é—î—Ç–µ –¥–∞–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª (–≤–≤–µ–¥–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ñ–∞–π–ª–∏, –±–∞–∑–∞ –¥–∞–Ω–∏—Ö), –∑–∞–≤–∂–¥–∏ –Ω–æ—Ä–º–∞–ª—ñ–∑—É–π—Ç–µ!

---

## –¢–ï–û–†–Ü–Ø: –†–ï–ì–Ü–°–¢–† –Ü –ë–ê–ì–ê–¢–û–ú–û–í–ù–Ü–°–¢–¨

### –ü—Ä–æ—Å—Ç–∏–π –≤–∏–ø–∞–¥–æ–∫: ASCII

–î–ª—è ASCII –∑–º—ñ–Ω–∞ —Ä–µ–≥—ñ—Å—Ç—Ä—É —Ç—Ä–∏–≤—ñ–∞–ª—å–Ω–∞:
- 'A'..'Z' ‚Üí 'a'..'z' (–¥–æ–¥–∞—Ç–∏ 32 –¥–æ –∫–æ–¥—É —Å–∏–º–≤–æ–ª—É)
- 'a'..'z' ‚Üí 'A'..'Z' (–≤—ñ–¥–Ω—è—Ç–∏ 32)

Rust –º–∞—î –º–µ—Ç–æ–¥–∏ `to_lowercase()` —Ç–∞ `to_uppercase()`, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–æ –¥–ª—è ASCII.

### –°–∫–ª–∞–¥–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫: Unicode

–£ Unicode –∑–º—ñ–Ω–∞ —Ä–µ–≥—ñ—Å—Ç—Ä—É ‚Äî —Ü–µ –º—ñ–Ω–Ω–µ –ø–æ–ª–µ:

**–¢—É—Ä–µ—Ü—å–∫–∞ "I"** (–ø—Ä–æ —è–∫—É –º–∏ –≥–æ–≤–æ—Ä–∏–ª–∏ –≤ –º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–æ–º—É –∫–µ–π—Å—ñ):
- –ê–Ω–≥–ª—ñ–π—Å—å–∫–∞: I ‚Üî i
- –¢—É—Ä–µ—Ü—å–∫–∞: I ‚Üî ƒ±, ƒ∞ ‚Üî i

**–ù—ñ–º–µ—Ü—å–∫–∞ "√ü"**:
- "√ü".to_uppercase() = "SS" (–æ–¥–∏–Ω —Å–∏–º–≤–æ–ª —Å—Ç–∞—î –¥–≤–æ–º–∞!)
- "SS".to_lowercase() = "ss" (–Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ √ü)

**–ì—Ä–µ—Ü—å–∫–∞ "Œ£"**:
- –ù–∞ –ø–æ—á–∞—Ç–∫—É/—Å–µ—Ä–µ–¥–∏–Ω—ñ —Å–ª–æ–≤–∞: œÉ
- –í –∫—ñ–Ω—Ü—ñ —Å–ª–æ–≤–∞: œÇ
- "ŒüŒîŒ•Œ£Œ£ŒïŒ•Œ£".to_lowercase() = "ŒøŒ¥œÖœÉœÉŒµœçœÇ" (—Ä—ñ–∑–Ω—ñ —Å–∏–≥–º–∏!)

### –ú–µ—Ç–æ–¥–∏ Rust –¥–ª—è —Ä–µ–≥—ñ—Å—Ç—Ä—É

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";

// –ü–æ–≤–µ—Ä—Ç–∞—é—Ç—å —ñ—Ç–µ—Ä–∞—Ç–æ—Ä —Å–∏–º–≤–æ–ª—ñ–≤ (–º–æ–∂–µ –±—É—Ç–∏ –±—ñ–ª—å—à–µ —Å–∏–º–≤–æ–ª—ñ–≤!)
let lower: String = s.to_lowercase().collect();
let upper: String = s.to_uppercase().collect();

// –î–ª—è ASCII (—à–≤–∏–¥—à–µ, –∞–ª–µ –ø—Ä–∞—Ü—é—î –ª–∏—à–µ –∑ ASCII)
let s = "Hello";
let lower = s.to_ascii_lowercase();
let upper = s.to_ascii_uppercase();
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É: `to_lowercase()` —Ç–∞ `to_uppercase()` –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, –∞ –Ω–µ —Ä—è–¥–æ–∫ –Ω–∞–ø—Ä—è–º—É. –¶–µ —Ç–æ–º—É, —â–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—å (—è–∫ –∑ –Ω—ñ–º–µ—Ü—å–∫–æ—é "√ü").

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É

–ù–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±–∏–¥–≤–∞ —Ä—è–¥–∫–∏ –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É:

```rust
fn equals_ignore_case(a: &str, b: &str) -> bool {
    a.to_lowercase().collect::<String>() == b.to_lowercase().collect::<String>()
}
```

–¶–µ –ø—Ä–∞—Ü—é—î –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤, –∞–ª–µ:
1. –í–∏–¥—ñ–ª—è—î –Ω–æ–≤—ñ —Ä—è–¥–∫–∏ (–ø–æ–≤—ñ–ª—å–Ω–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö —Ç–µ–∫—Å—Ç—ñ–≤)
2. –ù–µ –≤—Ä–∞—Ö–æ–≤—É—î –ª–æ–∫–∞–ª—å (—Ç—É—Ä–µ—Ü—å–∫–∞ –ø—Ä–æ–±–ª–µ–º–∞)
3. –ù–µ –Ω–æ—Ä–º–∞–ª—ñ–∑—É—î Unicode

–î–ª—è —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —è–∫ `unicase` –∞–±–æ —Ä–µ–∞–ª—ñ–∑—É–π—Ç–µ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∏:

```rust
fn equals_ignore_case_iter(a: &str, b: &str) -> bool {
    a.chars()
        .flat_map(|c| c.to_lowercase())
        .eq(b.chars().flat_map(|c| c.to_lowercase()))
}
```

---

## –¢–ï–û–†–Ü–Ø: STRING VS &STR ‚Äî –í–û–õ–û–î–Ü–ù–ù–Ø –¢–ê –ü–û–ó–ò–ß–ê–ù–ù–Ø

### –î–≤–∞ —Ä—è–¥–∫–æ–≤–∏—Ö —Ç–∏–ø–∏

Rust –º–∞—î –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ä—è–¥–∫–æ–≤–∏—Ö —Ç–∏–ø–∏, —ñ —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ü—ñ –º—ñ–∂ –Ω–∏–º–∏ –∫—Ä–∏—Ç–∏—á–Ω–µ:

**String** ‚Äî —Ü–µ –≤–æ–ª–æ–¥—ñ—é—á–∏–π —Ç–∏–ø. –í—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î UTF-8 –¥–∞–Ω—ñ –Ω–∞ heap —ñ –º–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –Ω–∏–º–∏. –ú–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å (—è–∫—â–æ mut), –º–æ–∂–µ –∑–±—ñ–ª—å—à—É–≤–∞—Ç–∏—Å—å, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—î –ø–∞–º'—è—Ç—å –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑—ñ scope.

**&str** ‚Äî —Ü–µ –ø–æ–∑–∏—á–µ–Ω–∏–π —Å–ª–∞–π—Å. –í—ñ–Ω –Ω–µ –≤–æ–ª–æ–¥—ñ—î –¥–∞–Ω–∏–º–∏, –ª–∏—à–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ UTF-8 –±–∞–π—Ç–∏ –¥–µ—Å—å –≤ –ø–∞–º'—è—Ç—ñ. –ù–µ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ (–ª–∏—à–µ —á–∏—Ç–∞—Ç–∏). –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —á–∞—Å—Ç–∏–Ω—É String, –Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏–π —Ä—è–¥–æ–∫ —É –±—ñ–Ω–∞—Ä–Ω–æ–º—É —Ñ–∞–π–ª—ñ, –∞–±–æ –Ω–∞ –±—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ UTF-8 –¥–∞–Ω—ñ.

### –ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ &str –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–π**, —è–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –ª–∏—à–µ —á–∏—Ç–∞—î —Ä—è–¥–æ–∫:

```rust
// –î–æ–±—Ä–µ: –ø—Ä–∏–π–º–∞—î –±—É–¥—å-—è–∫–∏–π —Ä—è–¥–æ–∫
fn greet(name: &str) {
    println!("Hello, {}!", name);
}

// –ü–æ–≥–∞–Ω–æ: –≤–∏–º–∞–≥–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –ª–∏—à–µ —á–∏—Ç–∞—î
fn greet_owned(name: String) {
    println!("Hello, {}!", name);
}

fn main() {
    let owned = String::from("Alice");
    let static_str = "Bob";
    
    greet(&owned);      // –ü—Ä–∞—Ü—é—î
    greet(static_str);  // –ü—Ä–∞—Ü—é—î
    
    greet_owned(owned);        // –ü—Ä–∞—Ü—é—î, –∞–ª–µ —Å–ø–æ–∂–∏–≤–∞—î owned
    // greet_owned(static_str); // –ü–æ–º–∏–ª–∫–∞! &str –Ω–µ —î String
    greet_owned(static_str.to_string()); // –ü—Ä–∞—Ü—é—î, –∞–ª–µ –≤–∏–¥—ñ–ª—è—î –ø–∞–º'—è—Ç—å
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ String**, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ:
- –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ä—è–¥–æ–∫ —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ (–≤–æ–ª–æ–¥—ñ–Ω–Ω—è)
- –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Ä—è–¥–æ–∫
- –ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ –Ω–æ–≤–æ—Å—Ç–≤–æ—Ä–µ–Ω–∏–π —Ä—è–¥–æ–∫ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó

```rust
struct User {
    name: String,  // –í–æ–ª–æ–¥—ñ—î —ñ–º'—è–º
}

fn create_greeting(name: &str) -> String {
    format!("Hello, {}!", name)  // –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π String
}
```

### –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –º—ñ–∂ —Ç–∏–ø–∞–º–∏

**&str ‚Üí String**:
```rust
let s: &str = "hello";
let owned1: String = s.to_string();
let owned2: String = String::from(s);
let owned3: String = s.to_owned();
// –í—Å—ñ —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∏ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω—ñ
```

**String ‚Üí &str**:
```rust
let owned: String = String::from("hello");
let slice: &str = &owned;        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è
let slice: &str = owned.as_str(); // –Ø–≤–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è
```

### –ü–∞—Å—Ç–∫–∞: –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü—ñ—è —Ç–∞ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è

–û–ø–µ—Ä–∞—Ç–æ—Ä `+` –¥–ª—è —Ä—è–¥–∫—ñ–≤ –º–∞—î –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω—É —Å–∏–≥–Ω–∞—Ç—É—Ä—É:

```rust
fn main() {
    let s1 = String::from("Hello, ");
    let s2 = String::from("World!");
    
    let s3 = s1 + &s2;  // s1 –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ, s2 –ø–æ–∑–∏—á–µ–Ω–æ
    
    // println!("{}", s1);  // –ü–û–ú–ò–õ–ö–ê: s1 –±—ñ–ª—å—à–µ –Ω–µ —ñ—Å–Ω—É—î
    println!("{}", s2);     // OK: s2 –ª–∏—à–µ –ø–æ–∑–∏—á–∞–ª–æ—Å—å
    println!("{}", s3);     // "Hello, World!"
}
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `+` –ø—Ä–∏–π–º–∞—î `String` –∑–ª—ñ–≤–∞ (–≤–æ–ª–æ–¥—ñ–Ω–Ω—è –ø–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è) —Ç–∞ `&str` —Å–ø—Ä–∞–≤–∞ (–ø–æ–∑–∏—á–∞—î—Ç—å—Å—è). –¶–µ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ ‚Äî s1 –ø–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ –±—É—Ñ–µ—Ä –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É. –ê–ª–µ –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ ‚Äî s1 "–∑'—ó–¥–µ–Ω–æ".

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä–µ–≥—Ç–∏ –æ–±–∏–¥–≤–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª–∏:

```rust
let s3 = s1.clone() + &s2;  // –ö–ª–æ–Ω—É—î–º–æ s1
// –∞–±–æ
let s3 = format!("{}{}", s1, s2);  // format! –Ω–µ —Å–ø–æ–∂–∏–≤–∞—î –∞—Ä–≥—É–º–µ–Ω—Ç–∏
```

---

## –¢–ï–û–†–Ü–Ø: –Ü–¢–ï–†–ê–¶–Ü–Ø –ü–û –†–Ø–î–ö–£

### –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∏ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó

**–ü–æ –±–∞–π—Ç–∞—Ö** ‚Äî `bytes()`:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
for b in s.bytes() {
    print!("{:02x} ", b);
}
// d0 9f d1 80 d0 b8 d0 b2 d1 96 d1 82
```

–ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏, —Ä–æ–±–æ—Ç–∏ –∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏.

**–ü–æ –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–∫–∞—Ö** ‚Äî `chars()`:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
for c in s.chars() {
    print!("{} ", c);
}
// –ü —Ä –∏ –≤ —ñ —Ç
```

–ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç–µ–∫—Å—Ç—É.

**–ü–æ –≥—Ä–∞—Ñ–µ–º–Ω–∏—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö** ‚Äî –∫—Ä–µ–π—Ç `unicode-segmentation`:

```rust
use unicode_segmentation::UnicodeSegmentation;

let s = "üë®‚Äçüë©‚Äçüëß";
for g in s.graphemes(true) {
    println!("{}", g);
}
// üë®‚Äçüë©‚Äçüëß (–æ–¥–∏–Ω –≥—Ä–∞—Ñ–µ–º–Ω–∏–π –∫–ª–∞—Å—Ç–µ—Ä)
```

–î–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –µ–º–æ–¥–∑—ñ —Ç–∞ —Å–∫–ª–∞–¥–Ω–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏.

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–∏–º–≤–æ–ª—É –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º

–ü—Ä—è–º–æ—ó —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó –Ω–µ–º–∞, –∞–ª–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";

// –û—Ç—Ä–∏–º–∞—Ç–∏ n-–π —Å–∏–º–≤–æ–ª (O(n) —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å!)
let third_char = s.chars().nth(2);  // Some('–∏')

// –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–µ—Ä—à—ñ n —Å–∏–º–≤–æ–ª—ñ–≤
let first_three: String = s.chars().take(3).collect();  // "–ü—Ä–∏"

// –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ n —Å–∏–º–≤–æ–ª—ñ–≤
let last_two: String = s.chars().rev().take(2).collect::<Vec<_>>()
    .into_iter().rev().collect();  // "—ñ—Ç"
```

–í–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏: `chars().nth(n)` –º–∞—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å O(n), –±–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–æ–π—Ç–∏ –≤—Å—ñ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ —Å–∏–º–≤–æ–ª–∏. –î–ª—è —á–∞—Å—Ç–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º –∫—Ä–∞—â–µ —Å–ø–æ—á–∞—Ç–∫—É –∑—ñ–±—Ä–∞—Ç–∏ —Å–∏–º–≤–æ–ª–∏ —É –≤–µ–∫—Ç–æ—Ä:

```rust
let s = "–ü—Ä–∏–≤—ñ—Ç";
let chars: Vec<char> = s.chars().collect();
let third = chars[2];  // O(1) –¥–æ—Å—Ç—É–ø
```

---

## –¢–ï–û–†–Ü–Ø: –ü–û–®–£–ö –£ –†–Ø–î–ö–ê–•

### –ë–∞–∑–æ–≤–∏–π –ø–æ—à—É–∫

```rust
let text = "Hello, World!";

// –ß–∏ –º—ñ—Å—Ç–∏—Ç—å –ø—ñ–¥—Ä—è–¥–æ–∫
let contains = text.contains("World");  // true

// –ß–∏ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑
let starts = text.starts_with("Hello");  // true

// –ß–∏ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –Ω–∞
let ends = text.ends_with("!");  // true

// –ó–Ω–∞–π—Ç–∏ –ø–æ–∑–∏—Ü—ñ—é (—É –±–∞–π—Ç–∞—Ö!)
let pos = text.find("World");  // Some(7)
```

–í–∞–∂–ª–∏–≤–æ: `find()` –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–∑–∏—Ü—ñ—é –≤ –±–∞–π—Ç–∞—Ö, –Ω–µ –≤ —Å–∏–º–≤–æ–ª–∞—Ö. –î–ª—è –∫–∏—Ä–∏–ª–∏—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É:

```rust
let text = "–ü—Ä–∏–≤—ñ—Ç, –°–≤—ñ—Ç!";
let pos = text.find("–°–≤—ñ—Ç");  // Some(15) ‚Äî –±–∞–π—Ç–∏, –Ω–µ —Å–∏–º–≤–æ–ª–∏!
```

### –ü–æ—à—É–∫ –±–µ–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è —Ä–µ–≥—ñ—Å—Ç—Ä—É

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –Ω–µ –º–∞—î –ø—Ä—è–º–æ–≥–æ –º–µ—Ç–æ–¥—É –¥–ª—è case-insensitive –ø–æ—à—É–∫—É. –í–∞—Ä—ñ–∞–Ω—Ç–∏:

```rust
let text = "Hello, World!";
let pattern = "world";

// –ù–∞—ó–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥: –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±–∏–¥–≤–∞ –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
let found = text.to_lowercase().contains(&pattern.to_lowercase());

// –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–π: –Ω–µ –≤–∏–¥—ñ–ª—è—Ç–∏ –ø–∞–º'—è—Ç—å
fn contains_ignore_case(haystack: &str, needle: &str) -> bool {
    let needle_lower: Vec<char> = needle.chars().flat_map(|c| c.to_lowercase()).collect();
    let needle_len = needle_lower.len();
    
    haystack.chars()
        .flat_map(|c| c.to_lowercase())
        .collect::<Vec<_>>()
        .windows(needle_len)
        .any(|window| window == needle_lower.as_slice())
}
```

–î–ª—è —Å–µ—Ä–π–æ–∑–Ω–æ–≥–æ –ø–æ—à—É–∫—É –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é Unicode (–∫–æ–ª–∞—Ü—ñ—è, –Ω–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.

### –ó–∞–º—ñ–Ω–∞ –ø—ñ–¥—Ä—è–¥–∫—ñ–≤

```rust
let text = "Hello, World!";

// –ó–∞–º—ñ–Ω–∞ –ø–µ—Ä—à–æ–≥–æ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è
let new_text = text.replacen("o", "0", 1);  // "Hell0, World!"

// –ó–∞–º—ñ–Ω–∞ –≤—Å—ñ—Ö –≤—Ö–æ–¥–∂–µ–Ω—å
let new_text = text.replace("o", "0");  // "Hell0, W0rld!"
```

---

## –ü–†–ê–ö–¢–ò–ß–ù–Ü –†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–á

### –ü—Ä–∞–≤–∏–ª–æ 1: –ù—ñ–∫–æ–ª–∏ –Ω–µ —ñ–Ω–¥–µ–∫—Å—É–π—Ç–µ —Ä—è–¥–∫–∏ —á–µ—Ä–µ–∑ []

```rust
// –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á ‚Äî —ñ —Ü–µ –¥–æ–±—Ä–µ!
let s = "–ü—Ä–∏–≤—ñ—Ç";
// let c = s[0];

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ: —è–≤–Ω–æ –≤–∫–∞–∂—ñ—Ç—å, —â–æ —Ö–æ—á–µ—Ç–µ
let first_byte = s.as_bytes()[0];     // –ü–µ—Ä—à–∏–π –±–∞–π—Ç
let first_char = s.chars().next();    // –ü–µ—Ä—à–∏–π —Å–∏–º–≤–æ–ª (Option<char>)
```

### –ü—Ä–∞–≤–∏–ª–æ 2: –î–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ–≤–∂–∏–Ω–∏ –≤–∏–∑–Ω–∞—á—Ç–µ, —â–æ —Å–∞–º–µ —Ä–∞—Ö—É—î—Ç–µ

```rust
// –î–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –±—É—Ñ–µ—Ä–∞
if message.len() > MAX_BYTES { ... }

// –î–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è "—Å–∏–º–≤–æ–ª—ñ–≤" –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
use unicode_segmentation::UnicodeSegmentation;
if message.graphemes(true).count() > MAX_CHARS { ... }
```

### –ü—Ä–∞–≤–∏–ª–æ 3: –ù–æ—Ä–º–∞–ª—ñ–∑—É–π—Ç–µ –ø–µ—Ä–µ–¥ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è–º

```rust
use unicode_normalization::UnicodeNormalization;

fn normalize_and_compare(a: &str, b: &str) -> bool {
    let a_normalized: String = a.nfc().collect();
    let b_normalized: String = b.nfc().collect();
    a_normalized == b_normalized
}
```

### –ü—Ä–∞–≤–∏–ª–æ 4: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ get() –∑–∞–º—ñ—Å—Ç—å —Å–ª–∞–π—Å—ñ–≤ –¥–ª—è –Ω–µ–≤—ñ–¥–æ–º–∏—Ö –º–µ–∂

```rust
// –ù–µ–±–µ–∑–ø–µ—á–Ω–æ: –º–æ–∂–µ –ø–∞–Ω—ñ–∫—É–≤–∞—Ç–∏
// let slice = &s[start..end];

// –ë–µ–∑–ø–µ—á–Ω–æ: –ø–æ–≤–µ—Ä—Ç–∞—î Option
if let Some(slice) = s.get(start..end) {
    process(slice);
} else {
    handle_invalid_bounds();
}
```

### –ü—Ä–∞–≤–∏–ª–æ 5: –ü—Ä–∏–π–º–∞–π—Ç–µ &str, –ø–æ–≤–µ—Ä—Ç–∞–π—Ç–µ String

```rust
// –Ü–¥—ñ–æ–º–∞—Ç–∏—á–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥
fn process_text(input: &str) -> String {
    // –û–±—Ä–æ–±–∫–∞...
    result
}
```

### –ü—Ä–∞–≤–∏–ª–æ 6: –î–ª—è ASCII-only –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –º–µ—Ç–æ–¥–∏

```rust
// –Ø–∫—â–æ —Ç–æ—á–Ω–æ –∑–Ω–∞—î—Ç–µ, —â–æ –¥–∞–Ω—ñ ASCII
let s = "HELLO";
let lower = s.to_ascii_lowercase();  // –®–≤–∏–¥—à–µ, –Ω—ñ–∂ to_lowercase()

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ —Ä—è–¥–æ–∫ ASCII
if s.is_ascii() {
    // –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ ASCII-–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –º–µ—Ç–æ–¥–∏
}
```

---

## –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –¥–æ —Ä–æ—é –ë–ü–õ–ê

### –ë–µ–∑–ø–µ—á–Ω–∏–π –ø–∞—Ä—Å–∏–Ω–≥ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—ñ–≤

```rust
/// –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –¥—Ä–æ–Ω–∞: "DRONE-001" –¥–æ "DRONE-999"
fn parse_drone_id(input: &str) -> Result<u32, DroneIdError> {
    // –ù–æ—Ä–º–∞–ª—ñ–∑—É—î–º–æ (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤–≤–µ—Å—Ç–∏ –≤ —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ö Unicode)
    use unicode_normalization::UnicodeNormalization;
    let normalized: String = input.nfc().collect();
    
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø—Ä–µ—Ñ—ñ–∫—Å (case-insensitive –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ)
    let upper = normalized.to_uppercase();
    if !upper.starts_with("DRONE-") {
        return Err(DroneIdError::InvalidPrefix);
    }
    
    // –ü–∞—Ä—Å–∏–º–æ —á–∏—Å–ª–æ (–±–µ–∑–ø–µ—á–Ω–æ –æ—Ç—Ä–∏–º—É—î–º–æ –ø—ñ–¥—Ä—è–¥–æ–∫)
    let number_part = upper.get(6..).ok_or(DroneIdError::MissingNumber)?;
    
    let id: u32 = number_part
        .parse()
        .map_err(|_| DroneIdError::InvalidNumber)?;
    
    if id == 0 || id > 999 {
        return Err(DroneIdError::OutOfRange);
    }
    
    Ok(id)
}
```

### –ë–µ–∑–ø–µ—á–Ω–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

```rust
/// –§–æ—Ä–º–∞—Ç—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á—ñ, –æ–±—Ä—ñ–∑–∞—é—á–∏ –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –¥–æ–≤–∂–∏–Ω–∏
fn format_message(sender: &str, content: &str, max_graphemes: usize) -> String {
    use unicode_segmentation::UnicodeSegmentation;
    
    let prefix = format!("[{}] ", sender);
    let prefix_len = prefix.graphemes(true).count();
    
    // –°–∫—ñ–ª—å–∫–∏ –≥—Ä–∞—Ñ–µ–º –∑–∞–ª–∏—à–∏–ª–æ—Å—å –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç—É
    let content_max = max_graphemes.saturating_sub(prefix_len);
    
    // –ë–µ–∑–ø–µ—á–Ω–æ –æ–±—Ä—ñ–∑–∞—î–º–æ –∫–æ–Ω—Ç–µ–Ω—Ç
    let truncated_content: String = content
        .graphemes(true)
        .take(content_max)
        .collect();
    
    // –î–æ–¥–∞—î–º–æ "..." —è–∫—â–æ –æ–±—Ä—ñ–∑–∞–ª–∏
    let needs_ellipsis = content.graphemes(true).count() > content_max;
    
    if needs_ellipsis && content_max > 3 {
        let shorter: String = content
            .graphemes(true)
            .take(content_max - 3)
            .collect();
        format!("{}{}...", prefix, shorter)
    } else {
        format!("{}{}", prefix, truncated_content)
    }
}
```

### –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑ –±–µ–∑–ø–µ—á–Ω–∏–º Unicode

```rust
/// –õ–æ–≥—É—î –ø–æ–¥—ñ—é, –≥–∞—Ä–∞–Ω—Ç—É—é—á–∏ –≤–∞–ª—ñ–¥–Ω–∏–π UTF-8 –≤–∏–≤—ñ–¥
fn log_event(event_type: &str, details: &str) {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ details –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –∫–µ—Ä—É—é—á–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
    let sanitized: String = details
        .chars()
        .map(|c| {
            if c.is_control() && c != '\n' && c != '\t' {
                'ÔøΩ'  // –ó–∞–º—ñ–Ω–∞ –∫–µ—Ä—É—é—á–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤
            } else {
                c
            }
        })
        .collect();
    
    // –û–±–º–µ–∂—É—î–º–æ –¥–æ–≤–∂–∏–Ω—É –¥–ª—è –ª–æ–≥—É
    let truncated = if sanitized.len() > 200 {
        // –ë–µ–∑–ø–µ—á–Ω–µ –æ–±—Ä—ñ–∑–∞–Ω–Ω—è –Ω–∞ –º–µ–∂—ñ —Å–∏–º–≤–æ–ª—É
        let mut end = 197;
        while !sanitized.is_char_boundary(end) && end > 0 {
            end -= 1;
        }
        format!("{}...", &sanitized[..end])
    } else {
        sanitized
    };
    
    println!("[{}] {}: {}", chrono::Utc::now(), event_type, truncated);
}
```

---

## –†–µ–∑—é–º–µ

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –º–∏ —Ä–æ–∑–≥–ª—è–Ω—É–ª–∏ –ø—ñ–¥—Å—Ç—É–ø–Ω—ñ –∞—Å–ø–µ–∫—Ç–∏ —Ä–æ–±–æ—Ç–∏ –∑ —Ç–µ–∫—Å—Ç–æ–º —É Rust.

**UTF-8** ‚Äî –∫–æ–¥—É–≤–∞–Ω–Ω—è –∑—ñ –∑–º—ñ–Ω–Ω–æ—é –¥–æ–≤–∂–∏–Ω–æ—é —Å–∏–º–≤–æ–ª—É (1-4 –±–∞–π—Ç–∏). –ß–µ—Ä–µ–∑ —Ü–µ –Ω–µ–º–æ–∂–ª–∏–≤–∞ –ø—Ä—è–º–∞ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ä—è–¥–∫—ñ–≤, —ñ Rust –∑–∞–±–æ—Ä–æ–Ω—è—î `s[0]` –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞.

**–¢—Ä–∏ "–¥–æ–≤–∂–∏–Ω–∏" —Ä—è–¥–∫–∞**: `.len()` –¥–ª—è –±–∞–π—Ç—ñ–≤, `.chars().count()` –¥–ª—è –∫–æ–¥–æ–≤–∏—Ö —Ç–æ—á–æ–∫, `.graphemes(true).count()` –¥–ª—è —Ç–æ–≥–æ, —â–æ –ª—é–¥–∏–Ω–∞ –≤–≤–∞–∂–∞—î "—Å–∏–º–≤–æ–ª–∞–º–∏". –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∑–∞–¥–∞—á—ñ.

**–°–ª–∞–π—Å–∏ —Ä—è–¥–∫—ñ–≤** –º–æ–∂—É—Ç—å –ø–∞–Ω—ñ–∫—É–≤–∞—Ç–∏, —è–∫—â–æ –º–µ–∂—ñ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑ –º–µ–∂–∞–º–∏ —Å–∏–º–≤–æ–ª—ñ–≤. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `.get()` –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –∞–±–æ `.is_char_boundary()` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.

**–ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è Unicode** –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: –≤—ñ–∑—É–∞–ª—å–Ω–æ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ —Ä—è–¥–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–µ—Ä—ñ–≤–Ω–∏–º–∏ —á–µ—Ä–µ–∑ —Ä—ñ–∑–Ω—ñ —Ñ–æ—Ä–º–∏ –∫–æ–¥—É–≤–∞–Ω–Ω—è (NFC vs NFD).

**–†–µ–≥—ñ—Å—Ç—Ä** ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è. –¢—É—Ä–µ—Ü—å–∫–∞ "I", –Ω—ñ–º–µ—Ü—å–∫–∞ "√ü", –≥—Ä–µ—Ü—å–∫–∞ "Œ£" –º–∞—é—Ç—å –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ. `to_lowercase()` –ø–æ–≤–µ—Ä—Ç–∞—î —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, –±–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å–∏–º–≤–æ–ª—ñ–≤ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—å.

**String vs &str**: String –≤–æ–ª–æ–¥—ñ—î –¥–∞–Ω–∏–º–∏ —ñ –º–æ–∂–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—å, &str ‚Äî —Ü–µ –ø–æ–∑–∏—á–µ–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ UTF-8. –ü—Ä–∏–π–º–∞–π—Ç–µ &str —É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö, –ø–æ–≤–µ—Ä—Ç–∞–π—Ç–µ String –¥–ª—è –Ω–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö.

–†–æ–±–æ—Ç–∞ –∑ —Ç–µ–∫—Å—Ç–æ–º —Å–∫–ª–∞–¥–Ω—ñ—à–∞, –Ω—ñ–∂ –∑–¥–∞—î—Ç—å—Å—è –Ω–∞ –ø–µ—Ä—à–∏–π –ø–æ–≥–ª—è–¥, —ñ Rust –∑–º—É—à—É—î –≤–∞—Å —É—Å–≤—ñ–¥–æ–º–∏—Ç–∏ —Ü—é —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø—Ä–∏—Ö–æ–≤—É–≤–∞—Ç–∏ —ó—ó –∑–∞ "–∑—Ä—É—á–Ω–∏–º" API.

---

## üîó –ó–≤'—è–∑–æ–∫ –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º –º–∞—Ç–µ—Ä—ñ–∞–ª–æ–º

–û–ø–∞–Ω—É–≤–∞–≤—à–∏ –ø—ñ–¥—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ —Ä—è–¥–∫—ñ–≤ —Ç–∞ UTF-8, –≤–∏ –≥–æ—Ç–æ–≤—ñ –¥–æ –≤–∏–≤—á–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏. –¢–∞–º –≤–∞—Å —á–µ–∫–∞—é—Ç—å —Å–≤–æ—ó —Å—é—Ä–ø—Ä–∏–∑–∏: –Ω–µ–¥–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ —É HashMap, –ø–∞–Ω—ñ–∫–∞ –ø—Ä–∏ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó –∑–∞ –º–µ–∂–∞–º–∏, —Ç–∞ –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ f64 —è–∫ –∫–ª—é—á.
