# Практичне заняття 1: Перші кроки в Rust

## Мета заняття

Після цього заняття ви зможете:
- Встановити Rust на свій комп'ютер
- Створити новий проєкт за допомогою Cargo
- Написати та запустити першу програму
- Використовувати макрос `println!` для виведення тексту
- Розуміти базову структуру програми на Rust

---

## Теоретичний вступ

### Що таке Rust?

Rust — це сучасна мова програмування, створена для написання надійного та ефективного програмного забезпечення. Головна особливість Rust — гарантія безпеки пам'яті без використання збирача сміття (garbage collector). Це означає, що програми на Rust працюють швидко, як програми на C/C++, але при цьому компілятор захищає вас від типових помилок роботи з пам'яттю.

### Встановлення Rust

Rust встановлюється через інструмент `rustup`, який керує версіями компілятора та супутніми інструментами.

**Для Linux та macOS:**
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

**Для Windows:**
Завантажте та запустіть інсталятор з офіційного сайту: https://rustup.rs

Після встановлення перевірте, що все працює:
```bash
rustc --version
cargo --version
```

Ви маєте побачити версії компілятора Rust (`rustc`) та менеджера пакетів (`cargo`).

### Cargo — менеджер проєктів

Cargo — це інструмент, який виконує кілька важливих функцій:
- Створює нові проєкти
- Компілює код
- Завантажує залежності (бібліотеки)
- Запускає програми
- Запускає тести

Замість того, щоб викликати компілятор напряму, ми завжди працюємо через Cargo.

### Створення нового проєкту

```bash
cargo new hello_rust
cd hello_rust
```

Ця команда створює папку `hello_rust` з такою структурою:

```
hello_rust/
├── Cargo.toml    # Конфігурація проєкту
└── src/
    └── main.rs   # Головний файл з кодом
```

**Cargo.toml** — це файл конфігурації проєкту. Він містить назву проєкту, версію та список залежностей.

**src/main.rs** — це файл з вихідним кодом. Cargo автоматично створює базовий код:

```rust
fn main() {
    println!("Hello, world!");
}
```

### Запуск програми

```bash
cargo run
```

Ця команда компілює код та одразу запускає програму. Ви побачите:

```
   Compiling hello_rust v0.1.0 (/path/to/hello_rust)
    Finished dev [unoptimized + debuginfo] target(s) in 0.50s
     Running `target/debug/hello_rust`
Hello, world!
```

### Структура програми

Розберемо код детально:

```rust
fn main() {
    println!("Hello, world!");
}
```

- `fn` — ключове слово для оголошення функції (від англ. "function")
- `main` — назва функції. Функція `main` особлива: саме з неї починається виконання програми
- `()` — дужки для параметрів функції. Поки що параметрів немає
- `{ }` — фігурні дужки обмежують тіло функції
- `println!` — макрос для виведення тексту. Знак оклику `!` означає, що це макрос, а не звичайна функція
- `"Hello, world!"` — рядок тексту в подвійних лапках
- `;` — крапка з комою завершує інструкцію

### Коментарі

Коментарі — це текст, який компілятор ігнорує. Вони потрібні для пояснень у коді.

```rust
// Це однорядковий коментар

/* Це
   багаторядковий
   коментар */

fn main() {
    // Виводимо привітання
    println!("Hello!"); // Коментар може бути в кінці рядка
}
```

### Макрос println!

Макрос `println!` виводить текст і переходить на новий рядок. Він підтримує форматування:

```rust
println!("Просто текст");
println!("Число: {}", 42);
println!("Ім'я: {}, вік: {}", "Олена", 25);
println!("Порядок: {1}, {0}", "перший", "другий");
```

Фігурні дужки `{}` — це placeholder (заповнювач), куди підставляється значення.

---

## Практичні задачі

### Задача 1: Hello, World! та Hello, Agent!

**Умова:** Створіть новий проєкт і модифікуйте програму так, щоб вона виводила два рядки:
```
Hello, World!
Hello, Agent!
```

**Покрокове розв'язання:**

Крок 1. Створіть новий проєкт (якщо ще не створили):
```bash
cargo new practice1
cd practice1
```

Крок 2. Відкрийте файл `src/main.rs` у текстовому редакторі.

Крок 3. Замініть вміст на:

```rust
fn main() {
    println!("Hello, World!");
    println!("Hello, Agent!");
}
```

Крок 4. Запустіть програму:
```bash
cargo run
```

**Пояснення:**

Кожен виклик `println!` виводить один рядок тексту. Після виведення курсор автоматично переходить на новий рядок (тому і `println` — "print line", тобто "надрукувати рядок"). Інструкції виконуються послідовно, зверху вниз.

**Результат:**
```
Hello, World!
Hello, Agent!
```

---

### Задача 2: Виведення інформації про себе

**Умова:** Напишіть програму, яка виводить вашу "візитку" — ім'я, спеціальність та рік навчання. Кожен елемент — на окремому рядку.

**Розв'язання:**

```rust
fn main() {
    println!("=== Візитка ===");
    println!("Ім'я: Олександр Петренко");
    println!("Спеціальність: Комп'ютерні науки");
    println!("Курс: 2");
    println!("===============");
}
```

**Пояснення:**

Ми використовуємо кілька викликів `println!` для створення структурованого виводу. Символи `===` створюють візуальну рамку. Кожен `println!` — це окремий рядок виводу.

Зверніть увагу: текст у лапках виводиться точно так, як написано, включаючи пробіли та спеціальні символи.

**Результат:**
```
=== Візитка ===
Ім'я: Олександр Петренко
Спеціальність: Комп'ютерні науки
Курс: 2
===============
```

---

### Задача 3: Форматований вивід з placeholder-ами

**Умова:** Напишіть програму, яка виводить інформацію про дрон, використовуючи placeholder-и `{}`. Виведіть:
- Назву дрона
- Його координати (x, y)
- Рівень батареї у відсотках

**Розв'язання:**

```rust
fn main() {
    println!("=== Статус дрона ===");
    println!("Назва: {}", "Drone-Alpha");
    println!("Координати: x={}, y={}", 100, 250);
    println!("Батарея: {}%", 75);
    println!("====================");
}
```

**Пояснення:**

Placeholder `{}` замінюється на значення, яке йде після коми. Якщо placeholder-ів кілька, значення підставляються по порядку:

- У рядку `"Координати: x={}, y={}"` перший `{}` замінюється на `100`, другий — на `250`
- Значення можуть бути різних типів: текст (`"Drone-Alpha"`), цілі числа (`100`, `250`, `75`)
- Символ `%` після `{}` — це просто текст, він виводиться як є

**Результат:**
```
=== Статус дрона ===
Назва: Drone-Alpha
Координати: x=100, y=250
Батарея: 75%
====================
```

---

## Додаткові приклади для розуміння

### Різні способи форматування

```rust
fn main() {
    // Базове форматування
    println!("Значення: {}", 42);
    
    // Кілька значень
    println!("{} + {} = {}", 2, 3, 5);
    
    // Позиційні аргументи (нумерація з 0)
    println!("{0} любить {1}, а {1} любить {0}", "Rust", "програмістів");
    
    // Повторення аргументу
    println!("{0}, {0}, {0}!", "Ура");
}
```

**Результат:**
```
Значення: 42
2 + 3 = 5
Rust любить програмістів, а програмістів любить Rust
Ура, Ура, Ура!
```

### print! vs println!

```rust
fn main() {
    print!("Це ");
    print!("один ");
    print!("рядок");
    println!("!");  // Тепер перехід на новий рядок
    
    println!("А це вже наступний рядок");
}
```

Макрос `print!` виводить текст БЕЗ переходу на новий рядок. `println!` додає перехід.

**Результат:**
```
Це один рядок!
А це вже наступний рядок
```

### Спеціальні символи

```rust
fn main() {
    println!("Рядок 1\nРядок 2");     // \n — новий рядок
    println!("Табуляція:\tтекст");     // \t — табуляція
    println!("Лапки: \"текст\"");      // \" — лапки всередині рядка
    println!("Зворотний слеш: \\");    // \\ — сам символ \
}
```

**Результат:**
```
Рядок 1
Рядок 2
Табуляція:	текст
Лапки: "текст"
Зворотний слеш: \
```

---

## Типові помилки та їх виправлення

### Помилка 1: Забута крапка з комою

```rust
fn main() {
    println!("Hello")  // Помилка! Немає ;
}
```

**Повідомлення компілятора:**
```
error: expected `;`, found `}`
```

**Виправлення:** Додайте `;` в кінці рядка.

### Помилка 2: Неправильні лапки

```rust
fn main() {
    println!('Hello');  // Помилка! Одинарні лапки
}
```

**Виправлення:** Рядки тексту завжди в подвійних лапках `"Hello"`. Одинарні лапки використовуються лише для окремих символів (про це пізніше).

### Помилка 3: Невідповідність placeholder-ів

```rust
fn main() {
    println!("{} та {}", 1);  // Помилка! 2 placeholder-и, 1 значення
}
```

**Повідомлення компілятора:**
```
error: 2 positional arguments in format string, but there is 1 argument
```

**Виправлення:** Кількість `{}` має відповідати кількості значень після коми.

### Помилка 4: Забутий знак оклику

```rust
fn main() {
    println("Hello");  // Помилка! Це не макрос, а невідома функція
}
```

**Виправлення:** `println!` з оклиеим знаком — це макрос. Без `!` компілятор шукає функцію `println`, якої не існує.

---

## Домашнє завдання

### Завдання 1: Візитка дрона

**Умова:** Створіть програму, яка виводить детальну "візитку" дрона у такому форматі:

```
╔════════════════════════════╗
║     DRONE INFORMATION      ║
╠════════════════════════════╣
║ Model:    Phantom-X1       ║
║ Version:  2.5.0            ║
║ Author:   [Ваше ім'я]      ║
║ Purpose:  Surveillance     ║
╚════════════════════════════╝
```

**Підказка:** Використовуйте символи Unicode для рамки або замініть їх на звичайні символи `+`, `-`, `|`.

**Розв'язання:**

```rust
fn main() {
    println!("╔════════════════════════════╗");
    println!("║     DRONE INFORMATION      ║");
    println!("╠════════════════════════════╣");
    println!("║ Model:    Phantom-X1       ║");
    println!("║ Version:  2.5.0            ║");
    println!("║ Author:   Олександр        ║");
    println!("║ Purpose:  Surveillance     ║");
    println!("╚════════════════════════════╝");
}
```

**Пояснення:**

Rust підтримує Unicode, тому можна використовувати символи для малювання рамок. Кожен рядок — окремий виклик `println!`. Важливо вирівняти текст пробілами, щоб рамка виглядала рівно.

Альтернативний варіант з ASCII-символами:

```rust
fn main() {
    println!("+----------------------------+");
    println!("|     DRONE INFORMATION      |");
    println!("+----------------------------+");
    println!("| Model:    Phantom-X1       |");
    println!("| Version:  2.5.0            |");
    println!("| Author:   Oleksandr        |");
    println!("| Purpose:  Surveillance     |");
    println!("+----------------------------+");
}
```

---

### Завдання 2: ASCII-арт дрона

**Умова:** Виведіть простий ASCII-арт дрона. Наприклад:

```
    *
   /|\
  / | \
 /  |  \
*---+---*
    |
   ===
```

**Розв'язання:**

```rust
fn main() {
    println!("    *");
    println!("   /|\\");
    println!("  / | \\");
    println!(" /  |  \\");
    println!("*---+---*");
    println!("    |");
    println!("   ===");
}
```

**Пояснення:**

Зверніть увагу на рядок `println!("   /|\\");`. Тут `\\` — це спосіб вивести один символ `\`. Оскільки `\` використовується для спеціальних символів (як `\n`), щоб вивести сам `\`, потрібно написати `\\`.

Альтернативний варіант — використовувати "сирі рядки" (raw strings):

```rust
fn main() {
    println!(r"    *");
    println!(r"   /|\");
    println!(r"  / | \");
    println!(r" /  |  \");
    println!(r"*---+---*");
    println!(r"    |");
    println!(r"   ===");
}
```

Префікс `r` перед лапками означає "raw string" — всі символи виводяться як є, без обробки `\`.

---

### Завдання 3: Експерименти з форматуванням

**Умова:** Напишіть програму, яка демонструє різні можливості форматування:

1. Виведіть своє ім'я та вік, використовуючи один `println!` з двома placeholder-ами
2. Виведіть речення, де одне слово повторюється тричі, використовуючи позиційний аргумент `{0}`
3. Виведіть координати точки у форматі `Точка A: (x=10, y=20)`
4. Виведіть рядок з лапками всередині: `Він сказав: "Привіт!"`

**Розв'язання:**

```rust
fn main() {
    // 1. Ім'я та вік
    println!("Мене звати {}, мені {} років.", "Олена", 21);
    
    // 2. Повторення слова
    println!("{0}! {0}! {0}! Ми перемогли!", "Ура");
    
    // 3. Координати точки
    println!("Точка A: (x={}, y={})", 10, 20);
    
    // 4. Лапки всередині рядка
    println!("Він сказав: \"Привіт!\"");
}
```

**Пояснення:**

1. **Два placeholder-и:** `{}` замінюються по порядку — перший на `"Олена"`, другий на `21`.

2. **Позиційний аргумент `{0}`:** Число в дужках вказує, який аргумент використати (нумерація з 0). `{0}` означає "перший аргумент", тому `"Ура"` виводиться тричі.

3. **Координати:** Простий приклад з двома числовими значеннями.

4. **Лапки всередині:** `\"` — це спосіб вставити символ лапок у рядок. Без `\` компілятор подумає, що рядок закінчується.

**Результат:**
```
Мене звати Олена, мені 21 років.
Ура! Ура! Ура! Ми перемогли!
Точка A: (x=10, y=20)
Він сказав: "Привіт!"
```

---

## Підсумок заняття

На цьому занятті ви навчились:

1. **Встановлювати Rust** через rustup
2. **Створювати проєкти** командою `cargo new`
3. **Запускати програми** командою `cargo run`
4. **Розуміти структуру програми:** функція `main()` — точка входу
5. **Виводити текст** за допомогою макросу `println!`
6. **Використовувати placeholder-и** `{}` для форматованого виводу
7. **Писати коментарі** для пояснення коду
8. **Обробляти спеціальні символи** (`\n`, `\\`, `\"`)

---

## Перевірте себе

1. Яка команда створює новий проєкт Rust?
2. Як називається файл з вихідним кодом у проєкті Cargo?
3. Чим відрізняється `print!` від `println!`?
4. Що означає `{}` у рядку `println!`?
5. Як вивести символ `\` у тексті?
6. Чому `println` пишеться зі знаком оклику?

**Відповіді:**
1. `cargo new назва_проєкту`
2. `src/main.rs`
3. `println!` додає перехід на новий рядок, `print!` — ні
4. Placeholder, куди підставляється значення
5. Написати `\\`
6. Тому що це макрос, а не функція. Знак `!` позначає макроси в Rust

---

## Наступне заняття

На наступному занятті ми вивчимо **змінні та типи даних**: як зберігати значення в пам'яті, які типи даних існують у Rust, і чому Rust за замовчуванням створює незмінні змінні.
