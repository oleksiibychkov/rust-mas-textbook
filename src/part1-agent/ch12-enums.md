# –†–æ–∑–¥—ñ–ª 12: Enum —Ç–∞ Pattern Matching ‚Äî –ú–∞—à–∏–Ω–∞ —Å—Ç–∞–Ω—ñ–≤ –∞–≥–µ–Ω—Ç–∞

## –í—Å—Ç—É–ø

–£—è–≤—ñ—Ç—å —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä. –í—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ —á–µ—Ä–≤–æ–Ω–∏–º, –∂–æ–≤—Ç–∏–º –∞–±–æ –∑–µ–ª–µ–Ω–∏–º ‚Äî —ñ –Ω—ñ—á–∏–º —ñ–Ω—à–∏–º. –ù–µ —ñ—Å–Ω—É—î "–Ω–∞–ø—ñ–≤–∑–µ–ª–µ–Ω–æ–≥–æ" —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä–∞ –∞–±–æ —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä–∞ –∫–æ–ª—å–æ—Ä—É "–±–ª–∞–∫–∏—Ç–Ω–∏–π". –¶–µ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π –Ω–∞–±—ñ—Ä –º–æ–∂–ª–∏–≤–∏—Ö —Å—Ç–∞–Ω—ñ–≤, —ñ –≤ –∫–æ–∂–µ–Ω –º–æ–º–µ–Ω—Ç —á–∞—Å—É —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä –ø–µ—Ä–µ–±—É–≤–∞—î —Ä—ñ–≤–Ω–æ –≤ –æ–¥–Ω–æ–º—É –∑ –Ω–∏—Ö.

–¢–µ–ø–µ—Ä –ø–æ–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –Ω–∞—à–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ë–ü–õ–ê. –í—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –≤ —Ä–µ–∂–∏–º—ñ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è, —Ä—É—Ö–∞—Ç–∏—Å—å –¥–æ —Ü—ñ–ª—ñ, —Å–∫–∞–Ω—É–≤–∞—Ç–∏ —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—é, –∑–∞—Ä—è–¥–∂–∞—Ç–∏—Å—å –∞–±–æ –ø–µ—Ä–µ–±—É–≤–∞—Ç–∏ –≤ –∞–≤–∞—Ä—ñ–π–Ω–æ–º—É —Å—Ç–∞–Ω—ñ. –ó–Ω–æ–≤—É –∂ —Ç–∞–∫–∏ ‚Äî —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π –Ω–∞–±—ñ—Ä –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤. –°–ø—Ä–æ–±–∞ –∑—Ä–æ–±–∏—Ç–∏ –∞–≥–µ–Ω—Ç–∞ "—Ç—Ä–æ—Ö–∏ —Ä—É—Ö–∞—î—Ç—å—Å—è, —Ç—Ä–æ—Ö–∏ —Å–∫–∞–Ω—É—î" ‚Äî —Ü–µ –ø–æ–º–∏–ª–∫–∞ –≤ –ª–æ–≥—ñ—Ü—ñ.

–°–∞–º–µ –¥–ª—è —Ç–∞–∫–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ–π Rust –ø—Ä–æ–ø–æ–Ω—É—î `enum` ‚Äî –ø–µ—Ä–µ–ª—ñ—á—É–≤–∞–Ω–∏–π —Ç–∏–ø, —â–æ –º–æ–∂–µ –Ω–∞–±—É–≤–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ –∑ –∫—ñ–ª—å–∫–æ—Ö –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–µ–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤. –ê–ª–µ –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ enum —É C —á–∏ Java, –≤–∞—Ä—ñ–∞–Ω—Ç–∏ Rust –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –¥–∞–Ω—ñ! –ê–≥–µ–Ω—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ "—Ä—É—Ö–∞—î—Ç—å—Å—è" ‚Äî –≤—ñ–Ω —Ä—É—Ö–∞—î—Ç—å—Å—è –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ç–æ—á–∫–∏ –∑ –ø–µ–≤–Ω–æ—é —à–≤–∏–¥–∫—ñ—Å—Ç—é. –ù–µ –ø—Ä–æ—Å—Ç–æ "–∑–∞—Ä—è–¥–∂–∞—î—Ç—å—Å—è" ‚Äî –∑–∞—Ä—è–¥–∂–∞—î—Ç—å—Å—è –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –¥–æ —Ü—ñ–ª—å–æ–≤–æ–≥–æ.

–£ –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ pattern matching —á–µ—Ä–µ–∑ `match`, enum —Å—Ç–∞—î –ø–æ—Ç—É–∂–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –º–∞—à–∏–Ω —Å—Ç–∞–Ω—ñ–≤ ‚Äî —Å–∞–º–µ —Ç–æ–≥–æ, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ä–æ–∑—É–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

---

## 12.1 –ß–æ–º—É —Ä—è–¥–∫–∏ –¥–ª—è —Å—Ç–∞–Ω—ñ–≤ ‚Äî –ø–æ–≥–∞–Ω–∞ —ñ–¥–µ—è

–ü–µ—Ä—à –Ω—ñ–∂ –∑–∞–Ω—É—Ä—é–≤–∞—Ç–∏—Å—å —É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ä–æ–∑–±–µ—Ä—ñ–º–æ—Å—è, —è–∫—É –ø—Ä–æ–±–ª–µ–º—É –≤–∏—Ä—ñ—à—É—î enum. –ë–∞–≥–∞—Ç–æ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—ñ–≤, –æ—Å–æ–±–ª–∏–≤–æ –∑ –¥–æ—Å–≤—ñ–¥–æ–º —É Python —á–∏ JavaScript, —Å–ø—Ä–æ–±—É–≤–∞–ª–∏ –± –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —Å—Ç–∞–Ω –∞–≥–µ–Ω—Ç–∞ —Ä—è–¥–∫–æ–º:

```rust
struct Agent {
    status: String,  // "idle", "moving", "charging"...
}

fn process_agent(agent: &Agent) {
    if agent.status == "idle" {
        println!("–ê–≥–µ–Ω—Ç –æ—á—ñ–∫—É—î");
    } else if agent.status == "moving" {
        println!("–ê–≥–µ–Ω—Ç —Ä—É—Ö–∞—î—Ç—å—Å—è");
    } else if agent.status == "chargign" {  // –ë–∞—á–∏—Ç–µ –¥—Ä—É–∫–∞—Ä—Å—å–∫—É –ø–æ–º–∏–ª–∫—É?
        println!("–ê–≥–µ–Ω—Ç –∑–∞—Ä—è–¥–∂–∞—î—Ç—å—Å—è");
    }
    // –ê —â–æ —è–∫—â–æ status = "flying"? –ù—ñ—á–æ–≥–æ –Ω–µ —Å—Ç–∞–Ω–µ—Ç—å—Å—è!
}
```

–¶–µ–π –∫–æ–¥ –º–∞—î –∫—ñ–ª—å–∫–∞ —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º:

**–î—Ä—É–∫–∞—Ä—Å—å–∫—ñ –ø–æ–º–∏–ª–∫–∏.** –£ —Ä—è–¥–∫—É `"chargign"` –∑–∞–º—ñ—Å—Ç—å `"charging"` ‚Äî –ø–æ–º–∏–ª–∫–∞, —è–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –ø–æ–º—ñ—Ç–∏—Ç—å. –ü—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ —É–≤—ñ–π–¥–µ –≤ —Ü—é –≥—ñ–ª–∫—É.

**–ù–µ–≤–∏–∑–Ω–∞—á–µ–Ω—ñ—Å—Ç—å.** –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ status –º—ñ—Å—Ç–∏—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è "flying", —è–∫–µ –º–∏ –Ω–µ –ø–µ—Ä–µ–¥–±–∞—á–∏–ª–∏? –ö–æ–¥ –º–æ–≤—á–∫–∏ –ø—Ä–æ—ñ–≥–Ω–æ—Ä—É—î —Ü–µ–π –≤–∏–ø–∞–¥–æ–∫.

**–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö.** –°—Ç–∞–Ω "moving" –Ω–µ –∫–∞–∂–µ –Ω–∞–º, –∫—É–¥–∏ —Ä—É—Ö–∞—î—Ç—å—Å—è –∞–≥–µ–Ω—Ç. –°—Ç–∞–Ω "charging" –Ω–µ –∫–∞–∂–µ, —Å–∫—ñ–ª—å–∫–∏ –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤ –∑–∞—Ä—è–¥–∂–µ–Ω–æ.

–¢–µ–ø–µ—Ä –ø–æ–¥–∏–≤–∏–º–æ—Å—å, —è–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞—î –∑ enum:

```rust
enum AgentStatus {
    Idle,
    Moving { target_x: f64, target_y: f64 },
    Charging { percent: u8 },
    Emergency(String),
}

fn process_agent(status: &AgentStatus) {
    match status {
        AgentStatus::Idle => {
            println!("–ê–≥–µ–Ω—Ç –æ—á—ñ–∫—É—î");
        }
        AgentStatus::Moving { target_x, target_y } => {
            println!("–ê–≥–µ–Ω—Ç —Ä—É—Ö–∞—î—Ç—å—Å—è –¥–æ ({}, {})", target_x, target_y);
        }
        AgentStatus::Charging { percent } => {
            println!("–ó–∞—Ä—è–¥–∂–µ–Ω–æ: {}%", percent);
        }
        AgentStatus::Emergency(reason) => {
            println!("–ê–í–ê–†–Ü–Ø: {}", reason);
        }
    }
}
```

–¢—É—Ç –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Å—Ç–∞—î –Ω–∞—à–∏–º —Å–æ—é–∑–Ω–∏–∫–æ–º. –î—Ä—É–∫–∞—Ä—Å—å–∫–∞ –ø–æ–º–∏–ª–∫–∞ –≤ –Ω–∞–∑–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç—É? –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –ó–∞–±—É–ª–∏ –æ–±—Ä–æ–±–∏—Ç–∏ –æ–¥–∏–Ω –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤? –ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó. –°–ø—Ä–æ–±—É–≤–∞–ª–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–µ—ñ—Å–Ω—É—é—á–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç? –ó–Ω–æ–≤—É –ø–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.

---

## 12.2 –°—Ç–≤–æ—Ä–µ–Ω–Ω—è enum

–ü–æ—á–Ω–µ–º–æ –∑ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–æ–≥–æ –≤–∏–ø–∞–¥–∫—É ‚Äî enum –±–µ–∑ –¥–∞–Ω–∏—Ö —É –≤–∞—Ä—ñ–∞–Ω—Ç–∞—Ö. –£—è–≤—ñ–º–æ, —â–æ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞–ø—Ä—è–º–æ–∫ —Ä—É—Ö—É –∞–≥–µ–Ω—Ç–∞:

```rust
enum Direction {
    North,
    East,
    South,
    West,
}

fn main() {
    let heading = Direction::North;
    
    match heading {
        Direction::North => println!("–õ–µ—Ç–∏–º–æ –Ω–∞ –ø—ñ–≤–Ω—ñ—á"),
        Direction::East => println!("–õ–µ—Ç–∏–º–æ –Ω–∞ —Å—Ö—ñ–¥"),
        Direction::South => println!("–õ–µ—Ç–∏–º–æ –Ω–∞ –ø—ñ–≤–¥–µ–Ω—å"),
        Direction::West => println!("–õ–µ—Ç–∏–º–æ –Ω–∞ –∑–∞—Ö—ñ–¥"),
    }
}
```

–ú–∏ –æ–≥–æ–ª–æ—Å–∏–ª–∏ —Ç–∏–ø `Direction` –∑ —á–æ—Ç–∏—Ä–º–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏. –ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç ‚Äî —Ü–µ –æ–∫—Ä–µ–º–µ –º–æ–∂–ª–∏–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ç–∏–ø—É. –©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `EnumName::Variant` ‚Äî —É –Ω–∞—à–æ–º—É –≤–∏–ø–∞–¥–∫—É `Direction::North`.

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
```text
–õ–µ—Ç–∏–º–æ –Ω–∞ –ø—ñ–≤–Ω—ñ—á
```

### –í–∞—Ä—ñ–∞–Ω—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏

–°–ø—Ä–∞–≤–∂–Ω—è —Å–∏–ª–∞ enum —É Rust ‚Äî —Ü–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –¥–∞–Ω—ñ –≤ —Ä—ñ–∑–Ω–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç–∞—Ö. –†–æ–∑–≥–ª—è–Ω–µ–º–æ —Ç–∏–ø –¥–ª—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º—ñ–∂ –∞–≥–µ–Ω—Ç–∞–º–∏:

```rust
enum Message {
    // –í–∞—Ä—ñ–∞–Ω—Ç –±–µ–∑ –¥–∞–Ω–∏—Ö (unit variant)
    Quit,
    
    // –í–∞—Ä—ñ–∞–Ω—Ç –∑ —ñ–º–µ–Ω–æ–≤–∞–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ (struct variant)
    Move { x: i32, y: i32, z: i32 },
    
    // –í–∞—Ä—ñ–∞–Ω—Ç –∑ –Ω–µ—ñ–º–µ–Ω–æ–≤–∞–Ω–∏–º–∏ –ø–æ–ª—è–º–∏ (tuple variant)
    Text(String),
    
    // –ö—ñ–ª—å–∫–∞ –Ω–µ—ñ–º–µ–Ω–æ–≤–∞–Ω–∏—Ö –ø–æ–ª—ñ–≤
    Color(u8, u8, u8),
}

fn main() {
    let msg1 = Message::Quit;
    let msg2 = Message::Move { x: 10, y: 20, z: 5 };
    let msg3 = Message::Text(String::from("–¶—ñ–ª—å –≤–∏—è–≤–ª–µ–Ω–æ"));
    let msg4 = Message::Color(255, 128, 0);
    
    process_message(msg2);
    process_message(msg3);
}

fn process_message(msg: Message) {
    match msg {
        Message::Quit => {
            println!("–û—Ç—Ä–∏–º–∞–Ω–æ –∫–æ–º–∞–Ω–¥—É –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è");
        }
        Message::Move { x, y, z } => {
            println!("–†—É—Ö –¥–æ —Ç–æ—á–∫–∏ ({}, {}, {})", x, y, z);
        }
        Message::Text(content) => {
            println!("–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: {}", content);
        }
        Message::Color(r, g, b) => {
            println!("–ö–æ–ª—ñ—Ä: RGB({}, {}, {})", r, g, b);
        }
    }
}
```

–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É, —è–∫ –∫–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–æ–∂–µ –º–∞—Ç–∏ –≤–ª–∞—Å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–∏—Ö. `Quit` –Ω–µ –º—ñ—Å—Ç–∏—Ç—å –Ω—ñ—á–æ–≥–æ. `Move` –º–∞—î —Ç—Ä–∏ —ñ–º–µ–Ω–æ–≤–∞–Ω–∏—Ö –ø–æ–ª—è ‚Äî —è–∫ –º—ñ–Ω—ñ–∞—Ç—é—Ä–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. `Text` –º—ñ—Å—Ç–∏—Ç—å –æ–¥–∏–Ω String. `Color` ‚Äî —Ç—Ä–∏ —á–∏—Å–ª–∞ –±–µ–∑ —ñ–º–µ–Ω.

–†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:
```rust
–†—É—Ö –¥–æ —Ç–æ—á–∫–∏ (10, 20, 5)
–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: –¶—ñ–ª—å –≤–∏—è–≤–ª–µ–Ω–æ
```

### –¢—Ä–∏ —Å—Ç–∏–ª—ñ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

–ü—ñ–¥—Å—É–º—É—î–º–æ —Ç—Ä–∏ —Å–ø–æ—Å–æ–±–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ enum:

**Unit variant** ‚Äî –±–µ–∑ –¥–∞–Ω–∏—Ö. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, –∫–æ–ª–∏ —Å–∞–º —Ñ–∞–∫—Ç –≤–∞—Ä—ñ–∞–Ω—Ç—É –Ω–µ—Å–µ –≤—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é:

```rust
enum Status {
    Active,
    Inactive,
    Pending,
}
```

**Tuple variant** ‚Äî –¥–∞–Ω—ñ —è–∫ –∫–æ—Ä—Ç–µ–∂. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å, –∫–æ–ª–∏ –ø–æ–ª—ñ–≤ –Ω–µ–±–∞–≥–∞—Ç–æ —ñ —ó—Ö –∑–Ω–∞—á–µ–Ω–Ω—è –æ—á–µ–≤–∏–¥–Ω–µ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:

```rust
enum Event {
    Click(i32, i32),        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∫–ª—ñ–∫—É
    KeyPress(char),         // –ù–∞—Ç–∏—Å–Ω—É—Ç–∞ –∫–ª–∞–≤—ñ—à–∞
    Scroll(f64),            // –í–µ–ª–∏—á–∏–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
}
```

**Struct variant** ‚Äî –¥–∞–Ω—ñ –∑ —ñ–º–µ–Ω–æ–≤–∞–Ω–∏–º–∏ –ø–æ–ª—è–º–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ, –∫–æ–ª–∏ –ø–æ–ª—ñ–≤ –±–∞–≥–∞—Ç–æ –∞–±–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–¥–∞—Ç–∫–æ–≤–∞ —è—Å–Ω—ñ—Å—Ç—å:

```rust
enum NetworkPacket {
    Data { 
        source: String, 
        destination: String, 
        payload: Vec<u8> 
    },
    Acknowledgment { 
        sequence_number: u64 
    },
}
```

### –ú–µ—Ç–æ–¥–∏ –¥–ª—è enum

Enum, —è–∫ —ñ struct, –º–æ–∂–µ –º–∞—Ç–∏ –º–µ—Ç–æ–¥–∏. –†–æ–∑–≥–ª—è–Ω–µ–º–æ –ø—Ä–∏–∫–ª–∞–¥ —Å–≤—ñ—Ç–ª–æ—Ñ–æ—Ä–∞ –∑ –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ —Ç–∞ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Å—Ç–∞–Ω—É:

```rust
enum TrafficLight {
    Red,
    Yellow,
    Green,
}

impl TrafficLight {
    fn duration_seconds(&self) -> u32 {
        match self {
            TrafficLight::Red => 60,
            TrafficLight::Yellow => 5,
            TrafficLight::Green => 45,
        }
    }
    
    fn next(&self) -> TrafficLight {
        match self {
            TrafficLight::Red => TrafficLight::Green,
            TrafficLight::Yellow => TrafficLight::Red,
            TrafficLight::Green => TrafficLight::Yellow,
        }
    }
    
    fn should_stop(&self) -> bool {
        match self {
            TrafficLight::Red | TrafficLight::Yellow => true,
            TrafficLight::Green => false,
        }
    }
}

fn main() {
    let mut light = TrafficLight::Red;
    
    println!("–ü–æ—Ç–æ—á–Ω–∏–π —Å–∏–≥–Ω–∞–ª: —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å {} —Å–µ–∫", light.duration_seconds());
    println!("–ó—É–ø–∏–Ω–∏—Ç–∏—Å—å: {}", light.should_stop());
    
    light = light.next();
    println!("–ù–∞—Å—Ç—É–ø–Ω–∏–π —Å–∏–≥–Ω–∞–ª: —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å {} —Å–µ–∫", light.duration_seconds());
}
```

–ú–µ—Ç–æ–¥ `duration_seconds` –ø–æ–≤–µ—Ä—Ç–∞—î —á–∞—Å —É —Å–µ–∫—É–Ω–¥–∞—Ö –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–ª—å–æ—Ä—É. –ú–µ—Ç–æ–¥ `next` —Ä–µ–∞–ª—ñ–∑—É—î –ª–æ–≥—ñ–∫—É –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤: —á–µ—Ä–≤–æ–Ω–∏–π ‚Üí –∑–µ–ª–µ–Ω–∏–π ‚Üí –∂–æ–≤—Ç–∏–π ‚Üí —á–µ—Ä–≤–æ–Ω–∏–π. –ú–µ—Ç–æ–¥ `should_stop` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–ø–µ—Ä–∞—Ç–æ—Ä `|` –¥–ª—è –æ–±'—î–¥–Ω–∞–Ω–Ω—è –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤ ‚Äî —ñ —á–µ—Ä–≤–æ–Ω–∏–π, —ñ –∂–æ–≤—Ç–∏–π –æ–∑–Ω–∞—á–∞—é—Ç—å "–∑—É–ø–∏–Ω–∏—Ç–∏—Å—å".

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–ü–æ—Ç–æ—á–Ω–∏–π —Å–∏–≥–Ω–∞–ª: —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å 60 —Å–µ–∫
–ó—É–ø–∏–Ω–∏—Ç–∏—Å—å: true
–ù–∞—Å—Ç—É–ø–Ω–∏–π —Å–∏–≥–Ω–∞–ª: —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å 45 —Å–µ–∫
```

---

## 12.3 Pattern Matching –∑ match

–í–∏—Ä–∞–∑ `match` ‚Äî —Ü–µ —Å–µ—Ä—Ü–µ —Ä–æ–±–æ—Ç–∏ –∑ enum —É Rust. –í—ñ–Ω –ø–æ—Ä—ñ–≤–Ω—é—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ —ñ –≤–∏–∫–æ–Ω—É—î –∫–æ–¥ –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É, —â–æ –ø—ñ–¥—ñ–π—à–æ–≤.

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ match –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫:

```rust
match –∑–Ω–∞—á–µ–Ω–Ω—è {
    –ø–∞—Ç—Ç–µ—Ä–Ω1 => –≤–∏—Ä–∞–∑1,
    –ø–∞—Ç—Ç–µ—Ä–Ω2 => –≤–∏—Ä–∞–∑2,
    –ø–∞—Ç—Ç–µ—Ä–Ω3 => {
        // –ë–ª–æ–∫ –∫–æ–¥—É –¥–ª—è —Å–∫–ª–∞–¥–Ω—ñ—à–æ—ó –ª–æ–≥—ñ–∫–∏
        –≤–∏—Ä–∞–∑3
    }
}
```

–ö–æ–∂–Ω–∞ –ø–∞—Ä–∞ `–ø–∞—Ç—Ç–µ—Ä–Ω => –≤–∏—Ä–∞–∑` –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è "–≥—ñ–ª–∫–æ—é" (arm). Rust –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≥—ñ–ª–∫–∏ –∑–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ —ñ –≤–∏–∫–æ–Ω—É—î –ø–µ—Ä—à—É, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î.

–ù–∞–ø–∏—à–µ–º–æ —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∞—Ä—Ç—ñ—Å—Ç—å –º–æ–Ω–µ—Ç–∏ –≤ —Ü–µ–Ω—Ç–∞—Ö:

```rust
enum Coin {
    Penny,
    Nickel,
    Dime,
    Quarter,
}

fn value_in_cents(coin: Coin) -> u32 {
    match coin {
        Coin::Penny => 1,
        Coin::Nickel => 5,
        Coin::Dime => 10,
        Coin::Quarter => 25,
    }
}

fn main() {
    let my_coin = Coin::Quarter;
    println!("–í–∞—Ä—Ç—ñ—Å—Ç—å: {} —Ü–µ–Ω—Ç—ñ–≤", value_in_cents(my_coin));
}
```

–ö–æ–ª–∏ `coin` –¥–æ—Ä—ñ–≤–Ω—é—î `Coin::Quarter`, –ø–µ—Ä—à—ñ —Ç—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∏ –Ω–µ –ø—ñ–¥—Ö–æ–¥—è—Ç—å, –∞ —á–µ—Ç–≤–µ—Ä—Ç–∏–π ‚Äî –ø—ñ–¥—Ö–æ–¥–∏—Ç—å, —Ç–æ–º—É —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î 25.

### –í–∏—á–µ—Ä–ø–Ω—ñ—Å—Ç—å ‚Äî –≤–∞—à –∑–∞—Ö–∏—Å–Ω–∏–∫

–û–¥–Ω–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π match —É Rust ‚Äî –≤–∏—á–µ—Ä–ø–Ω—ñ—Å—Ç—å (exhaustiveness). –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–º–∞–≥–∞—î, —â–æ–± –≤–∏ –æ–±—Ä–æ–±–∏–ª–∏ –í–°–Ü –º–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–±—É—Ç–∏ –æ–¥–∏–Ω:

```rust
enum Status {
    Active,
    Inactive,
    Pending,
}

fn describe(status: Status) -> &'static str {
    match status {
        Status::Active => "–ê–∫—Ç–∏–≤–Ω–∏–π",
        Status::Inactive => "–ù–µ–∞–∫—Ç–∏–≤–Ω–∏–π",
        // –ó–∞–±—É–ª–∏ Status::Pending!
    }
}
```

–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å —Ü–µ —Å–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏:

```text
error[E0004]: non-exhaustive patterns: `Pending` not covered
 --> src/main.rs:8:11
  |
8 |     match status {
  |           ^^^^^^ pattern `Pending` not covered
```

–¶–µ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –∫–æ—Ä–∏—Å–Ω–æ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É. –Ø–∫—â–æ –≤–∏ –¥–æ–¥–∞—Å—Ç–µ –Ω–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–æ enum, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–æ–∫–∞–∂–µ –≤—Å—ñ –º—ñ—Å—Ü—è, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –π–æ–≥–æ –æ–±—Ä–æ–±–∏—Ç–∏.

### Wildcard –ø–∞—Ç—Ç–µ—Ä–Ω

–Ü–Ω–æ–¥—ñ –∫—ñ–ª—å–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –æ–¥–Ω–∞–∫–æ–≤–æ. –ü–∞—Ç—Ç–µ—Ä–Ω `_` (wildcard) –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –±—É–¥—å-—á–æ–º—É:

```rust
fn describe(status: Status) -> &'static str {
    match status {
        Status::Active => "–ü—Ä–∞—Ü—é—î",
        _ => "–ù–µ –ø—Ä–∞—Ü—é—î",  // –í—Å–µ —ñ–Ω—à–µ
    }
}
```

–í–∞–∂–ª–∏–≤–æ: `_` –º–∞—î –±—É—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–º, –±–æ –≤—ñ–Ω "–ª–æ–≤–∏—Ç—å" —É—Å–µ. –Ø–∫—â–æ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ –π–æ–≥–æ –ø–µ—Ä—à–∏–º, –Ω–∞—Å—Ç—É–ø–Ω—ñ –≥—ñ–ª–∫–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–æ–Ω–∞—é—Ç—å—Å—è.

–Ü–Ω–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ. –ó–∞–º—ñ—Å—Ç—å `_` –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —ñ–º'—è –∑ –ø—ñ–¥–∫—Ä–µ—Å–ª–µ–Ω–Ω—è–º:

```rust
match status {
    Status::Active => "–ü—Ä–∞—Ü—é—î",
    _other => "–©–æ—Å—å —ñ–Ω—à–µ",  // –ó–Ω–∞—á–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–µ —è–∫ _other, –∞–ª–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è
}
```

### –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

–°–ø—Ä–∞–≤–∂–Ω—è –º–∞–≥—ñ—è match ‚Äî —É –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ "—Ä–æ–∑–ø–∞–∫—É–≤–∞—Ç–∏" –¥–∞–Ω—ñ –∑ –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ enum:

```rust
enum Command {
    MoveTo { x: f64, y: f64, z: f64 },
    Rotate(f64),
    Fire { target_id: u32 },
    Stop,
}

fn execute(cmd: Command) {
    match cmd {
        Command::MoveTo { x, y, z } => {
            println!("–†—É—Ö–∞—î–º–æ—Å—å –¥–æ ({}, {}, {})", x, y, z);
        }
        Command::Rotate(angle) => {
            println!("–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—å –Ω–∞ {}¬∞", angle);
        }
        Command::Fire { target_id } => {
            println!("–í–æ–≥–æ–Ω—å –ø–æ —Ü—ñ–ª—ñ #{}", target_id);
        }
        Command::Stop => {
            println!("–ó—É–ø–∏–Ω–∫–∞");
        }
    }
}

fn main() {
    execute(Command::MoveTo { x: 100.0, y: 50.0, z: 30.0 });
    execute(Command::Rotate(45.0));
    execute(Command::Fire { target_id: 7 });
}
```

–£ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ `Command::MoveTo { x, y, z }` –º–∏ –æ–≥–æ–ª–æ—à—É—î–º–æ —Ç—Ä–∏ –∑–º—ñ–Ω–Ω—ñ `x`, `y`, `z`, —è–∫—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –ø–æ–ª—ñ–≤. –£ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ `Command::Rotate(angle)` –∑–º—ñ–Ω–Ω–∞ `angle` –æ—Ç—Ä–∏–º—É—î –∑–Ω–∞—á–µ–Ω–Ω—è –∑ tuple variant.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–†—É—Ö–∞—î–º–æ—Å—å –¥–æ (100, 50, 30)
–ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—å –Ω–∞ 45¬∞
–í–æ–≥–æ–Ω—å –ø–æ —Ü—ñ–ª—ñ #7
```

### Match —è–∫ –≤–∏—Ä–∞–∑

`match` ‚Äî —Ü–µ –≤–∏—Ä–∞–∑, —Ç–æ–±—Ç–æ –≤—ñ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–∏—Å–∞—Ç–∏ –µ–ª–µ–≥–∞–Ω—Ç–Ω–∏–π –∫–æ–¥:

```rust
enum Priority {
    Low,
    Medium,
    High,
    Critical,
}

fn priority_to_number(p: &Priority) -> u8 {
    match p {
        Priority::Low => 1,
        Priority::Medium => 2,
        Priority::High => 3,
        Priority::Critical => 10,
    }
}

fn priority_to_color(p: &Priority) -> &'static str {
    match p {
        Priority::Low => "green",
        Priority::Medium => "yellow",
        Priority::High => "orange",
        Priority::Critical => "red",
    }
}

fn main() {
    let task_priority = Priority::High;
    
    let value = priority_to_number(&task_priority);
    let color = priority_to_color(&task_priority);
    
    println!("–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: {} (–∫–æ–ª—ñ—Ä: {})", value, color);
}
```

–£—Å—ñ –≥—ñ–ª–∫–∏ match –º–∞—é—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø—É. –Ø–∫—â–æ –æ–¥–Ω–∞ –≥—ñ–ª–∫–∞ –ø–æ–≤–µ—Ä—Ç–∞—î `u8`, –∞ —ñ–Ω—à–∞ ‚Äî `String`, –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–¥–∞—Å—Ç—å –ø–æ–º–∏–ª–∫—É.

### Guards ‚Äî –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —É–º–æ–≤–∏

–Ü–Ω–æ–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤–∞—Ä—ñ–∞–Ω—Ç, –∞ –π –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ. –î–ª—è —Ü—å–æ–≥–æ —ñ—Å–Ω—É—é—Ç—å guards ‚Äî –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —É–º–æ–≤–∏ —á–µ—Ä–µ–∑ `if`:

```rust
enum Temperature {
    Celsius(f64),
    Fahrenheit(f64),
}

fn describe_temp(temp: Temperature) -> &'static str {
    match temp {
        Temperature::Celsius(c) if c < 0.0 => "–ú–æ—Ä–æ–∑–Ω–æ",
        Temperature::Celsius(c) if c < 15.0 => "–•–æ–ª–æ–¥–Ω–æ",
        Temperature::Celsius(c) if c < 25.0 => "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ",
        Temperature::Celsius(_) => "–°–ø–µ–∫–æ—Ç–Ω–æ",
        
        Temperature::Fahrenheit(f) if f < 32.0 => "–ú–æ—Ä–æ–∑–Ω–æ",
        Temperature::Fahrenheit(f) if f < 59.0 => "–•–æ–ª–æ–¥–Ω–æ",
        Temperature::Fahrenheit(f) if f < 77.0 => "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ",
        Temperature::Fahrenheit(_) => "–°–ø–µ–∫–æ—Ç–Ω–æ",
    }
}

fn main() {
    println!("{}", describe_temp(Temperature::Celsius(22.0)));
    println!("{}", describe_temp(Temperature::Fahrenheit(100.0)));
}
```

Guard `if c < 0.0` –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –ø–∞—Ç—Ç–µ—Ä–Ω `Temperature::Celsius(c)` —Å–ø—ñ–≤–ø–∞–≤. –Ø–∫—â–æ guard –ø–æ–≤–µ—Ä—Ç–∞—î `false`, Rust –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –≥—ñ–ª–∫–∏.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ
–°–ø–µ–∫–æ—Ç–Ω–æ
```

### –û–±'—î–¥–Ω–∞–Ω–Ω—è –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤

–û–ø–µ—Ä–∞—Ç–æ—Ä `|` –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–¥–Ω–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω—ñ–≤ –≤ –æ–¥–Ω—ñ–π –≥—ñ–ª—Ü—ñ:

```rust
enum Day {
    Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday
}

fn day_type(day: &Day) -> &'static str {
    match day {
        Day::Monday | Day::Tuesday | Day::Wednesday | 
        Day::Thursday | Day::Friday => "–†–æ–±–æ—á–∏–π –¥–µ–Ω—å",
        Day::Saturday | Day::Sunday => "–í–∏—Ö—ñ–¥–Ω–∏–π",
    }
}

fn main() {
    println!("–ü–æ–Ω–µ–¥—ñ–ª–æ–∫: {}", day_type(&Day::Monday));
    println!("–°—É–±–æ—Ç–∞: {}", day_type(&Day::Saturday));
}
```

–¶–µ —á–∏—Ç–∞—î—Ç—å—Å—è —è–∫ "–ø–æ–Ω–µ–¥—ñ–ª–æ–∫ –ê–ë–û –≤—ñ–≤—Ç–æ—Ä–æ–∫ –ê–ë–û —Å–µ—Ä–µ–¥–∞...".

---

## 12.4 –°–∫–æ—Ä–æ—á–µ–Ω—ñ —Ñ–æ—Ä–º–∏: if let, let else, while let

–ü–æ–≤–Ω–∏–π match —ñ–Ω–æ–¥—ñ –Ω–∞–¥–º—ñ—Ä–Ω–∏–π, –∫–æ–ª–∏ —Ü—ñ–∫–∞–≤–∏—Ç—å –ª–∏—à–µ –æ–¥–∏–Ω –≤–∞—Ä—ñ–∞–Ω—Ç.

### if let ‚Äî –∫–æ–ª–∏ —Ü—ñ–∫–∞–≤–∏—Ç—å –æ–¥–∏–Ω –≤–∞—Ä—ñ–∞–Ω—Ç

–ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ –¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏:

```rust
enum Config {
    Debug,
    Release,
    Custom(String),
}

fn main() {
    let config = Config::Custom(String::from("testing"));
    
    // –ü–æ–≤–Ω–∏–π match ‚Äî –±–∞–≥–∞—Ç–æ—Å–ª—ñ–≤–Ω–æ
    match &config {
        Config::Custom(name) => println!("–ö–∞—Å—Ç–æ–º–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥: {}", name),
        _ => {}  // –ù—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
    }
    
    // if let ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–æ
    if let Config::Custom(name) = &config {
        println!("–ö–∞—Å—Ç–æ–º–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥: {}", name);
    }
}
```

`if let` –≤–∏–∫–æ–Ω—É—î –±–ª–æ–∫ –∫–æ–¥—É, —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–∞—Ç—Ç–µ—Ä–Ω—É. –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ `else` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ä–µ—à—Ç–∏ –≤–∏–ø–∞–¥–∫—ñ–≤:

```rust
if let Config::Debug = config {
    println!("–†–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è");
} else {
    println!("–ù–µ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è");
}
```

### let else ‚Äî "—è–∫—â–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, –≤–∏—Ö–æ–¥–∏–º–æ"

–ß–∞—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–π—Ç–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –æ—á—ñ–∫—É–≤–∞–Ω–Ω—é:

```rust
enum Response {
    Success(String),
    Error(String),
}

fn process(response: Response) {
    // let else ‚Äî —è–∫—â–æ –Ω–µ Success, –≤–∏—Ö–æ–¥–∏–º–æ
    let Response::Success(data) = response else {
        println!("–ü–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏!");
        return;
    };
    
    // –¢—É—Ç data –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ String
    println!("–û—Ç—Ä–∏–º–∞–Ω–æ –¥–∞–Ω—ñ: {}", data);
}

fn main() {
    process(Response::Success(String::from("OK")));
    process(Response::Error(String::from("Fail")));
}
```

–ë–ª–æ–∫ –ø—ñ—Å–ª—è `else` –º–∞—î "–Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è" ‚Äî –∑–∞–≤–µ—Ä—à—É–≤–∞—Ç–∏—Å—å —á–µ—Ä–µ–∑ `return`, `break`, `continue` –∞–±–æ `panic!`. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –ø—ñ—Å–ª—è `let else` –∑–º—ñ–Ω–Ω–∞ `data` –∑–∞–≤–∂–¥–∏ —ñ—Å–Ω—É—î.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–û—Ç—Ä–∏–º–∞–Ω–æ –¥–∞–Ω—ñ: OK
–ü–æ–º–∏–ª–∫–∞ –æ–±—Ä–æ–±–∫–∏!
```

### while let ‚Äî —Ü–∏–∫–ª –ø–æ–∫–∏ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å

–ö–æ—Ä–∏—Å–Ω–æ –¥–ª—è —ñ—Ç–µ—Ä–∞—Ü—ñ—ó, –ø–æ–∫–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø–∞—Ç—Ç–µ—Ä–Ω—É:

```rust
fn main() {
    let mut stack = vec![1, 2, 3, 4, 5];
    
    // –ü–æ–∫–∏ pop() –ø–æ–≤–µ—Ä—Ç–∞—î Some, –ø—Ä–æ–¥–æ–≤–∂—É—î–º–æ
    while let Some(top) = stack.pop() {
        println!("–ï–ª–µ–º–µ–Ω—Ç: {}", top);
    }
    
    println!("–°—Ç–µ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π");
}
```

–ú–µ—Ç–æ–¥ `pop()` –ø–æ–≤–µ—Ä—Ç–∞—î `Option<T>` ‚Äî `Some(value)` —è–∫—â–æ —Å—Ç–µ–∫ –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π, –∞–±–æ `None` —è–∫—â–æ –ø–æ—Ä–æ–∂–Ω—ñ–π. –¶–∏–∫–ª –ø—Ä–∞—Ü—é—î, –ø–æ–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω `Some(top)` –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î.

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–ï–ª–µ–º–µ–Ω—Ç: 5
–ï–ª–µ–º–µ–Ω—Ç: 4
–ï–ª–µ–º–µ–Ω—Ç: 3
–ï–ª–µ–º–µ–Ω—Ç: 2
–ï–ª–µ–º–µ–Ω—Ç: 1
–°—Ç–µ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π
```

---

## 12.5 Option: –±–µ–∑–ø–µ—á–Ω–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è

–£ –±–∞–≥–∞—Ç—å–æ—Ö –º–æ–≤–∞—Ö –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è —ñ—Å–Ω—É—î `null` ‚Äî —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —â–æ –æ–∑–Ω–∞—á–∞—î "–Ω—ñ—á–æ–≥–æ". –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º—É, —â–æ –±—É–¥—å-—è–∫–∞ –∑–º—ñ–Ω–Ω–∞ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ –º–æ–∂–µ –±—É—Ç–∏ null, —ñ –∑–∞–±—É–≤—à–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ü–µ, –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ NullPointerException –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.

Rust –æ–±–∏—Ä–∞—î —ñ–Ω—à–∏–π –ø—ñ–¥—Ö—ñ–¥. –ó–∞–º—ñ—Å—Ç—å null —î —Ç–∏–ø `Option<T>` ‚Äî enum –∑ –¥–≤–æ–º–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏:

```rust
enum Option<T> {
    Some(T),  // –ó–Ω–∞—á–µ–Ω–Ω—è —î
    None,     // –ó–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–º–∞—î
}
```

`<T>` ‚Äî —Ü–µ generic –ø–∞—Ä–∞–º–µ—Ç—Ä, –ø—Ä–æ —è–∫–∏–π –¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º–æ –≤ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª–∞—Ö. –ü–æ–∫–∏ —â–æ —Ä–æ–∑—É–º—ñ–π—Ç–µ `Option<String>` —è–∫ "–º–æ–∂–ª–∏–≤–æ String", `Option<i32>` —è–∫ "–º–æ–∂–ª–∏–≤–æ —á–∏—Å–ª–æ".

### –ß–æ–º—É —Ü–µ –∫—Ä–∞—â–µ –∑–∞ null

–£ Java —Ç–∞–∫–∏–π –∫–æ–¥ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è, –∞–ª–µ –≤–ø–∞–¥–µ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

```java
String name = null;
int len = name.length();  // NullPointerException!
```

–£ Rust –≤–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Option —è–∫ –∑–≤–∏—á–∞–π–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è:

```rust
fn find_agent(id: u32) -> Option<String> {
    if id == 1 {
        Some(String::from("SCOUT-001"))
    } else {
        None
    }
}

fn main() {
    let agent = find_agent(1);
    
    // –¶–µ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è:
    // let len = agent.len();  // agent ‚Äî —Ü–µ Option, –Ω–µ String!
    
    // –ü–æ—Ç—Ä—ñ–±–Ω–æ —è–≤–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏ –æ–±–∏–¥–≤–∞ –≤–∏–ø–∞–¥–∫–∏:
    match agent {
        Some(name) => println!("–ó–Ω–∞–π–¥–µ–Ω–æ: {}, –¥–æ–≤–∂–∏–Ω–∞: {}", name, name.len()),
        None => println!("–ê–≥–µ–Ω—Ç–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"),
    }
}
```

–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ó–ú–£–®–£–Ñ –≤–∞—Å –æ–±—Ä–æ–±–∏—Ç–∏ –≤–∏–ø–∞–¥–æ–∫ –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–Ω–∞—á–µ–Ω–Ω—è. –ù–µ–º–æ–∂–ª–∏–≤–æ "–∑–∞–±—É—Ç–∏" –ø—Ä–æ None.

### –ö–æ—Ä–∏—Å–Ω—ñ –º–µ—Ç–æ–¥–∏ Option

Option –º–∞—î –±–∞–≥–∞—Ç–æ –º–µ—Ç–æ–¥—ñ–≤ –¥–ª—è –∑—Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏:

```rust
fn main() {
    let some_value: Option<i32> = Some(42);
    let no_value: Option<i32> = None;
    
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
    println!("some_value.is_some(): {}", some_value.is_some());  // true
    println!("no_value.is_none(): {}", no_value.is_none());      // true
    
    // unwrap ‚Äî –≤–∏—Ç—è–≥—É—î –∑–Ω–∞—á–µ–Ω–Ω—è, –ü–ê–ù–Ü–ö–ê —è–∫—â–æ None
    let x = some_value.unwrap();  // 42
    // let y = no_value.unwrap();  // –ü–ê–ù–Ü–ö–ê!
    
    // unwrap_or ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
    let a = some_value.unwrap_or(0);  // 42
    let b = no_value.unwrap_or(0);    // 0
    
    // map ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑–Ω–∞—á–µ–Ω–Ω—è
    let doubled = some_value.map(|x| x * 2);  // Some(84)
    let no_doubled = no_value.map(|x| x * 2); // None
    
    println!("doubled: {:?}", doubled);
    println!("no_doubled: {:?}", no_doubled);
}
```

–ú–µ—Ç–æ–¥ `unwrap` –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –π–æ–≥–æ —Ç—ñ–ª—å–∫–∏ –∫–æ–ª–∏ –í–ü–ï–í–ù–ï–ù–Ü, —â–æ –∑–Ω–∞—á–µ–Ω–Ω—è —î (–∞–±–æ –≤ —Ç–µ—Å—Ç–∞—Ö). –£ production-–∫–æ–¥—ñ –∫—Ä–∞—â–µ `unwrap_or`, `unwrap_or_else`, –∞–±–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π match.

### –¢–∏–ø–æ–≤–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –∑ Option

–û—Å—å —è–∫ Option –ø—Ä–∏—Ä–æ–¥–Ω–æ –≤–ø–∏—Å—É—î—Ç—å—Å—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–≥–µ–Ω—Ç–∞:

```rust
struct Agent {
    id: String,
    target: Option<(f64, f64)>,  // –¶—ñ–ª—å –º–æ–∂–µ –±—É—Ç–∏, –∞ –º–æ–∂–µ –Ω–µ –±—É—Ç–∏
}

impl Agent {
    fn new(id: &str) -> Self {
        Self {
            id: id.to_string(),
            target: None,
        }
    }
    
    fn set_target(&mut self, x: f64, y: f64) {
        self.target = Some((x, y));
    }
    
    fn clear_target(&mut self) {
        self.target = None;
    }
    
    fn has_target(&self) -> bool {
        self.target.is_some()
    }
    
    fn distance_to_target(&self, current: (f64, f64)) -> Option<f64> {
        // map –ø–æ–≤–µ—Ä—Ç–∞—î None —è–∫—â–æ target ‚Äî None,
        // –∞–±–æ Some(–≤—ñ–¥—Å—Ç–∞–Ω—å) —è–∫—â–æ target ‚Äî Some
        self.target.map(|(tx, ty)| {
            let dx = tx - current.0;
            let dy = ty - current.1;
            (dx*dx + dy*dy).sqrt()
        })
    }
}

fn main() {
    let mut agent = Agent::new("SCOUT-001");
    
    // –°–ø–æ—á–∞—Ç–∫—É —Ü—ñ–ª—ñ –Ω–µ–º–∞—î
    if let Some(dist) = agent.distance_to_target((0.0, 0.0)) {
        println!("–í—ñ–¥—Å—Ç–∞–Ω—å: {:.2}", dist);
    } else {
        println!("–¶—ñ–ª—å –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞");
    }
    
    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Ü—ñ–ª—å
    agent.set_target(100.0, 200.0);
    
    if let Some(dist) = agent.distance_to_target((0.0, 0.0)) {
        println!("–í—ñ–¥—Å—Ç–∞–Ω—å –¥–æ —Ü—ñ–ª—ñ: {:.2}", dist);
    }
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```text
–¶—ñ–ª—å –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
–í—ñ–¥—Å—Ç–∞–Ω—å –¥–æ —Ü—ñ–ª—ñ: 223.61
```

---

## 12.6 Result: –±–µ–∑–ø–µ—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

–Ø–∫—â–æ Option ‚Äî —Ü–µ "–º–æ–∂–ª–∏–≤–æ –∑–Ω–∞—á–µ–Ω–Ω—è, –º–æ–∂–ª–∏–≤–æ –Ω—ñ—á–æ–≥–æ", —Ç–æ `Result` ‚Äî —Ü–µ "–∞–±–æ —É—Å–ø—ñ—Ö, –∞–±–æ –ø–æ–º–∏–ª–∫–∞":

```rust
enum Result<T, E> {
    Ok(T),   // –£—Å–ø—ñ—Ö —ñ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∏–ø—É T
    Err(E),  // –ü–æ–º–∏–ª–∫–∞ —ñ–∑ –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ç–∏–ø—É E
}
```

### –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–ù–∞–ø–∏—à–µ–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥—ñ–ª–µ–Ω–Ω—è, —â–æ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É –ø—Ä–∏ –¥—ñ–ª–µ–Ω–Ω—ñ –Ω–∞ –Ω—É–ª—å:

```rust
fn divide(a: f64, b: f64) -> Result<f64, String> {
    if b == 0.0 {
        Err(String::from("–î—ñ–ª–µ–Ω–Ω—è –Ω–∞ –Ω—É–ª—å –Ω–µ–º–æ–∂–ª–∏–≤–µ"))
    } else {
        Ok(a / b)
    }
}

fn main() {
    let result1 = divide(10.0, 2.0);
    let result2 = divide(10.0, 0.0);
    
    match result1 {
        Ok(value) => println!("10 / 2 = {}", value),
        Err(e) => println!("–ü–æ–º–∏–ª–∫–∞: {}", e),
    }
    
    match result2 {
        Ok(value) => println!("10 / 0 = {}", value),
        Err(e) => println!("–ü–æ–º–∏–ª–∫–∞: {}", e),
    }
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```rust
10 / 2 = 5
–ü–æ–º–∏–ª–∫–∞: –î—ñ–ª–µ–Ω–Ω—è –Ω–∞ –Ω—É–ª—å –Ω–µ–º–æ–∂–ª–∏–≤–µ
```

### –û–ø–µ—Ä–∞—Ç–æ—Ä ? –¥–ª—è –ø—Ä–æ–±—Ä–æ—Å—É –ø–æ–º–∏–ª–æ–∫

–ö–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞—î –∫—ñ–ª—å–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ–π, —â–æ –º–æ–∂—É—Ç—å –ø—Ä–æ–≤–∞–ª–∏—Ç–∏—Å—å, –∫–æ–¥ –∑ match —Å—Ç–∞—î –≥—Ä–æ–º—ñ–∑–¥–∫–∏–º. –û–ø–µ—Ä–∞—Ç–æ—Ä `?` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ–º–∏–ª–∫—É, —è–∫—â–æ Result ‚Äî Err:

```rust
fn read_battery() -> Result<u8, String> {
    Ok(85)  // –°–∏–º—É–ª—è—Ü—ñ—è —É—Å–ø—ñ—à–Ω–æ–≥–æ —á–∏—Ç–∞–Ω–Ω—è
}

fn check_mission() -> Result<String, String> {
    Ok(String::from("Patrol"))  // –°–∏–º—É–ª—è—Ü—ñ—è
}

fn prepare_agent() -> Result<String, String> {
    let battery = read_battery()?;  // –Ø–∫—â–æ Err ‚Äî —Ñ—É–Ω–∫—Ü—ñ—è –æ–¥—Ä–∞–∑—É –ø–æ–≤–µ—Ä—Ç–∞—î Err
    let mission = check_mission()?; // –¢–µ —Å–∞–º–µ
    
    if battery < 20 {
        return Err(String::from("–ù–∏–∑—å–∫–∏–π –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ—ó"));
    }
    
    Ok(format!("–ì–æ—Ç–æ–≤–∏–π: –±–∞—Ç–∞—Ä–µ—è {}%, –º—ñ—Å—ñ—è: {}", battery, mission))
}

fn main() {
    match prepare_agent() {
        Ok(status) => println!("‚úÖ {}", status),
        Err(e) => println!("‚ùå {}", e),
    }
}
```

–û–ø–µ—Ä–∞—Ç–æ—Ä `?` ‚Äî —Ü–µ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è –¥–ª—è:
```rust
let battery = match read_battery() {
    Ok(val) => val,
    Err(e) => return Err(e),
};
```

–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –ø–æ–≥–æ–≤–æ—Ä–∏–º–æ –≤ –†–æ–∑–¥—ñ–ª—ñ 18-20.

---

## 12.7 –ú–∞—à–∏–Ω–∞ —Å—Ç–∞–Ω—ñ–≤ –∞–≥–µ–Ω—Ç–∞

–¢–µ–ø–µ—Ä –æ–±'—î–¥–Ω–∞—î–º–æ –≤—Å–µ –≤–∏–≤—á–µ–Ω–µ —ñ –ø–æ–±—É–¥—É—î–º–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É –º–∞—à–∏–Ω—É —Å—Ç–∞–Ω—ñ–≤ –¥–ª—è –Ω–∞—à–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ë–ü–õ–ê. –ú–∞—à–∏–Ω–∞ —Å—Ç–∞–Ω—ñ–≤ ‚Äî —Ü–µ –º–æ–¥–µ–ª—å, –¥–µ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ –ø–µ—Ä–µ–±—É–≤–∞—Ç–∏ –≤ –æ–¥–Ω–æ–º—É –∑ –∫—ñ–ª—å–∫–æ—Ö —Å—Ç–∞–Ω—ñ–≤, —ñ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –º—ñ–∂ –Ω–∏–º–∏ –∑–∞ –ø–µ–≤–Ω–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

–°–ø–æ—á–∞—Ç–∫—É –≤–∏–∑–Ω–∞—á–∏–º–æ –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ç–∏–ø–∏ —Ç–∞ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ —Å—Ç–∞–Ω–∏ –∞–≥–µ–Ω—Ç–∞:

```rust
#[derive(Debug, Clone)]
struct Position {
    x: f64,
    y: f64,
    z: f64,
}

impl Position {
    fn new(x: f64, y: f64, z: f64) -> Self {
        Self { x, y, z }
    }
    
    fn origin() -> Self {
        Self::new(0.0, 0.0, 0.0)
    }
    
    fn distance_to(&self, other: &Position) -> f64 {
        let dx = self.x - other.x;
        let dy = self.y - other.y;
        let dz = self.z - other.z;
        (dx*dx + dy*dy + dz*dz).sqrt()
    }
}

#[derive(Debug, Clone)]
enum ReturnReason {
    LowBattery,
    MissionComplete,
    Recalled,
}

#[derive(Debug, Clone)]
enum AgentState {
    // –ê–≥–µ–Ω—Ç –æ—á—ñ–∫—É—î –∫–æ–º–∞–Ω–¥–∏
    Idle,
    
    // –ê–≥–µ–Ω—Ç —Ä—É—Ö–∞—î—Ç—å—Å—è –¥–æ —Ü—ñ–ª—ñ
    Moving {
        target: Position,
        speed: f64,
    },
    
    // –ê–≥–µ–Ω—Ç —Å–∫–∞–Ω—É—î —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—é
    Scanning {
        radius: f64,
        progress: u8,
    },
    
    // –ê–≥–µ–Ω—Ç –∑–∞—Ä—è–¥–∂–∞—î—Ç—å—Å—è
    Charging {
        current: u8,
        target_level: u8,
    },
    
    // –ê–≥–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –Ω–∞ –±–∞–∑—É
    Returning {
        base: Position,
        reason: ReturnReason,
    },
    
    // –ê–≤–∞—Ä—ñ–π–Ω–∏–π —Å—Ç–∞–Ω
    Emergency(String),
}
```

–ö–æ–∂–µ–Ω —Å—Ç–∞–Ω –º—ñ—Å—Ç–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è –Ω—å–æ–≥–æ –¥–∞–Ω—ñ. `Moving` –∑–Ω–∞—î –∫—É–¥–∏ —Ä—É—Ö–∞—Ç–∏—Å—å —ñ –∑ —è–∫–æ—é —à–≤–∏–¥–∫—ñ—Å—Ç—é. `Scanning` –≤—ñ–¥—Å—Ç–µ–∂—É—î –ø—Ä–æ–≥—Ä–µ—Å —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è. `Charging` –∑–Ω–∞—î –ø–æ—Ç–æ—á–Ω–∏–π —ñ —Ü—ñ–ª—å–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å –∑–∞—Ä—è–¥—É.

–¢–µ–ø–µ—Ä –≤–∏–∑–Ω–∞—á–∏–º–æ –∫–æ–º–∞–Ω–¥–∏, —è–∫—ñ –º–æ–∂–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∞–≥–µ–Ω—Ç:

```rust
#[derive(Debug)]
enum Command {
    MoveTo(Position),
    Scan { radius: f64 },
    Return,
    Charge,
    EmergencyStop(String),
}
```

–Ü –Ω–∞—Ä–µ—à—Ç—ñ —Å–∞–º –∞–≥–µ–Ω—Ç –∑ –ª–æ–≥—ñ–∫–æ—é –æ–±—Ä–æ–±–∫–∏ –∫–æ–º–∞–Ω–¥ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É:

```rust
#[derive(Debug)]
struct Agent {
    id: String,
    position: Position,
    battery: u8,
    state: AgentState,
}

impl Agent {
    fn new(id: &str) -> Self {
        Self {
            id: id.to_string(),
            position: Position::origin(),
            battery: 100,
            state: AgentState::Idle,
        }
    }
    
    fn process_command(&mut self, cmd: Command) {
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É —Å—Ç–∞–Ω—ñ
        match (&self.state, &cmd) {
            // –ó –∞–≤–∞—Ä—ñ–π–Ω–æ–≥–æ —Å—Ç–∞–Ω—É –∫–æ–º–∞–Ω–¥–∏ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è
            (AgentState::Emergency(_), _) => {
                println!("  ‚ö†Ô∏è –ê–≥–µ–Ω—Ç –≤ –∞–≤–∞—Ä—ñ–π–Ω–æ–º—É —Å—Ç–∞–Ω—ñ");
                return;
            }
            
            // –ü—ñ–¥ —á–∞—Å –∑–∞—Ä—è–¥–∫–∏ ‚Äî —Ç—ñ–ª—å–∫–∏ –∞–≤–∞—Ä—ñ–π–Ω–∞ –∑—É–ø–∏–Ω–∫–∞
            (AgentState::Charging { .. }, Command::EmergencyStop(_)) => {}
            (AgentState::Charging { .. }, _) => {
                println!("  ‚ö†Ô∏è –ê–≥–µ–Ω—Ç –∑–∞—Ä—è–¥–∂–∞—î—Ç—å—Å—è");
                return;
            }
            
            // –Ü–Ω—à—ñ –ø–µ—Ä–µ—Ö–æ–¥–∏ –¥–æ–∑–≤–æ–ª–µ–Ω—ñ
            _ => {}
        }
        
        // –í–∏–∫–æ–Ω—É—î–º–æ –∫–æ–º–∞–Ω–¥—É
        match cmd {
            Command::MoveTo(target) => {
                println!("  üìç –†—É—Ö –¥–æ ({:.0}, {:.0}, {:.0})", 
                         target.x, target.y, target.z);
                self.state = AgentState::Moving { target, speed: 10.0 };
            }
            
            Command::Scan { radius } => {
                println!("  üîç –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è (—Ä–∞–¥—ñ—É—Å: {})", radius);
                self.state = AgentState::Scanning { radius, progress: 0 };
            }
            
            Command::Return => {
                let reason = if self.battery < 30 {
                    ReturnReason::LowBattery
                } else {
                    ReturnReason::Recalled
                };
                println!("  üè† –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è ({:?})", reason);
                self.state = AgentState::Returning {
                    base: Position::origin(),
                    reason,
                };
            }
            
            Command::Charge => {
                println!("  üîå –ü–æ—á–∞—Ç–æ–∫ –∑–∞—Ä—è–¥–∫–∏");
                self.state = AgentState::Charging {
                    current: self.battery,
                    target_level: 100,
                };
            }
            
            Command::EmergencyStop(reason) => {
                println!("  üö® –ê–í–ê–†–Ü–Ø: {}", reason);
                self.state = AgentState::Emergency(reason);
            }
        }
    }
    
    fn update(&mut self) {
        // –í–∏—Ç—Ä–∞—Ç–∞ –±–∞—Ç–∞—Ä–µ—ó (–∫—Ä—ñ–º –∑–∞—Ä—è–¥–∫–∏ —Ç–∞ –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è)
        match &self.state {
            AgentState::Idle | AgentState::Charging { .. } => {}
            _ => {
                self.battery = self.battery.saturating_sub(1);
            }
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ–º—É –∑–∞—Ä—è–¥—ñ
        if self.battery < 10 {
            match &self.state {
                AgentState::Charging { .. } | 
                AgentState::Returning { .. } | 
                AgentState::Emergency(_) => {}
                _ => {
                    println!("  ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–Ω–∏–π –∑–∞—Ä—è–¥!");
                    self.state = AgentState::Returning {
                        base: Position::origin(),
                        reason: ReturnReason::LowBattery,
                    };
                    return;
                }
            }
        }
        
        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å—Ç–∞–Ω—É
        match &mut self.state {
            AgentState::Idle => {}
            
            AgentState::Moving { target, speed } => {
                let dist = self.position.distance_to(target);
                if dist < *speed {
                    self.position = target.clone();
                    println!("  ‚úÖ –ü—Ä–∏–±—É–ª–∏");
                    self.state = AgentState::Idle;
                } else {
                    let ratio = *speed / dist;
                    self.position.x += (target.x - self.position.x) * ratio;
                    self.position.y += (target.y - self.position.y) * ratio;
                    self.position.z += (target.z - self.position.z) * ratio;
                }
            }
            
            AgentState::Scanning { progress, .. } => {
                *progress += 25;
                println!("  üîç –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è: {}%", progress);
                if *progress >= 100 {
                    println!("  ‚úÖ –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ");
                    self.state = AgentState::Idle;
                }
            }
            
            AgentState::Charging { current, target_level } => {
                *current = (*current + 10).min(*target_level);
                self.battery = *current;
                println!("  üîã –ó–∞—Ä—è–¥–∫–∞: {}%", current);
                if *current >= *target_level {
                    println!("  ‚úÖ –ó–∞—Ä—è–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞");
                    self.state = AgentState::Idle;
                }
            }
            
            AgentState::Returning { base, .. } => {
                let dist = self.position.distance_to(base);
                if dist < 5.0 {
                    self.position = base.clone();
                    println!("  ‚úÖ –ù–∞ –±–∞–∑—ñ");
                    self.state = AgentState::Idle;
                } else {
                    let ratio = 15.0 / dist;
                    self.position.x += (base.x - self.position.x) * ratio;
                    self.position.y += (base.y - self.position.y) * ratio;
                    self.position.z += (base.z - self.position.z) * ratio;
                }
            }
            
            AgentState::Emergency(_) => {}
        }
    }
    
    fn status(&self) -> String {
        format!("{} | pos({:.0},{:.0},{:.0}) | bat:{}% | {:?}",
                self.id,
                self.position.x, self.position.y, self.position.z,
                self.battery,
                self.state)
    }
}
```

–ó–∞–ø—É—Å—Ç–∏–º–æ —Å–∏–º—É–ª—è—Ü—ñ—é –º—ñ—Å—ñ—ó:

```rust
fn main() {
    println!("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó");
    println!("‚ïë         –°–ò–ú–£–õ–Ø–¶–Ü–Ø –ú–ê–®–ò–ù–ò –°–¢–ê–ù–Ü–í –ê–ì–ï–ù–¢–ê                ‚ïë");
    println!("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n");
    
    let mut agent = Agent::new("SCOUT-001");
    println!("–°—Ç–∞—Ä—Ç: {}\n", agent.status());
    
    // –ú—ñ—Å—ñ—è: —Ä—É—Ö ‚Üí —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è ‚Üí –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è
    println!("‚ïê‚ïê‚ïê –ï—Ç–∞–ø 1: –†—É—Ö –¥–æ —Ç–æ—á–∫–∏ ‚ïê‚ïê‚ïê");
    agent.process_command(Command::MoveTo(Position::new(50.0, 50.0, 30.0)));
    for _ in 0..6 {
        agent.update();
    }
    println!("–°—Ç–∞—Ç—É—Å: {}\n", agent.status());
    
    println!("‚ïê‚ïê‚ïê –ï—Ç–∞–ø 2: –°–∫–∞–Ω—É–≤–∞–Ω–Ω—è ‚ïê‚ïê‚ïê");
    agent.process_command(Command::Scan { radius: 100.0 });
    for _ in 0..5 {
        agent.update();
    }
    println!("–°—Ç–∞—Ç—É—Å: {}\n", agent.status());
    
    println!("‚ïê‚ïê‚ïê –ï—Ç–∞–ø 3: –ü–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è ‚ïê‚ïê‚ïê");
    agent.process_command(Command::Return);
    for _ in 0..5 {
        agent.update();
    }
    println!("–°—Ç–∞—Ç—É—Å: {}\n", agent.status());
    
    println!("‚ïê‚ïê‚ïê –ï—Ç–∞–ø 4: –ó–∞—Ä—è–¥–∫–∞ ‚ïê‚ïê‚ïê");
    agent.process_command(Command::Charge);
    for _ in 0..6 {
        agent.update();
    }
    println!("\n–§—ñ–Ω–∞–ª: {}", agent.status());
}
```

–¶—è –ø—Ä–æ–≥—Ä–∞–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ–≤–Ω–∏–π —Ü–∏–∫–ª —Ä–æ–±–æ—Ç–∏ –∞–≥–µ–Ω—Ç–∞: —Ä—É—Ö –¥–æ —Ç–æ—á–∫–∏ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Ç–µ—Ä–∏—Ç–æ—Ä—ñ—ó, –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –Ω–∞ –±–∞–∑—É —Ç–∞ –∑–∞—Ä—è–¥–∫–∞. –ù–∞ –∫–æ–∂–Ω–æ–º—É –µ—Ç–∞–ø—ñ –≤–∏–¥–Ω–æ, —è–∫ –∑–º—ñ–Ω—é—î—Ç—å—Å—è —Å—Ç–∞–Ω –∞–≥–µ–Ω—Ç–∞ —Ç–∞ –π–æ–≥–æ –±–∞—Ç–∞—Ä–µ—è.

---

## 12.8 –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞

–¢–µ–ø–µ—Ä –≤–∞—à–∞ —á–µ—Ä–≥–∞. –°—Ç–≤–æ—Ä—ñ—Ç—å –º–∞—à–∏–Ω—É —Å—Ç–∞–Ω—ñ–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∞ (–≤–µ–Ω–¥—ñ–Ω–≥–æ–≤–æ—ó –º–∞—à–∏–Ω–∏).

**–ó–∞–≤–¥–∞–Ω–Ω—è:**

1. –°—Ç–≤–æ—Ä—ñ—Ç—å enum `VendingState` –∑ –≤–∞—Ä—ñ–∞–Ω—Ç–∞–º–∏:
   - `Idle` ‚Äî –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è
   - `SelectingProduct` ‚Äî –≤–∏–±—ñ—Ä —Ç–æ–≤–∞—Ä—É
   - `AcceptingPayment { required: u32, inserted: u32 }` ‚Äî –ø—Ä–∏–π–æ–º –æ–ø–ª–∞—Ç–∏
   - `Dispensing { product: String }` ‚Äî –≤–∏–¥–∞—á–∞ —Ç–æ–≤–∞—Ä—É
   - `OutOfStock` ‚Äî —Ç–æ–≤–∞—Ä –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è

2. –°—Ç–≤–æ—Ä—ñ—Ç—å enum `VendingCommand`:
   - `SelectProduct(String)`
   - `InsertCoin(u32)`
   - `Cancel`
   - `Dispense`

3. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `VendingMachine` –∑ –º–µ—Ç–æ–¥–∞–º–∏:
   - `new()` ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
   - `process_command(&mut self, cmd: VendingCommand)`
   - `status(&self) -> String`

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è:**

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –ë–∞–ª–∏ |
|----------|------|
| VendingState enum –∑ –¥–∞–Ω–∏–º–∏ | 3 |
| VendingCommand enum | 2 |
| –õ–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—ñ–≤ | 3 |
| –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ | 2 |
| **–ú–∞–∫—Å–∏–º—É–º** | **10** |

---

## –ü—ñ–¥—Å—É–º–æ–∫

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –≤–∏ –ø—ñ–∑–Ω–∞–ª–∏ –æ–¥–∏–Ω –∑ –Ω–∞–π–ø–æ—Ç—É–∂–Ω—ñ—à–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ Rust ‚Äî enum —É –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ pattern matching.

Enum –¥–æ–∑–≤–æ–ª—è—î —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –∞ –∫–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–∞–Ω—ñ. –¶–µ —Ä–æ–±–∏—Ç—å –Ω–µ–º–æ–∂–ª–∏–≤–∏–º —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è "–Ω–µ–≤–∞–ª—ñ–¥–Ω–æ–≥–æ" —Å—Ç–∞–Ω—É ‚Äî –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å.

Pattern matching —á–µ—Ä–µ–∑ `match` –≥–∞—Ä–∞–Ω—Ç—É—î –æ–±—Ä–æ–±–∫—É –≤—Å—ñ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤. –ó–∞–±—É–ª–∏ –æ–¥–∏–Ω ‚Äî –∫–æ–¥ –Ω–µ —Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è. –¶–µ –æ—Å–æ–±–ª–∏–≤–æ —Ü—ñ–Ω–Ω–æ –ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É: –¥–æ–¥–∞–ª–∏ –Ω–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –¥–æ enum, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–æ–∫–∞–∂–µ –≤—Å—ñ –º—ñ—Å—Ü—è, –¥–µ –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ–±—Ä–æ–±–∏—Ç–∏.

Option —ñ Result ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ enum'–∏ –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –≤—ñ–¥—Å—É—Ç–Ω—ñ–º–∏ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ —Ç–∞ –ø–æ–º–∏–ª–∫–∞–º–∏. –ó–∞–º—ñ—Å—Ç—å null —Ç–∞ exceptions, —è–∫—ñ –º–æ–∂—É—Ç—å "–≤–∏—Å—Ç—Ä–µ–ª–∏—Ç–∏" –Ω–µ—Å–ø–æ–¥—ñ–≤–∞–Ω–æ, –≤–∏ –º–∞—î—Ç–µ —Ç–∏–ø–∏, —â–æ –ó–ú–£–®–£–Æ–¢–¨ –æ–±—Ä–æ–±–∏—Ç–∏ –≤—Å—ñ –≤–∏–ø–∞–¥–∫–∏.

–ù–∞—Ä–µ—à—Ç—ñ, –º–∞—à–∏–Ω–∞ —Å—Ç–∞–Ω—ñ–≤ ‚Äî —Ü–µ –ø—Ä–∏—Ä–æ–¥–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è enum –¥–ª—è –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤. –ö–æ–∂–µ–Ω —Å—Ç–∞–Ω —á—ñ—Ç–∫–æ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π, –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω—ñ, —ñ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–ø–æ–º–∞–≥–∞—î —É–Ω–∏–∫–∞—Ç–∏ –ø–æ–º–∏–ª–æ–∫.

---

## –ó–≤'—è–∑–æ–∫ –∑ –Ω–∞—Å—Ç—É–ø–Ω–∏–º —Ä–æ–∑–¥—ñ–ª–æ–º

–ù–∞—à –∞–≥–µ–Ω—Ç —Å—Ç–∞—î –≤—Å–µ —Å–∫–ª–∞–¥–Ω—ñ—à–∏–º. –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è –¥–∞–Ω–∏—Ö, enum –¥–ª—è —Å—Ç–∞–Ω—ñ–≤, –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∏. –ê–ª–µ –≤–µ—Å—å –∫–æ–¥ –¥–æ—Å—ñ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ! –£ **–†–æ–∑–¥—ñ–ª—ñ 13: –ú–æ–¥—É–ª—ñ —Ç–∞ –≤–∏–¥–∏–º—ñ—Å—Ç—å** –≤–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—å –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∫–æ–¥ —É –ª–æ–≥—ñ—á–Ω—ñ –º–æ–¥—É–ª—ñ, –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≤–∏–¥–∏–º—ñ—Å—Ç—å, —ñ –±—É–¥—É–≤–∞—Ç–∏ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, –≥–æ—Ç–æ–≤—É –¥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è.
