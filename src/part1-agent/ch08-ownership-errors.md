# –†–æ–∑–¥—ñ–ª 8: Ownership ‚Äî –ü—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ–º–∏–ª–æ–∫ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞

---

## üìã –ê–Ω–æ—Ç–∞—Ü—ñ—è

–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä Rust –º–∞—î —Ä–µ–ø—É—Ç–∞—Ü—ñ—é "—Å—É–≤–æ—Ä–æ–≥–æ –≤—á–∏—Ç–µ–ª—è". –ù–æ–≤–∞—á–∫–∏ —á–∞—Å—Ç–æ —Å–∫–∞—Ä–∂–∞—Ç—å—Å—è: "–ß–æ–º—É –≤—ñ–Ω –Ω–µ –¥–∞—î –º–µ–Ω—ñ —Å–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏ –∫–æ–¥?!" –ê–ª–µ –¥–æ—Å–≤—ñ–¥—á–µ–Ω—ñ Rust-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∏ –∫–∞–∂—É—Ç—å —ñ–Ω—à–µ: "–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä ‚Äî –º—ñ–π –Ω–∞–π–∫—Ä–∞—â–∏–π –¥—Ä—É–≥. –í—ñ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –±–∞–≥–∏ –¥–æ —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–∏ –ø–æ—Ç—Ä–∞–ø–ª—è—é—Ç—å —É –ø—Ä–æ–¥–∞–∫—à–Ω."

–£ —Ü—å–æ–º—É —Ä–æ–∑–¥—ñ–ª—ñ –≤–∏ –Ω–∞–≤—á–∏—Ç–µ—Å—å —á–∏—Ç–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ —è–∫ –ø—ñ–¥–∫–∞–∑–∫–∏, –∞ –Ω–µ —è–∫ –ø–æ–∫–∞—Ä–∞–Ω–Ω—è. –ú–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ –∫–æ–∂–Ω—É —Ç–∏–ø–æ–≤—É –ø–æ–º–∏–ª–∫—É ownership: —â–æ –≤–æ–Ω–∞ –æ–∑–Ω–∞—á–∞—î, —á–æ–º—É –≤–∏–Ω–∏–∫–ª–∞, —ñ –≥–æ–ª–æ–≤–Ω–µ ‚Äî —è–∫ —ó—ó –≤–∏–ø—Ä–∞–≤–∏—Ç–∏.

---

## üéØ –¶—ñ–ª—ñ –Ω–∞–≤—á–∞–Ω–Ω—è

–ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ü—å–æ–≥–æ —Ä–æ–∑–¥—ñ–ª—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ:

1. **–ß–∏—Ç–∞—Ç–∏** –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ –ø—Ä–æ ownership
2. **–†–æ–∑—É–º—ñ—Ç–∏** —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏
3. **–î—ñ–∞–≥–Ω–æ—Å—Ç—É–≤–∞—Ç–∏** –ø—Ä–∏—á–∏–Ω—É –ø–æ–º–∏–ª–∫–∏ –∑–∞ —ó—ó –æ–ø–∏—Å–æ–º
4. **–ó–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏** —Ä—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è
5. **–†–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏** –∫–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Clone, –∞ –∫–æ–ª–∏ ‚Äî —ñ–Ω—à—ñ –ø—ñ–¥—Ö–æ–¥–∏

---

## üìö –ö–ª—é—á–æ–≤—ñ —Ç–µ—Ä–º—ñ–Ω–∏

| –¢–µ—Ä–º—ñ–Ω | –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------------|
| **E0382** | –ö–æ–¥ –ø–æ–º–∏–ª–∫–∏ "use of moved value" |
| **E0507** | –ö–æ–¥ –ø–æ–º–∏–ª–∫–∏ "cannot move out of" |
| **moved value** | –ó–Ω–∞—á–µ–Ω–Ω—è, —â–æ –±—É–ª–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ —ñ –±—ñ–ª—å—à–µ –Ω–µ –≤–∞–ª—ñ–¥–Ω–µ |
| **partial move** | –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —á–∞—Å—Ç–∏–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ |
| **suggestion** | –ü—ñ–¥–∫–∞–∑–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ —â–æ–¥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è |

---

## üí° –ú–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–∏–π –∫–µ–π—Å: –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä —è–∫ –æ—Ö–æ—Ä–æ–Ω–µ—Ü—å

### –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è: C++ vs Rust

**–ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç A –ø–∏—à–µ –Ω–∞ C++:**

```cpp
void assignMission(Drone* drone, Mission* mission) {
    drone->mission = mission;
}

int main() {
    Mission* m = new Mission("Patrol");
    assignMission(drone1, m);
    assignMission(drone2, m);  // –û–±–∏–¥–≤–∞ –¥—Ä–æ–Ω–∏ –º–∞—é—Ç—å —Ç–æ–π —Å–∞–º–∏–π –≤–∫–∞–∑—ñ–≤–Ω–∏–∫!
    
    delete m;  // –û–¥–∏–Ω –¥—Ä–æ–Ω –≤–∏–¥–∞–ª–∏–≤ –º—ñ—Å—ñ—é
    drone1->executeMission();  // USE AFTER FREE! –ö—Ä–∞—à —É –ø—Ä–æ–¥–∞–∫—à–Ω—ñ.
}
```

–¶–µ–π –∫–æ–¥ **—Å–∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å**. –ë–∞–≥ –≤–∏—è–≤–∏—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è ‚Äî –º–æ–∂–ª–∏–≤–æ, —É –ø—Ä–æ–¥–∞–∫—à–Ω—ñ, –∫–æ–ª–∏ –¥—Ä–æ–Ω –ø–æ–ª–µ—Ç–∏—Ç—å –Ω–µ —Ç—É–¥–∏.

**–ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç B –ø–∏—à–µ –Ω–∞ Rust:**

```rust
fn assign_mission(drone: &mut Drone, mission: String) {
    drone.mission = mission;
}

fn main() {
    let m = String::from("Patrol");
    assign_mission(&mut drone1, m);
    assign_mission(&mut drone2, m);  // –ü–û–ú–ò–õ–ö–ê –ö–û–ú–ü–Ü–õ–Ø–¶–Ü–á!
}
```

Rust **–Ω–µ –¥–∞—Å—Ç—å —Å–∫–æ–º–ø—ñ–ª—é–≤–∞—Ç–∏** —Ü–µ–π –∫–æ–¥. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –≤–∏–≤–µ–¥–µ:

```text
error[E0382]: use of moved value: `m`
 --> src/main.rs:8:34
  |
6 |     let m = String::from("Patrol");
  |         - move occurs because `m` has type `String`
7 |     assign_mission(&mut drone1, m);
  |                                 - value moved here
8 |     assign_mission(&mut drone2, m);
  |                                 ^ value used here after move
```

–ë–∞–≥ –∑–Ω–∞–π–¥–µ–Ω–æ **–¥–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏**. –ñ–æ–¥–Ω–∏—Ö –∫—Ä–∞—à—ñ–≤ —É –ø—Ä–æ–¥–∞–∫—à–Ω—ñ!

---

## 8.1 –ê–ù–ê–¢–û–ú–Ü–Ø –ü–û–í–Ü–î–û–ú–õ–ï–ù–ù–Ø –ü–†–û –ü–û–ú–ò–õ–ö–£

### 8.1.1 –ó —á–æ–≥–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

–ü–µ—Ä—à –Ω—ñ–∂ —Ä–æ–∑–±–∏—Ä–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø–æ–º–∏–ª–∫–∏, –Ω–∞–≤—á–∏–º–æ—Å—å —á–∏—Ç–∞—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å Rust. –ö–æ–∂–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –º–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç:

```text
error[E0382]: borrow of moved value: `s`        ‚Üê 1. –ó–∞–≥–æ–ª–æ–≤–æ–∫
 --> src/main.rs:5:20                           ‚Üê 2. –õ–æ–∫–∞—Ü—ñ—è
  |
3 |     let s = String::from("hello");          ‚Üê 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç
  |         - move occurs because `s` has type `String`
4 |     let t = s;
  |             - value moved here              ‚Üê 4. –ê–Ω–æ—Ç–∞—Ü—ñ—è: –¥–µ move
5 |     println!("{}", s);
  |                    ^ value borrowed here after move  ‚Üê 5. –ê–Ω–æ—Ç–∞—Ü—ñ—è: –¥–µ –ø–æ–º–∏–ª–∫–∞
  |
  = help: consider cloning the value           ‚Üê 6. –ü—ñ–¥–∫–∞–∑–∫–∞
```

**–†–æ–∑–±–µ—Ä–µ–º–æ –∫–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**

| # | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –©–æ –æ–∑–Ω–∞—á–∞—î |
|---|-----------|------------|
| 1 | **–ö–æ–¥ –ø–æ–º–∏–ª–∫–∏** `E0382` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä. –ú–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–æ—é `rustc --explain E0382` |
| 2 | **–õ–æ–∫–∞—Ü—ñ—è** `src/main.rs:5:20` | –§–∞–π–ª, —Ä—è–¥–æ–∫, –∫–æ–ª–æ–Ω–∫–∞ –¥–µ –≤–∏—è–≤–ª–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º—É |
| 3 | **–ö–æ–Ω—Ç–µ–∫—Å—Ç** | –§—Ä–∞–≥–º–µ–Ω—Ç –≤–∞—à–æ–≥–æ –∫–æ–¥—É –∑ –Ω—É–º–µ—Ä–∞—Ü—ñ—î—é —Ä—è–¥–∫—ñ–≤ |
| 4 | **–ê–Ω–æ—Ç–∞—Ü—ñ—ó** | –ü–æ—è—Å–Ω–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≤–∞–∂–ª–∏–≤–æ–≥–æ –º—ñ—Å—Ü—è –≤ –∫–æ–¥—ñ |
| 5 | **–ú—ñ—Å—Ü–µ –ø–æ–º–∏–ª–∫–∏** `^` | –°–∏–º–≤–æ–ª –≤–∫–∞–∑—É—î —Ç–æ—á–Ω–µ –º—ñ—Å—Ü–µ –ø—Ä–æ–±–ª–µ–º–∏ |
| 6 | **–ü—ñ–¥–∫–∞–∑–∫–∞** `help:` | –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ —â–æ–¥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è |

### 8.1.2 –°–∏–º–≤–æ–ª–∏ –≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö

Rust –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ —Å–∏–º–≤–æ–ª–∏ –¥–ª—è –ø–æ–∑–Ω–∞—á–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω:

| –°–∏–º–≤–æ–ª | –ó–Ω–∞—á–µ–Ω–Ω—è |
|--------|----------|
| `^` | –ú—ñ—Å—Ü–µ –ø–æ–º–∏–ª–∫–∏ (–≥–æ–ª–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞) |
| `-` | –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (–∫–æ–Ω—Ç–µ–∫—Å—Ç) |
| `\|` | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞ –ª—ñ–Ω—ñ—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É |
| `-->` | –í–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Ñ–∞–π–ª —ñ —Ä—è–¥–æ–∫ |

### 8.1.3 –ö–æ–º–∞–Ω–¥–∞ --explain

–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–¥—É –ø–æ–º–∏–ª–∫–∏ (E0382, E0507 —Ç–æ—â–æ) –º–æ–∂–Ω–∞ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏:

```bash
rustc --explain E0382
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ –≤–∏–≤–µ–¥–µ –∫—ñ–ª—å–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —Ç–µ–∫—Å—Ç—É –∑:
- –ü–æ—è—Å–Ω–µ–Ω–Ω—è–º, —á–æ–º—É —Ü—è –ø–æ–º–∏–ª–∫–∞ —ñ—Å–Ω—É—î
- –ü—Ä–∏–∫–ª–∞–¥–∞–º–∏ –∫–æ–¥—É, —â–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –ø–æ–º–∏–ª–∫—É
- –ü—Ä–∏–∫–ª–∞–¥–∞–º–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

---

## 8.2 –ü–û–ú–ò–õ–ö–ê E0382: USE OF MOVED VALUE

### 8.2.1 –©–æ –æ–∑–Ω–∞—á–∞—î —Ü—è –ø–æ–º–∏–ª–∫–∞

**E0382** ‚Äî —Ü–µ –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∞ –ø–æ–º–∏–ª–∫–∞ ownership. –í–æ–Ω–∞ –≤–∏–Ω–∏–∫–∞—î, –∫–æ–ª–∏ –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–æ –±—É–ª–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–µ (moved) –≤ —ñ–Ω—à—É –∑–º—ñ–Ω–Ω—É –∞–±–æ —Ñ—É–Ω–∫—Ü—ñ—é.

**–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏:** –í–∏ –≤—ñ–¥–¥–∞–ª–∏ —â–æ—Å—å –∫–æ–º—É—Å—å, –∞ –ø–æ—Ç—ñ–º –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å —Ü–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å. –ê–ª–µ –≤–æ–Ω–æ –≤–∂–µ –Ω–µ –≤–∞—à–µ!

### 8.2.2 –ë–∞–∑–æ–≤–∏–π –≤–∏–ø–∞–¥–æ–∫: move –ø—Ä–∏ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—ñ

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** –ú–∏ —Ö–æ—á–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ String, –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ –π–æ–≥–æ —ñ–Ω—à—ñ–π –∑–º—ñ–Ω–Ω—ñ–π, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –æ–±–∏–¥–≤—ñ –∑–º—ñ–Ω–Ω—ñ. –ê–ª–µ Rust –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å ‚Äî –¥–∞–≤–∞–π—Ç–µ –ø–æ–±–∞—á–∏–º–æ —á–æ–º—É.

```rust
fn main() {
    let s = String::from("hello");
    let t = s;         // s –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –≤ t
    println!("{}", s); // –°–ø—Ä–æ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ s
}
```

**–©–æ –º–∏ –æ—á—ñ–∫—É–≤–∞–ª–∏:** –í–∏–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è `s`.

**–©–æ —Å—Ç–∞–ª–æ—Å—å –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ:** –ö–æ–¥ –Ω–µ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è.

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:**

```text
error[E0382]: borrow of moved value: `s`
 --> src/main.rs:4:20
  |
2 |     let s = String::from("hello");
  |         - move occurs because `s` has type `String`, which does not implement the `Copy` trait
3 |     let t = s;
  |             - value moved here
4 |     println!("{}", s);
  |                    ^ value borrowed here after move
  |
help: consider cloning the value if the performance cost is acceptable
  |
3 |     let t = s.clone();
  |              ++++++++
```

**–Ø–∫ —á–∏—Ç–∞—Ç–∏ —Ü–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:**

1. **–†—è–¥–æ–∫ 2:** –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∫–∞–∂–µ, —â–æ `s` –º–∞—î —Ç–∏–ø `String`, —è–∫–∏–π –Ω–µ —Ä–µ–∞–ª—ñ–∑—É—î `Copy`. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –ø—Ä–∏ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—ñ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è move, –∞ –Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è.

2. **–†—è–¥–æ–∫ 3:** "value moved here" ‚Äî —Å–∞–º–µ —Ç—É—Ç –∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –∑ `s` –¥–æ `t`.

3. **–†—è–¥–æ–∫ 4:** "value borrowed here after move" ‚Äî –≤–∏ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `s` –ø—ñ—Å–ª—è —Ç–æ–≥–æ, —è–∫ –≤–æ–Ω–æ –≤–∂–µ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ.

4. **help:** –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø—ñ–¥–∫–∞–∑—É—î –º–æ–∂–ª–∏–≤–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `.clone()`.

### 8.2.3 –ß–æ—Ç–∏—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è E0382

–Ñ –∫—ñ–ª—å–∫–∞ —Å–ø–æ—Å–æ–±—ñ–≤ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ —Ü—é –ø–æ–º–∏–ª–∫—É. –í–∏–±—ñ—Ä –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ç–æ–≥–æ, —â–æ –≤–∞–º –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ.

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è 1: Clone ‚Äî —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –æ–±–∏–¥–≤—ñ –∫–æ–ø—ñ—ó**

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –í–∞–º –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤—ñ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∫–æ–ø—ñ—ó –¥–∞–Ω–∏—Ö.

```rust
fn main() {
    let s = String::from("hello");
    let t = s.clone();  // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–≤–Ω—É –∫–æ–ø—ñ—é
    
    println!("s = {}", s);  // OK ‚Äî s –Ω–µ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞–ª–∞—Å—å
    println!("t = {}", t);  // OK ‚Äî t –º–∞—î —Å–≤–æ—é –∫–æ–ø—ñ—é
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:** `.clone()` –≤–∏–¥—ñ–ª—è—î –Ω–æ–≤—É –ø–∞–º'—è—Ç—å –Ω–∞ heap —ñ –∫–æ–ø—ñ—é—î —Ç—É–¥–∏ –≤—Å—ñ –¥–∞–Ω—ñ. –¢–µ–ø–µ—Ä `s` —ñ `t` ‚Äî –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ, –∫–æ–∂–Ω–∞ –≤–æ–ª–æ–¥—ñ—î —Å–≤–æ—î—é –∫–æ–ø—ñ—î—é.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```rust
s = hello
t = hello
```

**–ó–∞—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è:** Clone –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Ä–æ–≥–∏–º –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö!

---

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è 2: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –Ω–æ–≤–æ–≥–æ –≤–ª–∞—Å–Ω–∏–∫–∞**

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç–∞—Ä–∞ –∑–º—ñ–Ω–Ω–∞ –ø—ñ—Å–ª—è –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è.

```rust
fn main() {
    let s = String::from("hello");
    let t = s;  // s –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ –≤ t
    
    // –ü—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ s
    println!("t = {}", t);  // OK
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:** –Ø–∫—â–æ `s` –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞, –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —ó—ó. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ —Å–∫–∞—Ä–∂–∏—Ç—å—Å—è, —è–∫—â–æ –≤–∏ –Ω–µ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```rust
t = hello
```

---

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è 3: –ù–µ —Ä–æ–±–∏—Ç–∏ move –≤–∑–∞–≥–∞–ª—ñ**

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥—Ä—É–≥–∞ –∑–º—ñ–Ω–Ω–∞.

```rust
fn main() {
    let s = String::from("hello");
    // let t = s;  ‚Äî –≤–∏–¥–∞–ª—è—î–º–æ —Ü–µ–π —Ä—è–¥–æ–∫
    
    println!("s = {}", s);  // OK
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:** –Ø–∫—â–æ `t` –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞, –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ —ó—ó. –ö–æ–¥ —Å—Ç–∞—î –ø—Ä–æ—Å—Ç—ñ—à–∏–º.

---

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è 4: Borrowing (–ø–æ–∑–∏—á–∞–Ω–Ω—è)**

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ "–ø–æ–¥–∏–≤–∏—Ç–∏—Å—å" –Ω–∞ –¥–∞–Ω—ñ, –Ω–µ –∑–∞–±–∏—Ä–∞—é—á–∏ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è. –¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ —É –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤ (–¥–µ—Ç–∞–ª—å–Ω–æ –≤ –†–æ–∑–¥—ñ–ª—ñ 9).

```rust
fn main() {
    let s = String::from("hello");
    let t = &s;  // –ü–æ–∑–∏—á–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–µ –ø–µ—Ä–µ–º—ñ—â—É—î–º–æ
    
    println!("s = {}", s);  // OK ‚Äî s –≤—Å–µ —â–µ –≤–æ–ª–æ–¥—ñ—î
    println!("t = {}", t);  // OK ‚Äî t –ª–∏—à–µ –ø–æ—Å–∏–ª–∞—î—Ç—å—Å—è –Ω–∞ s
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:** `&s` —Å—Ç–≤–æ—Ä—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `s`. –ü–æ—Å–∏–ª–∞–Ω–Ω—è ‚Äî —Ü–µ —è–∫ "–¥–æ–∑–≤—ñ–ª –ø–æ–¥–∏–≤–∏—Ç–∏—Å—å", –∞ –Ω–µ "–ø–µ—Ä–µ–¥–∞—á–∞ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è". `s` –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤–ª–∞—Å–Ω–∏–∫–æ–º.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```rust
s = hello
t = hello
```

### 8.2.4 Move –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á—ñ —É —Ñ—É–Ω–∫—Ü—ñ—é

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** –ü–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–Ω—è —É —Ñ—É–Ω–∫—Ü—ñ—é ‚Äî —Ü–µ —Ç–µ–∂ move. –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î String –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º, –≤–æ–Ω–∞ –∑–∞–±–∏—Ä–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è. –ü–æ–∫–∞–∂–µ–º–æ —Ü—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Ç–∞ —Å–ø–æ—Å–æ–±–∏ —ó—ó –æ–±—ñ–π—Ç–∏.

```rust
fn process(data: String) {
    println!("–û–±—Ä–æ–±–∫–∞: {}", data);
}

fn main() {
    let msg = String::from("Hello");
    process(msg);      // msg –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ —É —Ñ—É–Ω–∫—Ü—ñ—é
    process(msg);      // –°–ø—Ä–æ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ msg –∑–Ω–æ–≤—É
}
```

**–©–æ –º–∏ –æ—á—ñ–∫—É–≤–∞–ª–∏:** –í–∏–∫–ª–∏–∫–∞—Ç–∏ `process` –¥–≤—ñ—á—ñ –∑ —Ç–∏–º —Å–∞–º–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º.

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:**

```text
error[E0382]: use of moved value: `msg`
 --> src/main.rs:8:13
  |
6 |     let msg = String::from("Hello");
  |         --- move occurs because `msg` has type `String`
7 |     process(msg);
  |             --- value moved here
8 |     process(msg);
  |             ^^^ value used here after move
```

**–©–æ –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫:** –§—É–Ω–∫—Ü—ñ—è `process` –ø—Ä–∏–π–º–∞—î `String` –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –ø—Ä–∏ –≤–∏–∫–ª–∏–∫—É `process(msg)` –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `data` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ `msg` —É `main` —Å—Ç–∞—î –Ω–µ–≤–∞–ª—ñ–¥–Ω–æ—é.

**–¢—Ä–∏ —Å–ø–æ—Å–æ–±–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**

**–°–ø–æ—Å—ñ–± 1: Clone –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–¥–∞—á–µ—é**

```rust
fn process(data: String) {
    println!("–û–±—Ä–æ–±–∫–∞: {}", data);
}

fn main() {
    let msg = String::from("Hello");
    process(msg.clone());  // –ü–µ—Ä–µ–¥–∞—î–º–æ –∫–æ–ø—ñ—é
    process(msg);          // –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ ‚Äî msg –Ω–µ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞–≤—Å—è —Ä–∞–Ω—ñ—à–µ
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** `.clone()` —Å—Ç–≤–æ—Ä—é—î –∫–æ–ø—ñ—é. –ü–µ—Ä—à–∏–π –≤–∏–∫–ª–∏–∫ –æ—Ç—Ä–∏–º—É—î –∫–æ–ø—ñ—é, –æ—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è. –î—Ä—É–≥–∏–π –≤–∏–∫–ª–∏–∫ –æ—Ç—Ä–∏–º—É—î –æ—Ä–∏–≥—ñ–Ω–∞–ª.

---

**–°–ø–æ—Å—ñ–± 2: –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–∑–∞–¥**

```rust
fn process(data: String) -> String {
    println!("–û–±—Ä–æ–±–∫–∞: {}", data);
    data  // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è –Ω–∞–∑–∞–¥
}

fn main() {
    let msg = String::from("Hello");
    let msg = process(msg);  // –û—Ç—Ä–∏–º—É—î–º–æ –Ω–∞–∑–∞–¥
    let msg = process(msg);  // –Ü —â–µ —Ä–∞–∑
    println!("–§—ñ–Ω–∞–ª: {}", msg);
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, —Ä–æ–±–∏—Ç—å —Å–≤–æ—é —Ä–æ–±–æ—Ç—É, —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞–∑–∞–¥. –¶–µ –ø–∞—Ç–µ—Ä–Ω "take and return".

---

**–°–ø–æ—Å—ñ–± 3: –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è (–Ω–∞–π–∫—Ä–∞—â–∏–π)**

```rust
fn process(data: &str) {  // –ü—Ä–∏–π–º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –Ω–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è
    println!("–û–±—Ä–æ–±–∫–∞: {}", data);
}

fn main() {
    let msg = String::from("Hello");
    process(&msg);  // –ü–µ—Ä–µ–¥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    process(&msg);  // –ú–æ–∂–Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ —Ä–∞–∑—ñ–≤
    process(&msg);
    println!("–û—Ä–∏–≥—ñ–Ω–∞–ª: {}", msg);  // msg –≤—Å–µ —â–µ –Ω–∞—à–∞
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î `&str` ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ä—è–¥–æ–∫. –¶–µ –Ω–µ –∑–∞–±–∏—Ä–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è, –ª–∏—à–µ "–ø–æ–∑–∏—á–∞—î" –¥–∞–Ω—ñ –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è. –¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥, –∫–æ–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–æ–ª–æ–¥—ñ—Ç–∏ –¥–∞–Ω–∏–º–∏.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```text
–û–±—Ä–æ–±–∫–∞: Hello
–û–±—Ä–æ–±–∫–∞: Hello
–û–±—Ä–æ–±–∫–∞: Hello
–û—Ä–∏–≥—ñ–Ω–∞–ª: Hello
```

---

## 8.3 –ü–û–ú–ò–õ–ö–ê E0382: MOVE –£ –¶–ò–ö–õ–Ü

### 8.3.1 –û—Å–æ–±–ª–∏–≤–∏–π –≤–∏–ø–∞–¥–æ–∫ ‚Äî —ñ—Ç–µ—Ä–∞—Ü—ñ—ó

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** –£ —Ü–∏–∫–ª—ñ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó. –¶–µ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–∫–∏ –≤–∂–µ –Ω–∞ –¥—Ä—É–≥—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó. –ü–æ–∫–∞–∂–µ–º–æ –ø—Ä–æ–±–ª–µ–º—É —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è.

```rust
fn send(msg: String) {
    println!("–í—ñ–¥–ø—Ä–∞–≤–∫–∞: {}", msg);
}

fn main() {
    let message = String::from("Status OK");
    
    for i in 0..3 {
        send(message);  // –ü–µ—Ä—à–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è OK, –¥—Ä—É–≥–∞ ‚Äî –ü–û–ú–ò–õ–ö–ê!
    }
}
```

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:**

```text
error[E0382]: use of moved value: `message`
 --> src/main.rs:8:14
  |
5 |     let message = String::from("Status OK");
  |         ------- move occurs because `message` has type `String`
...
8 |         send(message);
  |              ^^^^^^^ value moved here, in previous iteration of loop
```

**–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –∫–ª—é—á–æ–≤—É —Ñ—Ä–∞–∑—É:** "in previous iteration of loop" ‚Äî –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Ä–æ–∑—É–º—ñ—î –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ü–∏–∫–ª—É!

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**
1. **–Ü—Ç–µ—Ä–∞—Ü—ñ—è 0:** `message` –ø–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è –≤ `send()`. –ü—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É `message` –Ω–µ–≤–∞–ª—ñ–¥–Ω–∞.
2. **–Ü—Ç–µ—Ä–∞—Ü—ñ—è 1:** –¶–∏–∫–ª –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–Ω–æ–≤—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `message`, –∞–ª–µ –≤–æ–Ω–∞ –≤–∂–µ "–ø–æ—Ä–æ–∂–Ω—è".

### 8.3.2 –°–ø–æ—Å–æ–±–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

**–°–ø–æ—Å—ñ–± 1: Clone –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó**

```rust
fn send(msg: String) {
    println!("–í—ñ–¥–ø—Ä–∞–≤–∫–∞: {}", msg);
}

fn main() {
    let message = String::from("Status OK");
    
    for i in 0..3 {
        send(message.clone());  // –ù–æ–≤–∞ –∫–æ–ø—ñ—è –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó
    }
    
    // message –≤—Å–µ —â–µ –¥–æ—Å—Ç—É–ø–Ω–∞!
    println!("–û—Ä–∏–≥—ñ–Ω–∞–ª: {}", message);
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –ö–æ–∂–Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤—É –∫–æ–ø—ñ—é —ñ –ø–µ—Ä–µ–¥–∞—î —ó—ó –≤ `send()`. –û—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–µ–¥–æ—Ç–æ—Ä–∫–∞–Ω–∏–º.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```text
–í—ñ–¥–ø—Ä–∞–≤–∫–∞: Status OK
–í—ñ–¥–ø—Ä–∞–≤–∫–∞: Status OK
–í—ñ–¥–ø—Ä–∞–≤–∫–∞: Status OK
–û—Ä–∏–≥—ñ–Ω–∞–ª: Status OK
```

---

**–°–ø–æ—Å—ñ–± 2: –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü–∏–∫–ª—É**

```rust
fn send(msg: String) {
    println!("–í—ñ–¥–ø—Ä–∞–≤–∫–∞: {}", msg);
}

fn main() {
    for i in 0..3 {
        let message = String::from("Status OK");  // –ù–æ–≤–µ –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó
        send(message);
    }
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –ù–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è, —è–∫–µ –ø–æ—Ç—ñ–º –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ —Ñ—É–Ω–∫—Ü—ñ—é. –ù–µ–º–∞—î –ø—Ä–æ–±–ª–µ–º –∑ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º.

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:** –Ø–∫—â–æ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å–µ –æ–¥–Ω–æ –±—É–¥–µ —Ä—ñ–∑–Ω–∏–º –Ω–∞ –∫–æ–∂–Ω—ñ–π —ñ—Ç–µ—Ä–∞—Ü—ñ—ó, –∞–±–æ —è–∫—â–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—à–µ–≤–µ.

---

**–°–ø–æ—Å—ñ–± 3: –§—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–π–º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è**

```rust
fn send(msg: &str) {  // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å –≤–æ–ª–æ–¥—ñ–Ω–Ω—è
    println!("–í—ñ–¥–ø—Ä–∞–≤–∫–∞: {}", msg);
}

fn main() {
    let message = String::from("Status OK");
    
    for i in 0..3 {
        send(&message);  // –ü–æ–∑–∏—á–∞—î–º–æ, –Ω–µ –ø–µ—Ä–µ–¥–∞—î–º–æ
    }
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –§—É–Ω–∫—Ü—ñ—è –Ω–µ –∑–∞–±–∏—Ä–∞—î –≤–æ–ª–æ–¥—ñ–Ω–Ω—è ‚Äî –≤–æ–Ω–∞ –ª–∏—à–µ "–¥–∏–≤–∏—Ç—å—Å—è" –Ω–∞ –¥–∞–Ω—ñ. –ú–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Å–∫—ñ–ª—å–∫–∏ –∑–∞–≤–≥–æ–¥–Ω–æ —Ä–∞–∑—ñ–≤.

**–¶–µ –Ω–∞–π–∫—Ä–∞—â–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –≤–∏–ø–∞–¥–∫—ñ–≤!**

---

## 8.4 –ü–û–ú–ò–õ–ö–ê E0382: PARTIAL MOVE

### 8.4.1 –©–æ —Ç–∞–∫–µ —á–∞—Å—Ç–∫–æ–≤–∏–π move

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** –Ø–∫—â–æ –≤–∏ –ø–µ—Ä–µ–º—ñ—â—É—î—Ç–µ –ª–∏—à–µ —á–∞—Å—Ç–∏–Ω—É —Å–∫–ª–∞–¥–µ–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–¥–∏–Ω –µ–ª–µ–º–µ–Ω—Ç –∫–æ—Ä—Ç–µ–∂—É), –≤—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—î "—á–∞—Å—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–æ—é" —ñ —ó—ó –Ω–µ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ü—ñ–ª–∫–æ–º.

```rust
fn main() {
    let pair = (String::from("Hello"), String::from("World"));
    
    let first = pair.0;  // –ü–µ—Ä–µ–º—ñ—â—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç
    
    println!("{:?}", pair);  // –°–ø—Ä–æ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–µ—Å—å –∫–æ—Ä—Ç–µ–∂
}
```

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:**

```text
error[E0382]: borrow of partially moved value: `pair`
 --> src/main.rs:6:22
  |
4 |     let first = pair.0;
  |                 ------ value partially moved here
6 |     println!("{:?}", pair);
  |                      ^^^^ value borrowed here after partial move
  |
  = note: partial move occurs because `pair.0` has type `String`, which does not implement the `Copy` trait
help: borrow this binding in the pattern to avoid moving the value
  |
4 |     let first = &pair.0;
  |                 +
```

**–©–æ —Å—Ç–∞–ª–æ—Å—å:**
1. `pair` ‚Äî –∫–æ—Ä—Ç–µ–∂ –∑ –¥–≤–æ—Ö String.
2. `let first = pair.0` –ø–µ—Ä–µ–º—ñ—â—É—î –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç.
3. –¢–µ–ø–µ—Ä `pair` "—á–∞—Å—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–∏–π" ‚Äî –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑–∞–±—Ä–∞–Ω–æ, –¥—Ä—É–≥–∏–π –Ω–∞ –º—ñ—Å—Ü—ñ.
4. Rust –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ "–Ω–µ–ø–æ–≤–Ω—É" —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

### 8.4.2 –°–ø–æ—Å–æ–±–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

**–°–ø–æ—Å—ñ–± 1: –ü–æ–∑–∏—á–∏—Ç–∏ –∑–∞–º—ñ—Å—Ç—å –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è**

```rust
fn main() {
    let pair = (String::from("Hello"), String::from("World"));
    
    let first = &pair.0;  // –ü–æ–∑–∏—á–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    
    println!("–ü–µ—Ä—à–∏–π: {}", first);
    println!("–í–µ—Å—å –∫–æ—Ä—Ç–µ–∂: {:?}", pair);  // OK!
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** `&pair.0` —Å—Ç–≤–æ—Ä—é—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç, –Ω–µ –ø–µ—Ä–µ–º—ñ—â—É—é—á–∏ –π–æ–≥–æ. –ö–æ—Ä—Ç–µ–∂ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ü—ñ–ª–∏–º.

---

**–°–ø–æ—Å—ñ–± 2: Clone**

```rust
fn main() {
    let pair = (String::from("Hello"), String::from("World"));
    
    let first = pair.0.clone();  // –ö–æ–ø—ñ—é—î–º–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç
    
    println!("–ö–æ–ø—ñ—è: {}", first);
    println!("–û—Ä–∏–≥—ñ–Ω–∞–ª: {:?}", pair);  // OK!
}
```

---

**–°–ø–æ—Å—ñ–± 3: –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è –≤—Å—å–æ–≥–æ –∫–æ—Ä—Ç–µ–∂—É**

```rust
fn main() {
    let pair = (String::from("Hello"), String::from("World"));
    
    let (first, second) = pair;  // –ü–µ—Ä–µ–º—ñ—â—É—î–º–æ –æ–±–∏–¥–≤–∞ –µ–ª–µ–º–µ–Ω—Ç–∏
    
    // pair –±—ñ–ª—å—à–µ –Ω–µ —ñ—Å–Ω—É—î, –∞–ª–µ first —ñ second –¥–æ—Å—Ç—É–ø–Ω—ñ
    println!("{} {}", first, second);
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** –ó–∞–º—ñ—Å—Ç—å —á–∞—Å—Ç–∫–æ–≤–æ–≥–æ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è, –ø–µ—Ä–µ–º—ñ—â—É—î–º–æ –≤—Å–µ. –ö–æ—Ä—Ç–µ–∂ —Ä–æ–∑–ø–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ –æ–∫—Ä–µ–º—ñ –∑–º—ñ–Ω–Ω—ñ.

---

## 8.5 –ü–û–ú–ò–õ–ö–ê E0507: CANNOT MOVE OUT OF

### 8.5.1 Move –∑ —ñ–Ω–¥–µ–∫—Å—É –∫–æ–ª–µ–∫—Ü—ñ—ó

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** Rust –Ω–µ –¥–æ–∑–≤–æ–ª—è—î "–≤–∏—Ç—è–≥—Ç–∏" –µ–ª–µ–º–µ–Ω—Ç –∑ –≤–µ–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ —ñ–Ω–¥–µ–∫—Å, –±–æ —Ü–µ –∑–∞–ª–∏—à–∏–ª–æ –± "–¥—ñ—Ä–∫—É" –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó. –ü–æ–∫–∞–∂–µ–º–æ –ø—Ä–æ–±–ª–µ–º—É —Ç–∞ –±–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏.

```rust
fn main() {
    let v = vec![String::from("hello")];
    
    let s = v[0];  // –°–ø—Ä–æ–±–∞ –≤–∏—Ç—è–≥—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç
}
```

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞:**

```text
error[E0507]: cannot move out of index of `Vec<String>`
 --> src/main.rs:4:13
  |
4 |     let s = v[0];
  |             ^^^^
  |             |
  |             move occurs because value has type `String`, which does not implement the `Copy` trait
  |             help: consider borrowing here: `&v[0]`
```

**–ß–æ–º—É Rust —Ü–µ –∑–∞–±–æ—Ä–æ–Ω—è—î?**

–£—è–≤—ñ—Ç—å, —â–æ –± —Å—Ç–∞–ª–æ—Å—å, —è–∫–±–∏ —Ü–µ –±—É–ª–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ:

```rust
–î–û:
v = [String("hello"), String("world"), String("!")]
     ^----- –µ–ª–µ–º–µ–Ω—Ç 0

–ü–Ü–°–õ–Ø let s = v[0]:
v = [?????, String("world"), String("!")]
     ^----- —Ç—É—Ç –±—É–ª–∞ –± "–¥—ñ—Ä–∫–∞"!
s = String("hello")
```

–í–µ–∫—Ç–æ—Ä –º–∞–≤ –±–∏ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç ‚Äî —Ü–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!

### 8.5.2 –ë–µ–∑–ø–µ—á–Ω—ñ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏

**–°–ø–æ—Å—ñ–± 1: –ü–æ–∑–∏—á–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è**

```rust
fn main() {
    let v = vec![String::from("hello")];
    
    let s = &v[0];  // –ü–æ–∑–∏—á–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è
    println!("–ï–ª–µ–º–µ–Ω—Ç: {}", s);
    println!("–í–µ–∫—Ç–æ—Ä —Ü—ñ–ª–∏–π: {:?}", v);
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** `&v[0]` –¥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –µ–ª–µ–º–µ–Ω—Ç, –Ω–µ –ø–µ—Ä–µ–º—ñ—â—É—é—á–∏ –π–æ–≥–æ. –í–µ–∫—Ç–æ—Ä –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è —Ü—ñ–ª–∏–º.

---

**–°–ø–æ—Å—ñ–± 2: Clone**

```rust
fn main() {
    let v = vec![String::from("hello")];
    
    let s = v[0].clone();  // –ö–æ–ø—ñ—é—î–º–æ –µ–ª–µ–º–µ–Ω—Ç
    println!("–ö–æ–ø—ñ—è: {}", s);
    println!("–û—Ä–∏–≥—ñ–Ω–∞–ª —É –≤–µ–∫—Ç–æ—Ä—ñ: {:?}", v);
}
```

---

**–°–ø–æ—Å—ñ–± 3: Remove (—è–∫—â–æ –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏—Ç—è–≥—Ç–∏)**

```rust
fn main() {
    let mut v = vec![String::from("hello"), String::from("world")];
    
    let s = v.remove(0);  // –í–∏–¥–∞–ª—è—î —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –µ–ª–µ–º–µ–Ω—Ç
    
    println!("–í–∏—Ç—è–≥–Ω—É—Ç–æ: {}", s);
    println!("–†–µ—à—Ç–∞: {:?}", v);  // ["world"]
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** `remove(0)` –≤–∏–¥–∞–ª—è—î –µ–ª–µ–º–µ–Ω—Ç –∑ –≤–µ–∫—Ç–æ—Ä–∞ —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –π–æ–≥–æ. –í–µ–∫—Ç–æ—Ä —Å—Ç–∞—î –∫–æ—Ä–æ—Ç—à–∏–º, –∞–ª–µ –≤–∞–ª—ñ–¥–Ω–∏–º.

---

**–°–ø–æ—Å—ñ–± 4: swap_remove (—à–≤–∏–¥—à–∏–π)**

```rust
fn main() {
    let mut v = vec![
        String::from("a"),
        String::from("b"),
        String::from("c"),
    ];
    
    let s = v.swap_remove(0);  // –ú—ñ–Ω—è—î –∑ –æ—Å—Ç–∞–Ω–Ω—ñ–º —ñ –≤–∏–¥–∞–ª—è—î
    
    println!("–í–∏—Ç—è–≥–Ω—É—Ç–æ: {}", s);   // "a"
    println!("–†–µ—à—Ç–∞: {:?}", v);     // ["c", "b"] ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∑–º—ñ–Ω–∏–≤—Å—è!
}
```

**–Ø–∫ –ø—Ä–∞—Ü—é—î:** `swap_remove` –º—ñ–Ω—è—î –µ–ª–µ–º–µ–Ω—Ç –∑ –æ—Å—Ç–∞–Ω–Ω—ñ–º —ñ –ø–æ—Ç—ñ–º –≤–∏–¥–∞–ª—è—î –æ—Å—Ç–∞–Ω–Ω—ñ–π. –¶–µ O(1) –∑–∞–º—ñ—Å—Ç—å O(n), –∞–ª–µ –∑–º—ñ–Ω—é—î –ø–æ—Ä—è–¥–æ–∫ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.

---

## 8.6 COPY –¢–ê CLONE: –ü–û–ì–õ–ò–ë–õ–ï–ù–ï –†–û–ó–£–ú–Ü–ù–ù–Ø

### 8.6.1 –ö–æ–ª–∏ Copy, –∞ –∫–æ–ª–∏ Move

**–ö–ª—é—á–æ–≤–µ –ø—Ä–∞–≤–∏–ª–æ:** –¢–∏–ø–∏, —â–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –∂–∏–≤—É—Ç—å –Ω–∞ —Å—Ç–µ–∫—É —ñ –Ω–µ –º–∞—é—Ç—å "–≥–ª–∏–±–æ–∫–∏—Ö" —Ä–µ—Å—É—Ä—Å—ñ–≤, —î Copy. –¢–∏–ø–∏, —â–æ –≤–æ–ª–æ–¥—ñ—é—Ç—å —Ä–µ—Å—É—Ä—Å–∞–º–∏ (heap, —Ñ–∞–π–ª–∏, —Å–æ–∫–µ—Ç–∏), —î Move.

**–¢–∞–±–ª–∏—Ü—è —Ç–∏–ø—ñ–≤:**

| –¢–∏–ø | Copy —á–∏ Move | –ß–æ–º—É |
|-----|--------------|------|
| `i32`, `u64`, `f64` | Copy | –ü—Ä–æ—Å—Ç—ñ —á–∏—Å–ª–∞ –Ω–∞ —Å—Ç–µ–∫—É |
| `bool` | Copy | 1 –±–∞–π—Ç –Ω–∞ —Å—Ç–µ–∫—É |
| `char` | Copy | 4 –±–∞–π—Ç–∏ –Ω–∞ —Å—Ç–µ–∫—É |
| `(i32, i32)` | Copy | –ö–æ—Ä—Ç–µ–∂ –∑ Copy –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ |
| `[i32; 5]` | Copy | –ú–∞—Å–∏–≤ –∑ Copy –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ |
| `String` | Move | –í–æ–ª–æ–¥—ñ—î –¥–∞–Ω–∏–º–∏ –Ω–∞ heap |
| `Vec<T>` | Move | –í–æ–ª–æ–¥—ñ—î –¥–∞–Ω–∏–º–∏ –Ω–∞ heap |
| `Box<T>` | Move | –í–æ–ª–æ–¥—ñ—î –¥–∞–Ω–∏–º–∏ –Ω–∞ heap |

### 8.6.2 –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è Copy –ø–æ–≤–µ–¥—ñ–Ω–∫–∏

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** –ü–æ–∫–∞–∂–µ–º–æ, —â–æ Copy —Ç–∏–ø–∏ –º–æ–∂–Ω–∞ –≤—ñ–ª—å–Ω–æ –ø—Ä–∏—Å–≤–æ—é–≤–∞—Ç–∏ —ñ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ ‚Äî –æ—Ä–∏–≥—ñ–Ω–∞–ª –∑–∞–≤–∂–¥–∏ –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏–º.

```rust
fn main() {
    // –ß–∏—Å–ª–∞ ‚Äî Copy
    let x: i32 = 42;
    let y = x;  // –ö–û–ü–Ü–Æ–í–ê–ù–ù–Ø, –Ω–µ move
    println!("x = {}, y = {}", x, y);  // –û–±–∏–¥–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ!
    
    // –ö–æ—Ä—Ç–µ–∂—ñ –∑ Copy —Ç–∏–ø—ñ–≤ ‚Äî —Ç–µ–∂ Copy
    let point = (10, 20);
    let backup = point;  // –ö–û–ü–Ü–Æ–í–ê–ù–ù–Ø
    println!("point = {:?}, backup = {:?}", point, backup);
    
    // –ü–µ—Ä–µ–¥–∞—á–∞ —É —Ñ—É–Ω–∫—Ü—ñ—é ‚Äî —Ç–µ–∂ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
    print_number(x);
    println!("x –ø—ñ—Å–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó: {}", x);  // x –≤—Å–µ —â–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π!
}

fn print_number(n: i32) {
    println!("–ß–∏—Å–ª–æ: {}", n);
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**

–î–ª—è Copy —Ç–∏–ø—ñ–≤ –ø—Ä–∏ –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—ñ `let y = x` –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è **–ø–æ–±—ñ—Ç–æ–≤–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –∑–Ω–∞—á–µ–Ω–Ω—è. –û–±–∏–¥–≤—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∫–æ–ø—ñ—ó. –ù—ñ—è–∫–∏—Ö –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ —Å–ø—ñ–ª—å–Ω—ñ –¥–∞–Ω—ñ ‚Äî –∫–æ–∂–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–Ω–æ–º–Ω–∞.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```rust
x = 42, y = 42
point = (10, 20), backup = (10, 20)
–ß–∏—Å–ª–æ: 42
x –ø—ñ—Å–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó: 42
```

### 8.6.3 –ö–æ–ª–∏ Clone –¥–æ—Ä–æ–≥–∏–π

**–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á—ñ:** Clone ‚Äî –∫–æ—Ä–∏—Å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞–ª–µ –≤—ñ–Ω –º–æ–∂–µ –±—É—Ç–∏ –¥–æ—Ä–æ–≥–∏–º –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö. –ü–æ–∫–∞–∂–µ–º–æ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ "–¥–µ—à–µ–≤–∏–º" —ñ "–¥–æ—Ä–æ–≥–∏–º" clone.

```rust
fn main() {
    // –ú–∞–ª–µ–Ω—å–∫–∏–π String ‚Äî clone –¥–µ—à–µ–≤–∏–π
    let small = String::from("Hi");
    let small_copy = small.clone();  // –ö–æ–ø—ñ—é—î–º–æ ~2 –±–∞–π—Ç–∏ –Ω–∞ heap
    println!("–ú–∞–ª–µ–Ω—å–∫–∏–π clone: OK");
    
    // –í–µ–ª–∏–∫–∏–π String ‚Äî clone –î–û–†–û–ì–ò–ô!
    let large = "x".repeat(1_000_000);  // 1 –ú–ë –¥–∞–Ω–∏—Ö
    let large_copy = large.clone();     // –í–∏–¥—ñ–ª—è—î–º–æ –©–ï 1 –ú–ë!
    println!("–í–µ–ª–∏–∫–∏–π clone: –≤–∏–¥—ñ–ª–µ–Ω–æ {} –±–∞–π—Ç", large_copy.len());
    
    // Vec –∑ –±–∞–≥–∞—Ç—å–º–∞ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ ‚Äî clone –¥—É–∂–µ –¥–æ—Ä–æ–≥–∏–π
    let big_vec: Vec<String> = (0..10000)
        .map(|i| format!("item_{}", i))
        .collect();
    
    // –¶–µ–π clone —Å–∫–æ–ø—ñ—é—î 10000 String'—ñ–≤!
    // –ö–æ–∂–µ–Ω String –º–∞—î —Å–≤—ñ–π heap allocation
    let big_vec_copy = big_vec.clone();
    println!("–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ {} –µ–ª–µ–º–µ–Ω—Ç—ñ–≤", big_vec_copy.len());
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**

1. **–ú–∞–ª–µ–Ω—å–∫–∏–π String:** Clone –∫–æ–ø—ñ—é—î –∫—ñ–ª—å–∫–∞ –±–∞–π—Ç ‚Äî —à–≤–∏–¥–∫–æ —ñ –¥–µ—à–µ–≤–æ.

2. **–í–µ–ª–∏–∫–∏–π String (1 –ú–ë):** Clone –º–∞—î –≤–∏–¥—ñ–ª–∏—Ç–∏ –Ω–æ–≤–∏–π –±–ª–æ–∫ –ø–∞–º'—è—Ç—ñ –Ω–∞ 1 –ú–ë —ñ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤—Å—ñ –±–∞–π—Ç–∏. –¶–µ –ø–æ–º—ñ—Ç–Ω–æ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–µ.

3. **Vec<String>:** Clone –∫–æ–ø—ñ—é—î –Ω–µ —Ç—ñ–ª—å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–µ–∫—Ç–æ—Ä–∞, –∞–ª–µ –π –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç. –î–ª—è 10000 String'—ñ–≤ —Ü–µ –æ–∑–Ω–∞—á–∞—î 10000 –æ–∫—Ä–µ–º–∏—Ö heap allocations!

**–í–∏—Å–Ω–æ–≤–æ–∫:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Clone –æ–±–µ—Ä–µ–∂–Ω–æ. –Ø–∫—â–æ –º–æ–∂–Ω–∞ –æ–±—ñ–π—Ç–∏—Å—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º ‚Äî –∫—Ä–∞—â–µ –æ–±—ñ–π—Ç–∏—Å—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º.

### 8.6.4 –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Copy —Ç–∞ Clone

| –ê—Å–ø–µ–∫—Ç | Copy | Clone |
|--------|------|-------|
| **–í–∏–∫–ª–∏–∫** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π | –Ø–≤–Ω–∏–π (`.clone()`) |
| **–°–∏–Ω—Ç–∞–∫—Å–∏—Å** | `let y = x;` | `let y = x.clone();` |
| **–í–∞—Ä—Ç—ñ—Å—Ç—å** | –ó–∞–≤–∂–¥–∏ –¥–µ—à–µ–≤–∞ (–±–∞–π—Ç–∏ –Ω–∞ —Å—Ç–µ–∫—É) | –ú–æ–∂–µ –±—É—Ç–∏ –¥—É–∂–µ –¥–æ—Ä–æ–≥–æ—é |
| **–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏** | –ü—Ä–∏–º—ñ—Ç–∏–≤–∏, –º–∞–ª–µ–Ω—å–∫—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ | –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω–∞ –∫–æ–ø—ñ—è |
| **–î–µ –¥–∞–Ω—ñ** | –ü–æ–≤–Ω—ñ—Å—Ç—é –Ω–∞ —Å—Ç–µ–∫—É | –ú–æ–∂–µ –≤–∫–ª—é—á–∞—Ç–∏ heap |

---

## 8.7 –ü–†–ê–ö–¢–ò–ö–£–ú: –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ê –ü–û–ú–ò–õ–û–ö

### 8.7.1 –í–ø—Ä–∞–≤–∞ 1: –ó–Ω–∞–π–¥—ñ—Ç—å –ø–æ–º–∏–ª–∫—É

**–ó–∞–≤–¥–∞–Ω–Ω—è:** –í–∏–∑–Ω–∞—á—Ç–µ, —â–æ –Ω–µ —Ç–∞–∫ —É —Ü—å–æ–º—É –∫–æ–¥—ñ, –±–µ–∑ –∑–∞–ø—É—Å–∫—É –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞.

```rust
fn main() {
    let command = String::from("MOVE_TO 100 200");
    
    log_command(command);
    execute_command(command);
}

fn log_command(cmd: String) {
    println!("[LOG] {}", cmd);
}

fn execute_command(cmd: String) {
    println!("[EXEC] {}", cmd);
}
```

<details>
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**–ü–æ–º–∏–ª–∫–∞:** `command` –ø–µ—Ä–µ–º—ñ—â—É—î—Ç—å—Å—è –≤ `log_command()`. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ `execute_command(command)` –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –≤–∂–µ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è.

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–≤–∞—Ä—ñ–∞–Ω—Ç 1 ‚Äî Clone):**
```rust
log_command(command.clone());
execute_command(command);
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–≤–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äî Borrowing, –∫—Ä–∞—â–µ):**
```rust
fn log_command(cmd: &str) {
    println!("[LOG] {}", cmd);
}

fn execute_command(cmd: &str) {
    println!("[EXEC] {}", cmd);
}

fn main() {
    let command = String::from("MOVE_TO 100 200");
    log_command(&command);
    execute_command(&command);
}
```
</details>

### 8.7.2 –í–ø—Ä–∞–≤–∞ 2: –¶–∏–∫–ª

**–ó–∞–≤–¥–∞–Ω–Ω—è:** –©–æ –Ω–µ —Ç–∞–∫ —É —Ü—å–æ–º—É –∫–æ–¥—ñ?

```rust
fn main() {
    let agents = vec![
        String::from("SCOUT-001"),
        String::from("SCOUT-002"),
    ];
    
    for agent in agents {
        println!("–ê–≥–µ–Ω—Ç: {}", agent);
    }
    
    println!("–í—Å—å–æ–≥–æ –∞–≥–µ–Ω—Ç—ñ–≤: {}", agents.len());
}
```

<details>
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**–ü–æ–º–∏–ª–∫–∞:** `for agent in agents` –ø–µ—Ä–µ–º—ñ—â—É—î `agents` —É —Ü–∏–∫–ª. –ü—ñ—Å–ª—è —Ü–∏–∫–ª—É `agents` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π.

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:**
```rust
for agent in &agents {  // –Ü—Ç–µ—Ä–∞—Ü—ñ—è –ø–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è—Ö
    println!("–ê–≥–µ–Ω—Ç: {}", agent);
}
println!("–í—Å—å–æ–≥–æ –∞–≥–µ–Ω—Ç—ñ–≤: {}", agents.len());  // OK
```
</details>

### 8.7.3 –í–ø—Ä–∞–≤–∞ 3: –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –∑ –≤–µ–∫—Ç–æ—Ä–∞

**–ó–∞–≤–¥–∞–Ω–Ω—è:** –ß–æ–º—É —Ü–µ–π –∫–æ–¥ –Ω–µ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è?

```rust
fn get_first(v: Vec<String>) -> String {
    v[0]
}
```

<details>
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**–ü–æ–º–∏–ª–∫–∞:** E0507 ‚Äî cannot move out of index of `Vec<String>`.

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –º–æ–∂–Ω–∞ "–≤–∏—Ç—è–≥—Ç–∏" –µ–ª–µ–º–µ–Ω—Ç –∑ –≤–µ–∫—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ —ñ–Ω–¥–µ–∫—Å ‚Äî —Ü–µ –∑–∞–ª–∏—à–∏—Ç—å "–¥—ñ—Ä–∫—É".

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–≤–∞—Ä—ñ–∞–Ω—Ç 1 ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è):**
```rust
fn get_first(v: &Vec<String>) -> &String {
    &v[0]
}
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–≤–∞—Ä—ñ–∞–Ω—Ç 2 ‚Äî remove):**
```rust
fn get_first(mut v: Vec<String>) -> String {
    v.remove(0)
}
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (–≤–∞—Ä—ñ–∞–Ω—Ç 3 ‚Äî clone):**
```rust
fn get_first(v: &Vec<String>) -> String {
    v[0].clone()
}
```
</details>

---

## 8.8 –õ–ê–ë–û–†–ê–¢–û–†–ù–ê –†–û–ë–û–¢–ê

### –ó–∞–≤–¥–∞–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–≥—Ä–∞–º—É, —â–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ä—ñ–∑–Ω—ñ –ø–æ–º–∏–ª–∫–∏ ownership —Ç–∞ —ó—Ö –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–¥ –∑ –ø–æ–º–∏–ª–∫–æ—é E0382 (use of moved value) —ñ –≤–∏–ø—Ä–∞–≤—Ç–µ –π–æ–≥–æ —Ç—Ä—å–æ–º–∞ —Å–ø–æ—Å–æ–±–∞–º–∏
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–¥ –∑ –ø–æ–º–∏–ª–∫–æ—é –≤ —Ü–∏–∫–ª—ñ —ñ –≤–∏–ø—Ä–∞–≤—Ç–µ
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –∫–æ–¥ –∑ partial move —ñ –≤–∏–ø—Ä–∞–≤—Ç–µ
4. –ü–æ–∫–∞–∂—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ Clone —ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –ë–∞–ª–∏ |
|----------|------|
| –ü–æ–º–∏–ª–∫–∞ E0382 —Ç–∞ 3 –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è | 3 |
| –ü–æ–º–∏–ª–∫–∞ –≤ —Ü–∏–∫–ª—ñ | 2 |
| Partial move | 2 |
| Clone vs –ø–æ—Å–∏–ª–∞–Ω–Ω—è | 2 |
| –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ | 1 |
| **–ú–∞–∫—Å–∏–º—É–º** | **10** |

---

## üìù –†–ï–ó–Æ–ú–ï

### –û—Å–Ω–æ–≤–Ω—ñ –ø–æ–º–∏–ª–∫–∏ ownership

| –ö–æ–¥ | –ù–∞–∑–≤–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|-----|-------|---------|
| E0382 | use of moved value | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø—ñ—Å–ª—è move |
| E0507 | cannot move out of | –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó/–ø–æ—Å–∏–ª–∞–Ω–Ω—è |
| ‚Äî | partial move | –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è —á–∞—Å—Ç–∏–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ |

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—ó –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

1. **Clone** ‚Äî –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–≤—ñ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –∫–æ–ø—ñ—ó
2. **Borrowing** ‚Äî –∫–æ–ª–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ "–ø–æ–¥–∏–≤–∏—Ç–∏—Å—å" –Ω–∞ –¥–∞–Ω—ñ
3. **–†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü—ñ—è** ‚Äî –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π
4. **–ù–µ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏** ‚Äî —è–∫—â–æ –¥—Ä—É–≥–∞ –∑–º—ñ–Ω–Ω–∞ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞

### –ö–ª—é—á–æ–≤—ñ —ñ–Ω—Å–∞–π—Ç–∏

- –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä ‚Äî –≤–∞—à —Å–æ—é–∑–Ω–∏–∫, –Ω–µ –≤–æ—Ä–æ–≥
- –ß–∏—Ç–∞–π—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É–≤–∞–∂–Ω–æ ‚Äî —Ç–∞–º —î –ø—ñ–¥–∫–∞–∑–∫–∏
- `rustc --explain E0382` –¥–∞—î –¥–µ—Ç–∞–ª—å–Ω—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è
- Borrowing –≤–∏—Ä—ñ—à—É—î –±—ñ–ª—å—à—ñ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º (–†–æ–∑–¥—ñ–ª 9)

---

## üîó –ó–í'–Ø–ó–û–ö –ó –ù–ê–°–¢–£–ü–ù–ò–ú –†–û–ó–î–Ü–õ–û–ú

–í–∏ –ø–æ–º—ñ—Ç–∏–ª–∏, —â–æ –±–∞–≥–∞—Ç–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `&` ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –£ **–†–æ–∑–¥—ñ–ª—ñ 9: Borrowing** –≤–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –≤–∏–≤—á–∏—Ç–µ —Ü—é –∫–æ–Ω—Ü–µ–ø—Ü—ñ—é: —è–∫ "–ø–æ–∑–∏—á–∞—Ç–∏" –¥–∞–Ω—ñ –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á—ñ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è.

---

> **–ù–∞—Å—Ç—É–ø–Ω–∏–π —Ä–æ–∑–¥—ñ–ª:** [–†–æ–∑–¥—ñ–ª 9: Borrowing ‚Äî –Ü–º–º—É—Ç–∞–±–µ–ª—å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è](./09_Borrowing_immut.md)
